{"version":3,"sources":["webpack:///./client/libs/rawinflate/rawinflate.min.js","webpack:///./client/libs/fairygui/fairygui.js","webpack:///./client/libs/annieCore.js","webpack:///./client/ui.js","webpack:///./~/printf/lib/printf.js","webpack:///(webpack)/~/node-libs-browser/~/util/util.js","webpack:///(webpack)/~/node-libs-browser/~/util/support/isBufferBrowser.js","webpack:///(webpack)/~/node-libs-browser/~/util/~/inherits/inherits_browser.js","webpack:///(webpack)/~/node-libs-browser/~/stream-browserify/index.js","webpack:///(webpack)/~/node-libs-browser/~/stream-browserify/~/inherits/inherits_browser.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/readable.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/lib/_stream_readable.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/~/process-nextick-args/index.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/~/isarray/index.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/~/buffer-shims/index.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/~/core-util-is/lib/util.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/~/inherits/inherits_browser.js","webpack:///util (ignored)","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/lib/internal/streams/BufferList.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/lib/_stream_duplex.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/lib/_stream_writable.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/~/util-deprecate/browser.js","webpack:///(webpack)/~/node-libs-browser/~/string_decoder/index.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/lib/_stream_transform.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/lib/_stream_passthrough.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/writable.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/duplex.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/transform.js","webpack:///(webpack)/~/node-libs-browser/~/readable-stream/passthrough.js","webpack:///./client/etc.js","webpack:///./client/windows.js","webpack:///./client/res/snd/bg-lobby.mp3","webpack:///./client/res/majiang@atlas0.png","webpack:///./client/res/majiang.fui","webpack:///./client/wechat-login.js?c512","webpack:///./client/majiang.js?a53c"],"names":["async","require","me","printf","etc","wins","Loader","laya","net","Handler","utils","innerStage","toMinuteStr","num","Math","floor","capitalizeFirstLetter","string","charAt","toUpperCase","slice","HallUI","opt","pack","c","_view","getChild","text","userid","nick","Laya","SoundManager","playMusic","cb","loader","load","url","type","IMAGE","BUFFER","create","hall","fairygui","UIPackage","addPackage","createObject","asCom","onClick","_socket","sendp","code","roomtype","uidefine","args","arguments","creator","apply","uiCreator","name","ui","views","current","get","viewname","self","err","view","console","log","active","deactive","GRoot","inst","removeChild","stopAll","setSize","width","height","addRelation","RelationType","Size","addChild","module","exports","toCoinStr","coin","toString","_noop","Win","comName","packageName","closeHandler","contentPane","assignAllBtns","center","setPivot","cls","GButton","asButton","hide","bg","getChildAt","GGraph","alpha","Tween","to","Ease","quadOut","onShown","hideImmediately","cl","_children","i","length","btn","_n","split","_idx","ctrl","getController","selectedIndex","setSelectedIndex","com","candiName","win","show","Window","CreateRoomWin","now","Date","freeExpire","freetime","tip","ceil","makeRoom","pane","mainctrl","already_set","setDefault","str","localStorage","getItem","selectedPage","o","JSON","parse","e","fangka","dizhu","_m","selected","rule","on","Number","pan","setItem","stringify","JoinRoomWinInst","JoinRoomWin","cont","roomcode","drawNum","push","arrToNum","pop","arr","x","TipWin","_tip","Error","message","_opt","waitHandler","_inited","modal","trans_show","getTransition","setXY","stage","desginWidth","textWidth","play","run","setTimeout"],"mappings":";;;;;;;AAAA;AACA;;AAEA,uGAAsG,aAAa,WAAW,gBAAgB,uBAAuB,qDAAqD,UAAU,wBAAwB,mDAAmD,yIAAyI,cAAc,kEAAkE,QAAQ,IAAI,sCAAsC,OAAO,+BAA+B,IAAI,IAAI,QAAQ,KAAK,EAAE,QAAQ,IAAI,iBAAiB,IAAI,IAAI,QAAQ,IAAI,qBAAqB,UAAU,QAAQ,IAAI,YAAY,IAAI,IAAI,MAAM,MAAM,eAAe,gBAAgB,UAAU,aAAa,8BAA8B,iCAAiC,UAAU,SAAS,UAAU,YAAY,gIAAgI,eAAe,oBAAoB,kDAAkD,MAAM,gBAAgB,wCAAwC,cAAc,cAAc,cAAc,MAAM;AACptC,GAAE;AACF,0BAAyB,KAAK,QAAQ,EAAE,gBAAgB,iBAAiB,OAAO,UAAU,oGAAoG,gBAAgB,gEAAgE,mBAAmB,iEAAiE,mBAAmB,0EAA0E,sDAAsD,eAAe,YAAY;AAChhB,YAAW,EAAE,MAAM,KAAK,0CAA0C,UAAU,IAAI,eAAe,SAAS,WAAW,SAAS,MAAM,YAAY,aAAa,WAAW,IAAI,EAAE,MAAM,6CAA6C,0CAA0C,UAAU,IAAI,eAAe,SAAS,SAAS,SAAS,MAAM,mBAAmB,MAAM,eAAe,MAAM,2CAA2C;AACha;AACA,iEAAgE,IAAI,eAAe,IAAI,sCAAsC,8CAA8C,IAAI,eAAe,IAAI,WAAW,WAAW,gBAAgB,iDAAiD,IAAI,EAAE,8CAA8C,aAAa,KAAK,aAAa,UAAU,QAAQ,MAAM;AACpY,iBAAgB,iEAAiE,aAAa,mBAAmB,gBAAgB,SAAS,SAAS,QAAQ,MAAM;AACjK,eAAc,kBAAkB,mBAAmB,QAAQ,IAAI,uBAAuB,0BAA0B,IAAI,UAAU,MAAM,0BAA0B,IAAI,UAAU,IAAI,MAAM,2BAA2B,IAAI,UAAU,IAAI,MAAM,mBAAmB,SAAS,SAAS,oFAAoF,QAAQ,IAAI,mBAAmB,OAAO,IAAI,eAAe,IAAI,cAAc,OAAO,8BAA8B,8BAA8B;AAChf,4CAA2C,4BAA4B,sBAAsB,SAAS,+BAA+B,oBAAoB,wDAAwD,KAAK,QAAQ,OAAO,0BAA0B,YAAY,OAAO,0BAA0B,qCAAqC,KAAK,IAAI,eAAe,KAAK,UAAU,oBAAoB;AAC5Y,6BAA4B,sBAAsB,SAAS,2BAA2B,oBAAoB,iDAAiD,KAAK,QAAQ,OAAO,0BAA0B,YAAY,OAAO,0BAA0B,+BAA+B,KAAK,IAAI,eAAe,KAAK,UAAU,oBAAoB;AAChV,0BAAyB,yEAAyE,uCAAuC,KAAK,IAAI,eAAe,IAAI,oBAAoB,eAAe,iBAAiB,kCAAkC,aAAa,QAAQ,gBAAgB,aAAa;AAC7S,2BAA0B,iEAAiE,oEAAoE,mGAAmG,qCAAqC;AACvS,0BAAyB,sFAAsF,kFAAkF,IAAI,eAAe,IAAI,KAAK,OAAO,IAAI,eAAe,IAAI,gBAAgB,QAAQ,aAAa,IAAI,gBAAgB,UAAU;AAC9T,0BAAyB,eAAe,gIAAgI,sBAAsB,uBAAuB,wDAAwD,OAAO,mBAAmB,SAAS,gCAAgC,kCAAkC,IAAI,eAAe,IAAI,oDAAoD,aAAa;;AAE1c,EAAC,e;;;;;;;;;AClBD;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,WAAW;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,qBAAqB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,+BAA+B,0CAA0C,0BAA0B,yCAAyC,2BAA2B,sCAAsC,8BAA8B;;AAEhP;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,aAAa;AAC9B;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM,aAAa;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,SAAS;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,6BAA4B,yCAAyC,2BAA2B;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,KAAK;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,gCAAgC,KAAK;AACpD;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,aAAa;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,cAAc;AAC1B;AACA;AACA;AACA;AACA;AACA,kBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAoC,MAAM;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAgC,oBAAoB,oBAAoB,sBAAsB;AAC9F;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC,8CAA8C,sBAAsB;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAqB;AACrB;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,qBAAqB;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8CAA6C;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,IAAI;AACpB;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,IAAI;AACpB,kBAAiB,IAAI;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAgC;AAChC;AACA;AACA;AACA,gBAAe,qBAAqB;AACpC;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAkE,8BAA8B;AAChG;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY,aAAa;AACzB;AACA;AACA;AACA;AACA,wBAAuB,MAAM;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,aAAa;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,aAAa;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,QAAQ;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS,QAAQ;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,eAAe;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,eAAe;AAC3B;AACA,aAAY,eAAe;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,YAAY;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,YAAY;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM,0BAA0B;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM,mEAAmE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM,eAAe;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,0DAA0D;AAC/E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA,gCAA+B;AAC/B;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,0DAA0D;AAC/E;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,WAAW;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,KAAI;AACJ;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,WAAW;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0BAAyB,aAAa;AACtC;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,MAAM;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,MAAM;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,QAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,UAAU;AACxB;AACA;AACA;AACA;AACA,eAAc,UAAU;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAgC,uBAAuB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,QAAQ;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD,MAAM;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,uBAAuB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,uBAAuB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD,MAAM;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,uBAAuB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,uBAAuB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,2BAA2B;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,cAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,aAAa;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,kBAAkB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,cAAc;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY,aAAa;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,cAAc;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,cAAc;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,uBAAuB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,UAAU;AACxB;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,mBAAmB;AACpD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,4BAA2B;AAC3B;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ,MAAM;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAAyC,MAAM;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0CAAyC,MAAM;AAC/C;AACA;AACA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,WAAW;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,uCAAsC;AACtC;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,oCAAmC;AACnC;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;;;AAGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA,IAAG;;AAEH;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA,GAAE;;;AAGF;AACA,EAAC;AACD,EAAC,e;;;;;;;;;ACnsbD;AACA;;AAEA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA,mCAAkC,WAAW;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,SAAS;AAC5B;AACA,4EAA2E,aAAa;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,mBAAmB;AACtC,oBAAmB,OAAO;AAC1B,sBAAqB,QAAQ;AAC7B;AACA;AACA,mCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,SAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,QAAQ;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,+BAA+B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,OAAO;AACtC,gCAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,gCAA+B,OAAO;AACtC,gCAA+B,OAAO;AACtC,gCAA+B,OAAO;AACtC,gCAA+B,OAAO;AACtC,iCAAgC,QAAQ;AACxC,iCAAgC,QAAQ;AACxC;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,OAAO;AAC9B,wBAAuB,OAAO;AAC9B,wBAAuB,YAAY;AACnC,0BAAyB;AACzB;AACA;AACA;AACA;AACA,qCAAoC,WAAW;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,aAAa;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,aAAa;AAChC,oBAAmB,aAAa;AAChC,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,gCAA+B,OAAO;AACtC,gCAA+B,OAAO;AACtC,oCAAmC,WAAW;AAC9C,qCAAoC,YAAY;AAChD;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,gBAAgB;AACnC,oBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B,uBAAuB;AACnD;AACA;AACA;AACA,4BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA,6BAA4B,uBAAuB;AACnD;AACA;AACA;AACA,4BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA,4BAA2B;AAC3B,4BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B,sBAAqB;AACrB;AACA;AACA,iCAAgC,WAAW;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B,sBAAqB;AACrB;AACA;AACA,iCAAgC,WAAW;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B,oBAAmB,QAAQ;AAC3B,sBAAqB;AACrB;AACA;AACA,2CAA0C,sBAAsB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,UAAU;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,UAAU;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,kBAAkB;AACrC,oBAAmB,gBAAgB;AACnC;AACA;AACA,yCAAwC,mBAAmB;AAC3D,mCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,WAAW;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,aAAa;AAChC,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,MAAM;AAC7B,wBAAuB,MAAM;AAC7B,wBAAuB,MAAM;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,MAAM;AAC7B,wBAAuB,MAAM;AAC7B,wBAAuB,MAAM;AAC7B,wBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA,4CAA2C,eAAe;AAC1D;AACA;AACA;AACA;AACA;AACA,wBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA,sDAAqD;AACrD,oCAAmC,QAAQ;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,YAAY;AAC/B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,OAAO;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,kCAAiC,SAAS;AAC1C,kCAAiC,SAAS;AAC1C,kCAAiC,SAAS;AAC1C,kCAAiC,SAAS;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,oBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,wCAAuC,eAAe;AACtD;AACA;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB,oBAAmB,MAAM;AACzB,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,wCAAuC,eAAe;AACtD;AACA;AACA;AACA;AACA;AACA,oBAAmB,MAAM;AACzB,oBAAmB,aAAa;AAChC,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,wCAAuC,eAAe;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,WAAW;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,UAAU;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,SAAS;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,UAAU;AACrC;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA,sBAAqB;AACrB;AACA,sBAAqB;AACrB;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B,oBAAmB,QAAQ;AAC3B,sBAAqB;AACrB;AACA;AACA;AACA;AACA,2CAA0C,sBAAsB;AAChE;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,UAAU;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,SAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,QAAQ;AAC3B,oBAAmB,QAAQ;AAC3B,sBAAqB,IAAI;AACzB;AACA;AACA;AACA;AACA,wCAAuC,kBAAkB;AACzD,0CAAyC,qBAAqB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B,oBAAmB,QAAQ;AAC3B,sBAAqB;AACrB;AACA;AACA;AACA;AACA,2CAA0C,sBAAsB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,QAAQ;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,cAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,mBAAmB;AACtC,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,kDAAiD,mCAAmC;AACpF,cAAa;AACb;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA0D;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAiD,mCAAmC;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,wBAAwB;AACrE,gDAA+C,0BAA0B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO,aAAa,OAAO;AAC9C,oBAAmB,SAAS,aAAa,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA,4BAA2B,WAAW;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA,8CAA6C,wBAAwB;AACrE,gDAA+C,0BAA0B;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO,YAAY,cAAc;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,gBAAgB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,QAAQ;AAC3B;AACA;AACA,sCAAqC,gBAAgB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,2BAA2B;AACtD;AACA;AACA;AACA,4BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C;AAC9C;AACA;AACA;AACA;AACA,wCAAuC,wBAAwB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;AACA,+BAA8B,oBAAoB,uCAAuC;AACzF;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,mCAAkC,UAAU;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD,OAAO;AAChE;AACA;AACA;AACA;AACA;AACA,wCAAuC,YAAY;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,WAAW;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,sBAAsB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,QAAQ;AAC3B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,QAAQ;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA,wCAAuC,2BAA2B;AAClE,mCAAkC,YAAY;AAC9C,mCAAkC,aAAa;AAC/C,wCAAuC,gBAAgB;AACvD,wCAAuC,2BAA2B;AAClE,yCAAwC,gBAAgB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,SAAS;AACxC;AACA,oCAAmC,UAAU;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,SAAS;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,eAAe;AAClC,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,oCAAmC,iBAAiB;AACpD,sCAAqC,aAAa;AAClD,sCAAqC,aAAa;AAClD,mCAAkC,UAAU;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B;AACA;AACA,wCAAuC,kBAAkB;AACzD;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,4CAA2C,mBAAmB;AAC9D,8CAA6C,qBAAqB;AAClE,6CAA4C,oBAAoB;AAChE,8CAA6C,qBAAqB;AAClE,wCAAuC,eAAe;AACtD,0CAAyC,iBAAiB;AAC1D,yCAAwC,gBAAgB;AACxD,0CAAyC,iBAAiB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA,wCAAuC,kBAAkB;AACzD;AACA;AACA;AACA;AACA;AACA,4BAA2B,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+IAA8I;AAC9I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA,wCAAuC,kBAAkB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,OAAO;AAClC;AACA;AACA;AACA;AACA,kEAAiE;AACjE,sEAAqE;AACrE,2EAA0E;AAC1E,2EAA0E;AAC1E;AACA;AACA;AACA;AACA,wBAAuB,OAAO;AAC9B,4BAA2B,OAAO;AAClC;AACA;AACA,4BAA2B,OAAO;AAClC;AACA,gCAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,oCAAmC,WAAW;AAC9C,oCAAmC,WAAW;AAC9C,sCAAqC,aAAa;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA,wCAAuC,kBAAkB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA,wBAAuB,UAAU;AACjC,8BAA6B;AAC7B;AACA;AACA,wBAAuB;AACvB;AACA,wBAAuB,UAAU;AACjC,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,UAAU;AACrC;AACA;AACA;AACA;AACA;AACA,mCAAkC,UAAU;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,OAAO;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,cAAc;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,OAAO;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC,OAAO;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,UAAU;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,mBAAmB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD;AACpD,wCAAuC;AACvC,wCAAuC;AACvC,kDAAiD;AACjD,sDAAqD;AACrD,wCAAuC;AACvC,yCAAwC;AACxC,mCAAkC;AAClC,oCAAmC;AACnC,oEAAmE;AACnE,uBAAsB,qBAAqB;AAC3C,kEAAiE;AACjE,oEAAmE;AACnE,0CAAyC,gBAAgB,4BAA4B,yCAAyC,4BAA4B,6DAA6D,4BAA4B,iFAAiF,6BAA6B;AACjW,uBAAsB,KAAK;AAC3B,oEAAmE;AACnE,yCAAwC;AACxC,oCAAmC;AACnC,2CAA0C;AAC1C,uBAAsB,mBAAmB;AACzC,2CAA0C;AAC1C,uBAAsB,mBAAmB;AACzC,2CAA0C;AAC1C,uBAAsB,mBAAmB;AACzC,2CAA0C;AAC1C,uBAAsB;AACtB,6EAA4E;AAC5E,uBAAsB;AACtB,uBAAsB;AACtB;AACA;AACA;AACA,qDAAoD;AACpD,yCAAwC;AACxC,0CAAyC;AACzC,wCAAuC;AACvC,wCAAuC;AACvC,2CAA0C;AAC1C,2CAA0C;AAC1C,mCAAkC;AAClC,uFAAsF;AACtF,8DAA6D;AAC7D,kCAAiC;AACjC,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,oBAAoB;AACvC,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA2C,uBAAuB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,wBAAwB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAwC,mBAAmB;AAC3D,oCAAmC,WAAW;AAC9C,qCAAoC,YAAY;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,QAAQ;AAC3B;AACA;AACA,2CAA0C,sBAAsB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B;AAC/B;AACA,oDAAmD,qDAAqD;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yFAAwF;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,SAAS;AAC5B,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B;AACA;AACA,qCAAoC,aAAa;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,SAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,sBAAsB;AACzC;AACA;AACA,iCAAgC,WAAW;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA,uCAAsC,iBAAiB;AACvD,yCAAwC,mBAAmB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,QAAQ;AAC3B,oBAAmB,QAAQ;AAC3B,oBAAmB,OAAO;AAC1B,oBAAmB,QAAQ;AAC3B,sBAAqB;AACrB;AACA;AACA,qCAAoC,gBAAgB;AACpD,mCAAkC,cAAc;AAChD,uCAAsC,qBAAqB;AAC3D,yCAAwC,oBAAoB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,IAAI;AACvB,oBAAmB,OAAO;AAC1B,oBAAmB,SAAS;AAC5B,oBAAmB,SAAS;AAC5B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,yDAAyD;AAC9D,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,aAAa;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,eAAe;AAClC,oBAAmB,eAAe;AAClC,oBAAmB,SAAS;AAC5B,oBAAmB,MAAM;AACzB,oBAAmB,SAAS;AAC5B,oBAAmB,SAAS;AAC5B,oBAAmB,QAAQ,2BAA2B;AACtD,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,oBAAmB,eAAe;AAClC,oBAAmB,eAAe;AAClC,oBAAmB,SAAS;AAC5B,oBAAmB,MAAM;AACzB,oBAAmB,SAAS;AAC5B,oBAAmB,SAAS;AAC5B,oBAAmB,QAAQ,2BAA2B;AACtD,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA,4BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAqC,QAAQ;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO,WAAW,WAAW,MAAM,wBAAwB;AAC1E,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA,+BAA8B,aAAa;AAC3C,mCAAkC,iBAAiB;AACnD,kCAAiC,cAAc;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA,EAAC,sBAAsB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC,e;;;;;;;;;ACtxRD;;;;;;AAEA,KAAIA,QAAM,mBAAAC,CAAQ,eAAR,CAAV;AAAA,KAA4BC,KAAG,mBAAAD,CAAQ,qBAAR,CAA/B;AAAA,KAAuDE,SAAO,mBAAAF,CAAQ,gBAAR,CAA9D;AAAA,KAAiFG,MAAI,mBAAAH,CAAQ,kBAAR,CAArF;AACA,KAAII,OAAK,mBAAAJ,CAAQ,sBAAR,CAAT;;AAEA,KAAIK,SAASC,KAAKC,GAAL,CAASF,MAAtB;AACA,KAAIG,UAAUF,KAAKG,KAAL,CAAWD,OAAzB;AACA,KAAIE,UAAJ;;AAEA,UAASC,WAAT,CAAqBC,GAArB,EAA0B;AACzB,SAAOV,OAAO,WAAP,EAAoBW,KAAKC,KAAL,CAAWF,MAAI,EAAf,CAApB,EAAyCA,MAAI,EAA7C,CAAP;AACA;AACD,UAASG,qBAAT,CAA+BC,MAA/B,EAAuC;AACnC,SAAOA,OAAOC,MAAP,CAAc,CAAd,EAAiBC,WAAjB,KAAiCF,OAAOG,KAAP,CAAa,CAAb,CAAxC;AACH;;KACKC,M;AACL,kBAAYC,GAAZ,EAAiB;AAAA;;AAChB,QAAKA,GAAL,GAASA,GAAT;AACA;;;;uBAwBGC,I,EAAM;AACT,YAAOA,KAAKC,CAAZ;AACC,UAAK,QAAL;AACC,WAAKC,KAAL,CAAWC,QAAX,CAAoB,KAApB,MAA+B,KAAKD,KAAL,CAAWC,QAAX,CAAoB,KAApB,EAA2BC,IAA3B,IAAiC,sCAAoCJ,KAAKK,MAAzC,GAAgD,KAAhD,GAAsDL,KAAKM,IAA3D,GAAgE,cAAhI;AACD;AACA,UAAK,SAAL;AACC,WAAKJ,KAAL,CAAWC,QAAX,CAAoB,KAApB,MAA+B,KAAKD,KAAL,CAAWC,QAAX,CAAoB,KAApB,EAA2BC,IAA3B,IAAiC,sCAAoCJ,KAAKK,MAAzC,GAAgD,KAAhD,GAAsDL,KAAKM,IAA3D,GAAgE,UAAhI;AACD;AACA;AACC,aAAO,KAAP;AARF;AAUA,WAAO,IAAP;AACA;;;4BACQ;AACRC,SAAKC,YAAL,CAAkBC,SAAlB,CAA4B,mBAAA/B,CAAQ,gCAAR,CAA5B;AACA;;;8BACU;AACV;AACA;;;0BAzCaqB,G,EAAKW,E,EAAI;AACtB,QAAI,OAAOX,GAAP,KAAa,UAAjB,EAA6B;AAACW,UAAGX,GAAH,CAAQA,MAAI,EAAJ;AAAO;AAC7CQ,SAAKI,MAAL,CAAYC,IAAZ,CAAiB,CAChB,EAAEC,KAAK,mBAAAnC,CAAQ,kCAAR,CAAP,EAA4CoC,MAAM/B,OAAOgC,KAAzD,EADgB,EAEhB,EAAEF,KAAK,mBAAAnC,CAAQ,2BAAR,CAAP,EAAqCoC,MAAM/B,OAAOiC,MAAlD,EAFgB,CAAjB,EAGG9B,QAAQ+B,MAAR,CAAe,IAAf,EAAqB,YAAW;AAClC,SAAIC,OAAK,IAAIpB,MAAJ,CAAWC,GAAX,CAAT;AACAoB,cAASC,SAAT,CAAmBC,UAAnB,CAA8B,SAA9B;AACA,SAAInB,QAAQiB,SAASC,SAAT,CAAmBE,YAAnB,CAAgC,SAAhC,EAA2C,YAA3C,EAAyDC,KAArE;AACAL,UAAKhB,KAAL,GAAWA,KAAX;;AAEAA,WAAMC,QAAN,CAAe,IAAf,EAAqBqB,OAArB,CAA6B,IAA7B,EAAmC,YAAW;AAC7CC,cAAQC,KAAR,CAAc,EAACzB,GAAE,MAAH,EAAW0B,MAAKzB,MAAMC,QAAN,CAAe,IAAf,EAAqBC,IAArC,EAAd;AACA,MAFD;;AAIAF,WAAMC,QAAN,CAAe,IAAf,EAAqBqB,OAArB,CAA6B,IAA7B,EAAmC,YAAW;AAC7CC,cAAQC,KAAR,CAAc,EAACzB,GAAE,WAAH,EAAe2B,UAAS,SAAxB,EAAd;AACA,MAFD;;AAIAlB,QAAG,IAAH,EAASQ,IAAT;AACA,KAfE,CAHH;AAmBA;;;;;;AAuBF,KAAIW,WAAS;AACZ,kBAAe,wBAAW;AACzB,OAAIC,OAAKC,SAAT;AACA,OAAIpB,SAAO,mBAAAjC,CAAQ,kCAAR,CAAX;AACAiC,UAAO,UAASqB,OAAT,EAAkB;AACxBA,YAAQC,KAAR,CAAc,IAAd,EAAoBH,IAApB;AACA,IAFD;AAGA,GAPW;AAQZ,UAAOhC,OAAOmB,MARF;AASZ,iBAAc,uBAAW;AACxB,OAAIa,OAAKC,SAAT;AACA,OAAIpB,SAAO,mBAAAjC,CAAQ,6BAAR,CAAX;AACAiC,UAAO,UAASqB,OAAT,EAAkB;AACxBA,YAAQC,KAAR,CAAc,IAAd,EAAoBH,IAApB;AACA,IAFD;AAGA;AAfW,EAAb;AAiBA,KAAII,YAAU,SAAVA,SAAU,CAASC,IAAT,EAAepC,GAAf,EAAoBW,EAApB,EAAwB;AACrC,MAAImB,SAASM,IAAT,CAAJ,EAAoB;AACnB,UAAON,SAASM,IAAT,EAAepC,GAAf,EAAoBW,EAApB,CAAP;AACA;AACDA,KAAG,cAAH;AACA,EALD;AAMA,KAAI0B,KAAG;AACNC,SAAM,EADA;AAENC,WAAQ,IAFF;AAGNC,OAAI,aAASC,QAAT,EAAmBzC,GAAnB,EAAwBW,EAAxB,EAA4B;AAC/B,OAAI+B,OAAK,IAAT;AACA;AACAP,aAAUM,QAAV,EAAoBzC,GAApB,EAAyB,UAAS2C,GAAT,EAAcC,IAAd,EAAoB;AAC5CC,YAAQC,GAAR,CAAYL,QAAZ,EAAsB,SAAtB;AACA,QAAIE,GAAJ,EAAS,OAAOhC,GAAGgC,GAAH,CAAP;AACT;AACAhC,OAAG,IAAH,EAASiC,IAAT;AACA,IALD;AAMA,GAZK;AAaNG,UAAO,gBAASN,QAAT,EAAmBzC,GAAnB,EAAwBW,EAAxB,EAA4B;AAClC,OAAI+B,OAAK,IAAT;AACA,QAAKF,GAAL,CAASC,QAAT,EAAmBzC,GAAnB,EAAwB,UAAS2C,GAAT,EAAcC,IAAd,EAAmB;AAC1C,QAAID,GAAJ,EAAS,OAAQhC,MAAMA,GAAGgC,GAAH,CAAd;AACTE,YAAQC,GAAR,CAAY,OAAZ,EAAqBL,QAArB;AACA,QAAIG,QAAMF,KAAKH,OAAf,EAAwB,OAAQ5B,MAAMA,GAAG,IAAH,EAASiC,IAAT,CAAd;AACxB,QAAIF,KAAKH,OAAT,EAAkB;AACjBG,UAAKH,OAAL,CAAaS,QAAb,IAAyBN,KAAKH,OAAL,CAAaS,QAAb,EAAzB;AACA5B,cAAS6B,KAAT,CAAeC,IAAf,CAAoBC,WAApB,CAAgCT,KAAKH,OAAL,CAAapC,KAA7C;AACA;AACDK,SAAKC,YAAL,CAAkB2C,OAAlB;AACAR,SAAKzC,KAAL,CAAWkD,OAAX,CAAmBjC,SAAS6B,KAAT,CAAeC,IAAf,CAAoBI,KAAvC,EAA8ClC,SAAS6B,KAAT,CAAeC,IAAf,CAAoBK,MAAlE;AACAX,SAAKzC,KAAL,CAAWqD,WAAX,CAAuBpC,SAAS6B,KAAT,CAAeC,IAAtC,EAA4C9B,SAASqC,YAAT,CAAsBC,IAAlE;AACAtC,aAAS6B,KAAT,CAAeC,IAAf,CAAoBS,QAApB,CAA6Bf,KAAKzC,KAAlC;AACAuC,SAAKH,OAAL,GAAaK,IAAb;AACAjC,UAAMA,GAAG,IAAH,EAASiC,IAAT,CAAN;AACA,IAdD;AAeA;AA9BK,EAAP;;AAiCAgB,QAAOC,OAAP,GAAexB,EAAf,C;;;;;;;;;;ACtHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,yBAAyB;AAChD;;AAEA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,2CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,yCAAwC,MAAM;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA,6EAA4E;AAC5E;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB;AACnB;AACA;AACA,0EAAyE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA6B;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;;;;;;;;;ACndA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,wBAAuB,SAAS;AAChC;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6CAA4C,KAAK;;AAEjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,MAAK;AACL;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA,oCAAmC,OAAO;AAC1C;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;;AAGA;AACA;AACA,0DAAyD;AACzD;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT;AACA;AACA,YAAW;AACX;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB;AACA,YAAW,SAAS;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;ACzkBA;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACtBA;AACA;AACA,kDAAkC;AAClC,IAAG;AACH,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;ACfA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG,aAAa;AAChB;AACA;AACA,EAAC;AACD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,4EAA2E,6EAA6E;AACxJ;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,uDAAsD;;AAEtD;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6EAA4E;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,8DAA6D;AAC7D;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uCAAsC;;AAEtC;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA2D;AAC3D;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gDAA+C;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,SAAS;AAC5B;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA,6EAA4E;;AAE5E;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oDAAmD;AACnD;AACA,oDAAmD,iEAAiE;AACpH;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAsC;AACtC;AACA;AACA;AACA;AACA,wCAAuC;AACvC,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC;AACvC,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAgC,OAAO;AACvC;AACA;AACA;;AAEA;AACA,iCAAgC,OAAO;AACvC;AACA;AACA;AACA,E;;;;;;;;;;AC56BA;;AAEA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;;;;;;;;;;AC1CA,kBAAiB;;AAEjB;AACA;AACA;;;;;;;;;;ACJA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACtBA,gB;;;;;;;;;ACAA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe;AACf,+CAA8C;AAC9C;AACA;AACA;;AAEA;AACA,gBAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uDAAsD;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,G;;;;;;;;;AC/DA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iCAAgC,OAAO;AACvC;AACA;AACA,E;;;;;;;;;AC1EA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG,aAAa;AAChB;AACA;AACA,EAAC;AACD;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL,IAAG;AACH,EAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;AACH,EAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mDAAkD;;AAElD;;AAEA,4CAA2C;AAC3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oDAAmD;AACnD;AACA;;AAEA;AACA;AACA,qCAAoC;;AAEpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,qDAAoD;AACpD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6CAA4C;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,E;;;;;;;;;;;ACxiBA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,SAAS;AACpB,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAQ,OAAO;AACf;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;AC5NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK,EAAE;AACP,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,E;;;;;;;;;ACrLA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,G;;;;;;;;;ACzBA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA,KAAIxD,SAAO,mBAAAF,CAAQ,gBAAR,CAAX;;AAEAiF,QAAOC,OAAP,GAAe;AACXC,gBAAU,mBAASC,IAAT,EAAe;AACrB,aAAI,CAACA,IAAL,EAAW,OAAO,GAAP;AACX,aAAIA,OAAK,MAAT,EAAiB,OAAOlF,OAAO,OAAP,EAAgBkF,OAAK,MAArB,CAAP;AACjB,gBAAOA,KAAKC,QAAL,EAAP;AACH,MALU;AAMXC,YAAM,iBAAU,CAAE;AANP,EAAf,C;;;;;;;;;;;;;;;;;;;;;ACFA,KAAIjF,SAASC,KAAKC,GAAL,CAASF,MAAtB;AACA,KAAIG,UAAUF,KAAKG,KAAL,CAAWD,OAAzB;AACA,KAAIP,KAAG,mBAAAD,CAAQ,qBAAR,CAAP;;KAEMuF,G;;;AACL,eAAYC,OAAZ,EAAqBC,WAArB,EAAkCC,YAAlC,EAAgD;AAAA;;AAAA;;AAE/C,OAAI,OAAOD,WAAP,IAAoB,UAAxB,EAAoC;AAACC,mBAAaD,WAAb,CAA0BA,cAAY,IAAZ;AAAiB;AAChF,SAAKD,OAAL,GAAaA,OAAb,CAAqB,MAAKC,WAAL,GAAiBA,eAAa,SAA9B;AACrB,SAAKC,YAAL,GAAkBA,YAAlB;AAJ+C;AAK/C;;;;4BACQ;AACR,SAAKC,WAAL,GAAmBlD,SAASC,SAAT,CAAmBE,YAAnB,CAAgC,KAAK6C,WAArC,EAAkD,KAAKD,OAAvD,EAAgE3C,KAAnF;AACA,SAAK+C,aAAL;;AAEA,SAAKC,MAAL;;AAEA;AACA,SAAKC,QAAL,CAAc,GAAd,EAAmB,GAAnB;;AAEA,QAAI/B,OAAK,IAAT;AACA,QAAIgC,MAAI,KAAKJ,WAAL,CAAiBlE,QAAjB,CAA0B,aAA1B,KAA0C,KAAKkE,WAAL,CAAiBlE,QAAjB,CAA0B,OAA1B,CAAlD;AACA,QAAIsE,eAAetD,SAASuD,OAA5B,EAAqCD,IAAIE,QAAJ,CAAanD,OAAb,CAAqB,IAArB,EAA2B,YAAW;AAC1E,UAAKoD,IAAL;AACA,SAAI,OAAOnC,KAAK2B,YAAZ,IAA0B,UAA9B,EAA0C3B,KAAK2B,YAAL;AAC1C,KAHoC;;AAKrC,QAAIS,KAAG,KAAKR,WAAL,CAAiBS,UAAjB,CAA4B,CAA5B,CAAP;AACA,QAAID,cAAc1D,SAAS4D,MAA3B,EAAmC;AAClCF,QAAGrD,OAAH,CAAW,IAAX,EAAiB,YAAW;AAC3B,WAAKoD,IAAL;AACA,UAAI,OAAOnC,KAAK2B,YAAZ,IAA0B,UAA9B,EAA0C3B,KAAK2B,YAAL;AAC1C,MAHD;AAIA;AACD;;;qCAED;AACC,SAAKY,KAAL,GAAW,IAAX;AACAhG,SAAKG,KAAL,CAAW8F,KAAX,CAAiBC,EAAjB,CAAoB,IAApB,EAA0B,EAAEF,OAAM,CAAR,EAA1B,EAAsC,GAAtC,EAA2ChG,KAAKG,KAAL,CAAWgG,IAAX,CAAgBC,OAA3D,EAAoElG,QAAQ+B,MAAR,CAAe,IAAf,EAAqB,KAAKoE,OAA1B,CAApE;AACA;;;qCAGD;AACC;AACA,SAAKC,eAAL;AACA;;;mCACe;AACf;;AADe;;AAEf,QAAIC,KAAG,KAAKlB,WAAL,CAAiBmB,SAAxB;AACA,SAAK,IAAIC,IAAE,CAAX,EAAcA,IAAEF,GAAGG,MAAnB,EAA2BD,GAA3B,EAAgC;AAC/B,SAAIE,MAAIJ,GAAGE,CAAH,EAAMd,QAAd;AACA,SAAIgB,eAAexE,SAASuD,OAA5B,EAAqC;AAAA;AACpC,WAAIkB,KAAGD,IAAIxD,IAAJ,CAAS0D,KAAT,CAAe,GAAf,CAAP;AACA,WAAIC,OAAKF,GAAG,CAAH,KAAO,CAAhB;AACAA,YAAGA,GAAG,CAAH,CAAH;AACA,WAAIG,OAAK,OAAK1B,WAAL,CAAiB2B,aAAjB,CAA+BJ,EAA/B,CAAT;AACA,WAAIG,IAAJ,EAAU;AACTJ,YAAInE,OAAJ,SAAkB,YAAW;AAC5BuE,cAAKE,aAAL,GAAmBH,IAAnB;AACA,SAFD;AAGAC,aAAKG,gBAAL,CAAsB,CAAtB;AACA,QALD,MAKO;AACN,YAAIC,MAAIhF,SAASC,SAAT,CAAmBE,YAAnB,CAAgC,SAAhC,EAA2CsE,EAA3C,CAAR;AACA,YAAIO,GAAJ,EAAS;AACRR,aAAInE,OAAJ,SAAkB,YAAW;AAC5B,cAAI4E,YAAU3G,sBAAsBmG,EAAtB,IAA0B,KAAxC;AACA,cAAI9G,KAAKsH,SAAL,CAAJ,EAAqB;AACpB,eAAIC,MAAK,IAAIvH,KAAKsH,SAAL,CAAJ,EAAT;AACA,WAFD,MAGK,IAAIC,MAAI,IAAIvH,KAAKmF,GAAT,CAAa2B,EAAb,CAAR;AACLS,cAAIC,IAAJ;AACA,UAPD;AAQA;AACD;AAtBmC;AAuBpC;AACD;AACD;;;;GAxEgBnF,SAASoF,M;;KA4ErBC,a;;;AACL,2BAAc;AAAA;;AAAA,wHACP,YADO;AAEb;;;;4BACQ;AACR;;AAEA,QAAIC,MAAI,IAAIC,IAAJ,EAAR;AACA,QAAI/H,GAAGgI,UAAH,GAAcF,GAAlB,EAAuB;AACtB,UAAKpC,WAAL,CAAiB2B,aAAjB,CAA+B,MAA/B,EAAuCC,aAAvC,GAAqD,CAArD;AACA,SAAIW,WAASjI,GAAGgI,UAAH,GAAcF,GAA3B;AACA,SAAII,MAAI,KAAKxC,WAAL,CAAiBlE,QAAjB,CAA0B,KAA1B,CAAR;AACA,SAAIyG,WAAS,KAAG,IAAH,GAAQ,IAArB,EAA2BC,IAAIzG,IAAJ,GAAS,OAAKb,KAAKuH,IAAL,CAAUF,YAAU,KAAG,IAAH,GAAQ,IAAlB,CAAV,CAAL,GAAwC,GAAjD,CAA3B,KACK,IAAIA,WAAS,OAAK,IAAlB,EAAwBC,IAAIzG,IAAJ,GAAS,OAAKb,KAAKuH,IAAL,CAAUF,YAAU,OAAK,IAAf,CAAV,CAAL,GAAqC,IAA9C,CAAxB,KACAC,IAAIzG,IAAJ,GAAS,OAAKb,KAAKuH,IAAL,CAAUF,YAAU,KAAG,IAAb,CAAV,CAAL,GAAmC,IAA5C;AACL,KAPD,MAOO;AACN,UAAKvC,WAAL,CAAiB2B,aAAjB,CAA+B,MAA/B,EAAuCC,aAAvC,GAAqD,CAArD;AACA;;AAED,SAAK5B,WAAL,CAAiBlE,QAAjB,CAA0B,IAA1B,EAAgCqB,OAAhC,CAAwC,IAAxC,EAA8C,KAAKuF,QAAnD;AACA,SAAK1C,WAAL,CAAiBlE,QAAjB,CAA0B,KAA1B,EAAiCqB,OAAjC,CAAyC,IAAzC,EAA+C,KAAKuF,QAApD;;AAEA,QAAIC,OAAK,KAAK3C,WAAd;AACA,QAAI4C,WAAS,KAAK5C,WAAL,CAAiB2B,aAAjB,CAA+B,YAA/B,CAAb;AACA,QAAIkB,cAAY,EAAhB;AACA,aAASC,UAAT,GAAsB;AACrB,SAAIC,MAAIC,aAAaC,OAAb,CAAqBL,SAASM,YAA9B,CAAR;AACA,SAAI,CAACH,GAAL,EAAU;AACV,SAAIF,YAAYE,GAAZ,KAAkB,IAAtB,EAA4B;AAC5BF,iBAAYE,GAAZ,IAAiB,CAAjB;AACA,SAAG;AACF,UAAII,IAAEC,KAAKC,KAAL,CAAWN,GAAX,CAAN;AACA,MAFD,CAEC,OAAMO,CAAN,EAAS;AAAC,aAAO/E,QAAQC,GAAR,CAAYuE,GAAZ,EAAiBO,CAAjB,CAAP;AAA2B;AACtCX,UAAKhB,aAAL,CAAmB,QAAnB,EAA6BuB,YAA7B,GAA0CC,EAAEI,MAAF,CAAS7D,QAAT,EAA1C;AACAiD,UAAKhB,aAAL,CAAmB,OAAnB,EAA4BuB,YAA5B,GAAyCC,EAAEK,KAAF,CAAQ9D,QAAR,EAAzC;AACA,SAAI+D,KAAG,CAAC,EAAD,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,CAAP;AACA,UAAK,IAAIrC,IAAE,EAAX,EAAeA,IAAE,EAAjB,EAAqBA,GAArB,EAA0B;AACzBuB,WAAK7G,QAAL,CAAc,MAAIsF,CAAlB,EAAqBd,QAArB,CAA8BoD,QAA9B,GAAuCP,EAAEQ,IAAF,CAAOF,GAAGrC,IAAE,EAAL,CAAP,CAAvC;AACA;AACD;AACD0B;AACAF,aAASgB,EAAT,CAAY,mBAAZ,EAAiC,IAAjC,EAAuCd,UAAvC;AACA;;;4BACQrG,I,EAAMf,G,EAAK;AACnB,QAAIiH,OAAK,KAAK3C,WAAd;AACA,QAAIvD,OAAKkG,KAAKhB,aAAL,CAAmB,YAAnB,EAAiCuB,YAA1C;AACA,QAAIxH,MAAI;AACP6H,aAAOM,OAAOlB,KAAKhB,aAAL,CAAmB,QAAnB,EAA6BuB,YAApC,CADA;AAEPS,WAAK,EAFE;AAGPH,YAAMK,OAAOlB,KAAKhB,aAAL,CAAmB,OAAnB,EAA4BuB,YAAnC;AAHC,KAAR;AAKA,QAAIzG,QAAM,CAAV,EAAa;AACZf,SAAIoI,GAAJ,GAAQ,GAAG,EAAH,EAAO,EAAP,EAAWpI,IAAI6H,MAAf,CAAR;AACA,KAFD,MAEM7H,IAAIoI,GAAJ,GAAQ,GAAG,EAAH,EAAO,EAAP,EAAWpI,IAAI6H,MAAf,CAAR;AACN,QAAIE,KAAG,CAAC,EAAD,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,CAAP;AACA,SAAK,IAAIrC,IAAE,EAAX,EAAeA,IAAE,EAAjB,EAAqBA,GAArB,EAA0B;AACzB1F,SAAIiI,IAAJ,CAASF,GAAGrC,IAAE,EAAL,CAAT,IAAmBuB,KAAK7G,QAAL,CAAc,MAAIsF,CAAlB,EAAqBd,QAArB,CAA8BoD,QAAjD;AACA;AACDV,iBAAae,OAAb,CAAqBtH,IAArB,EAA2B2G,KAAKY,SAAL,CAAetI,GAAf,CAA3B;;AAEA0B,YAAQC,KAAR,CAAc,EAACzB,GAAE,WAAH,EAAe2B,UAASd,IAAxB,EAA8Bf,KAAIA,GAAlC,EAAd;AACA,SAAK6E,IAAL;AACA;;;;GA9D0BX,G;;AAgE5B,KAAIqE,kBAAgB,IAApB;;KACMC,W;;;AACL,yBAAc;AAAA;;AAAA,oHACP,UADO;AAEb;;;;4BAaQ;AACR;AACA,QAAIC,OAAK,KAAKnE,WAAd;AACA,QAAIoE,WAAS,EAAb;AACA,SAAKC,OAAL,CAAaD,QAAb;AACA,SAAK,IAAIhD,IAAE,CAAX,EAAcA,IAAE,EAAhB,EAAoBA,GAApB,EAAyB;AACxB+C,UAAKrI,QAAL,CAAc,QAAMsF,CAApB,EAAuBjE,OAAvB,CAA+B,IAA/B,EAAqC,UAASlC,GAAT,EAAc;AAClD,UAAImJ,SAAS/C,MAAT,GAAgB,CAApB,EAAuB;AACtB+C,gBAASE,IAAT,CAAcrJ,GAAd;AACA,YAAKoJ,OAAL,CAAaD,QAAb;AACA,WAAIA,SAAS/C,MAAT,IAAiB,CAArB,EAAwB;AACvBjE,gBAAQC,KAAR,CAAc,EAACzB,GAAE,MAAH,EAAW0B,MAAK4G,YAAYK,QAAZ,CAAqBH,QAArB,CAAhB,EAAd;AACA,aAAK7D,IAAL;AACA;AACD;AACD,MATD,EASG,CAACa,CAAD,CATH;AAUA;AACD+C,SAAKrI,QAAL,CAAc,QAAd,EAAwBqB,OAAxB,CAAgC,IAAhC,EAAsC,YAAW;AAChDiH,cAASI,GAAT;AACA,UAAKH,OAAL,CAAaD,QAAb;AACA,KAHD;AAIAD,SAAKrI,QAAL,CAAc,QAAd,EAAwBqB,OAAxB,CAAgC,IAAhC,EAAsC,YAAW;AAChDiH,gBAAS,EAAT;AACA,UAAKC,OAAL,CAAaD,QAAb;AACA,KAHD;AAIA;;;2BACOK,G,EAAK;AACZ,QAAIN,OAAK,KAAKnE,WAAd;AACA,SAAK,IAAIoB,IAAE,CAAX,EAAcA,IAAEqD,IAAIpD,MAApB,EAA4BD,GAA5B,EAAiC;AAChC+C,UAAKrI,QAAL,CAAc,QAAMsF,CAApB,EAAuBrF,IAAvB,GAA4B0I,IAAIrD,CAAJ,EAAO1B,QAAP,EAA5B;AACA;AACD,WAAM0B,IAAE,CAAR,EAAWA,GAAX,EAAgB;AACf+C,UAAKrI,QAAL,CAAc,QAAMsF,CAApB,EAAuBrF,IAAvB,GAA4B,GAA5B;AACA;AACD;;;4BA9Ce0I,G,EAAK;AACpB,QAAIC,IAAE,CAAN;AACA,SAAK,IAAItD,IAAE,CAAX,EAAcA,IAAEqD,IAAIpD,MAApB,EAA4BD,GAA5B,EAAiC;AAChCsD,SAAEA,IAAE,EAAF,GAAKD,IAAIrD,CAAJ,CAAP;AACA;AACD,WAAOsD,CAAP;AACA;;;uBACiB;AACjB,QAAIT,eAAJ,EAAqB,OAAOA,eAAP;AACrBA,sBAAgB,IAAIC,WAAJ,EAAhB;AACA,WAAOD,eAAP;AACA;;;;GAfwBrE,G;;KAqDpB+E,M;;;AACL,kBAAY5B,GAAZ,EAAiBrH,GAAjB,EAAsB;AAAA;;AAErB;AAFqB,gHACf,KADe,EACT,SADS;;AAGrB,OAAI,OAAOqH,GAAP,IAAY,QAAhB,EAA0B,OAAK6B,IAAL,GAAU7B,GAAV,CAA1B,KACK,IAAIA,eAAe8B,KAAnB,EAA0B,OAAKD,IAAL,GAAU7B,IAAI+B,OAAd;AAC/B,OAAIpJ,GAAJ,EAAS;AACR,QAAIA,eAAeb,OAAnB,EAA4B;AAC3B,YAAKkK,IAAL,GAAU,EAACC,aAAYtJ,GAAb,EAAV;AACA,KAFD,MAEO,OAAKqJ,IAAL,GAAUrJ,GAAV;AACP,IAJD,MAIM,OAAKqJ,IAAL,GAAU,EAAV;AATe;AAUrB;;;;4BACQ;AACR;AACA,SAAKE,OAAL,GAAa,IAAb;AACA;AACA;AACA,SAAKjF,WAAL,CAAiBlE,QAAjB,CAA0B,KAA1B,EAAiCC,IAAjC,GAAsC,CAAC,KAAK6I,IAAL,IAAW,iBAAZ,EAA+BlF,QAA/B,EAAtC;AACA;AACA;AACA;AACA;AACA;;;yBACKrD,E,EAAI;AACT,QAAI+B,OAAK,IAAT;AACA,SAAK8G,KAAL,GAAW,IAAX;AACA,SAAKjD,IAAL;AACA;AACC;AACD;;;AAGA,QAAIkD,aAAW/G,KAAK4B,WAAL,CAAiBoF,aAAjB,CAA+B,IAA/B,CAAf,CATS,CAS2C;AACpD,SAAKC,KAAL,CAAW,CAACnJ,KAAKoJ,KAAL,CAAWC,WAAX,GAAyB,KAAKvF,WAAL,CAAiBlE,QAAjB,CAA0B,KAA1B,EAAiC0J,SAA3D,IAAsE,CAAtE,GAAyE,EAApF,EAAuF,GAAvF;AACA,QAAIpH,KAAK2G,IAAL,CAAUC,WAAd,EAA2B;AAC1BG,gBAAWM,IAAX,CAAgB5K,QAAQ+B,MAAR,CAAe,IAAf,EAAqB,YAAW;AAC/CP,YAAKA,IAAL;AACAS,eAAS6B,KAAT,CAAeC,IAAf,CAAoB6B,UAApB,CAA+B,CAA/B,EAAkCtD,OAAlC,CAA0C,IAA1C,EAAgD,YAAW;AAC1DiB,YAAKmC,IAAL;AACA,WAAI,OAAOnC,KAAK2G,IAAL,CAAUC,WAAjB,KAA+B,UAAnC,EAA+C5G,KAAK2G,IAAL,CAAUC,WAAV,GAA/C,KACK,IAAI5G,KAAK2G,IAAL,CAAUC,WAAV,YAAiCnK,OAArC,EAA8CuD,KAAK2G,IAAL,CAAUC,WAAV,CAAsBU,GAAtB;AACnD,OAJD;AAKA,MAPe,CAAhB;AAQA,KATD,MASM;AACLP,gBAAWM,IAAX,CAAgB5K,QAAQ+B,MAAR,CAAe,IAAf,EAAqB,YAAW;AAC/CP,YAAKA,IAAL;AACAS,eAAS6B,KAAT,CAAeC,IAAf,CAAoB6B,UAApB,CAA+B,CAA/B,EAAkCtD,OAAlC,CAA0C,IAA1C,EAA+C,YAAW;AACzDiB,YAAKmC,IAAL;AACA,OAFD;AAGAoF,iBAAW,YAAW;AACrBvH,YAAKmC,IAAL;AACA,OAFD,EAEE,IAFF;AAGA,MARe,CAAhB;AASA;AACA;AACA;AACA;AACA;AACD;;;0BACM;AACN;AACA,SAAK2E,KAAL,GAAW,KAAX;AACA;;;;GA9DmBtF,G;;AAiErB,KAAInF,OAAK;AACRmF,OAAIA,GADI;AAERuC,iBAAcA,aAFN;AAGRwC,UAAOA,MAHC;AAIRT,eAAYA;AAJJ,EAAT;AAMA5E,QAAOC,OAAP,GAAe9E,IAAf,C;;;;;;;;;AC7QA,0F;;;;;;;;;ACAA,gG;;;;;;;;;ACAA,yF;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wGAAyF;AACzF;AACA;AACA,sCAAqC,OAAO;AAC5C;AACA;AACA,EAAC,E;;;;;;;;;;;;;;;ACbD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mGAAyF;AACzF;AACA;AACA,sCAAqC,OAAO;AAC5C;AACA;AACA,EAAC,E","file":"4.4.js?7e6ef0598c546fca0157","sourcesContent":["/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n/** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License */(function() {'use strict';var l=this;function p(b,e){var a=b.split(\".\"),c=l;!(a[0]in c)&&c.execScript&&c.execScript(\"var \"+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&void 0!==e?c[d]=e:c=c[d]?c[d]:c[d]={}};var q=\"undefined\"!==typeof Uint8Array&&\"undefined\"!==typeof Uint16Array&&\"undefined\"!==typeof Uint32Array&&\"undefined\"!==typeof DataView;function t(b){var e=b.length,a=0,c=Number.POSITIVE_INFINITY,d,f,g,h,k,m,r,n,s,J;for(n=0;n<e;++n)b[n]>a&&(a=b[n]),b[n]<c&&(c=b[n]);d=1<<a;f=new (q?Uint32Array:Array)(d);g=1;h=0;for(k=2;g<=a;){for(n=0;n<e;++n)if(b[n]===g){m=0;r=h;for(s=0;s<g;++s)m=m<<1|r&1,r>>=1;J=g<<16|n;for(s=m;s<d;s+=k)f[s]=J;++h}++g;h<<=1;k<<=1}return[f,a,c]};function u(b,e){this.g=[];this.h=32768;this.c=this.f=this.d=this.k=0;this.input=q?new Uint8Array(b):b;this.l=!1;this.i=v;this.q=!1;if(e||!(e={}))e.index&&(this.d=e.index),e.bufferSize&&(this.h=e.bufferSize),e.bufferType&&(this.i=e.bufferType),e.resize&&(this.q=e.resize);switch(this.i){case w:this.a=32768;this.b=new (q?Uint8Array:Array)(32768+this.h+258);break;case v:this.a=0;this.b=new (q?Uint8Array:Array)(this.h);this.e=this.v;this.m=this.s;this.j=this.t;break;default:throw Error(\"invalid inflate mode\");\n}}var w=0,v=1;\nu.prototype.u=function(){for(;!this.l;){var b=x(this,3);b&1&&(this.l=!0);b>>>=1;switch(b){case 0:var e=this.input,a=this.d,c=this.b,d=this.a,f=e.length,g=void 0,h=void 0,k=c.length,m=void 0;this.c=this.f=0;if(a+1>=f)throw Error(\"invalid uncompressed block header: LEN\");g=e[a++]|e[a++]<<8;if(a+1>=f)throw Error(\"invalid uncompressed block header: NLEN\");h=e[a++]|e[a++]<<8;if(g===~h)throw Error(\"invalid uncompressed block header: length verify\");if(a+g>e.length)throw Error(\"input buffer is broken\");switch(this.i){case w:for(;d+\ng>c.length;){m=k-d;g-=m;if(q)c.set(e.subarray(a,a+m),d),d+=m,a+=m;else for(;m--;)c[d++]=e[a++];this.a=d;c=this.e();d=this.a}break;case v:for(;d+g>c.length;)c=this.e({o:2});break;default:throw Error(\"invalid inflate mode\");}if(q)c.set(e.subarray(a,a+g),d),d+=g,a+=g;else for(;g--;)c[d++]=e[a++];this.d=a;this.a=d;this.b=c;break;case 1:this.j(y,z);break;case 2:A(this);break;default:throw Error(\"unknown BTYPE: \"+b);}}return this.m()};\nvar B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=q?new Uint16Array(B):B,D=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],E=q?new Uint16Array(D):D,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],G=q?new Uint8Array(F):F,H=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],I=q?new Uint16Array(H):H,K=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,\n13],L=q?new Uint8Array(K):K,M=new (q?Uint8Array:Array)(288),N,O;N=0;for(O=M.length;N<O;++N)M[N]=143>=N?8:255>=N?9:279>=N?7:8;var y=t(M),P=new (q?Uint8Array:Array)(30),Q,R;Q=0;for(R=P.length;Q<R;++Q)P[Q]=5;var z=t(P);function x(b,e){for(var a=b.f,c=b.c,d=b.input,f=b.d,g=d.length,h;c<e;){if(f>=g)throw Error(\"input buffer is broken\");a|=d[f++]<<c;c+=8}h=a&(1<<e)-1;b.f=a>>>e;b.c=c-e;b.d=f;return h}\nfunction S(b,e){for(var a=b.f,c=b.c,d=b.input,f=b.d,g=d.length,h=e[0],k=e[1],m,r;c<k&&!(f>=g);)a|=d[f++]<<c,c+=8;m=h[a&(1<<k)-1];r=m>>>16;b.f=a>>r;b.c=c-r;b.d=f;return m&65535}\nfunction A(b){function e(a,b,c){var e,d=this.p,f,g;for(g=0;g<a;)switch(e=S(this,b),e){case 16:for(f=3+x(this,2);f--;)c[g++]=d;break;case 17:for(f=3+x(this,3);f--;)c[g++]=0;d=0;break;case 18:for(f=11+x(this,7);f--;)c[g++]=0;d=0;break;default:d=c[g++]=e}this.p=d;return c}var a=x(b,5)+257,c=x(b,5)+1,d=x(b,4)+4,f=new (q?Uint8Array:Array)(C.length),g,h,k,m;for(m=0;m<d;++m)f[C[m]]=x(b,3);if(!q){m=d;for(d=f.length;m<d;++m)f[C[m]]=0}g=t(f);h=new (q?Uint8Array:Array)(a);k=new (q?Uint8Array:Array)(c);b.p=0;\nb.j(t(e.call(b,a,g,h)),t(e.call(b,c,g,k)))}u.prototype.j=function(b,e){var a=this.b,c=this.a;this.n=b;for(var d=a.length-258,f,g,h,k;256!==(f=S(this,b));)if(256>f)c>=d&&(this.a=c,a=this.e(),c=this.a),a[c++]=f;else{g=f-257;k=E[g];0<G[g]&&(k+=x(this,G[g]));f=S(this,e);h=I[f];0<L[f]&&(h+=x(this,L[f]));c>=d&&(this.a=c,a=this.e(),c=this.a);for(;k--;)a[c]=a[c++-h]}for(;8<=this.c;)this.c-=8,this.d--;this.a=c};\nu.prototype.t=function(b,e){var a=this.b,c=this.a;this.n=b;for(var d=a.length,f,g,h,k;256!==(f=S(this,b));)if(256>f)c>=d&&(a=this.e(),d=a.length),a[c++]=f;else{g=f-257;k=E[g];0<G[g]&&(k+=x(this,G[g]));f=S(this,e);h=I[f];0<L[f]&&(h+=x(this,L[f]));c+k>d&&(a=this.e(),d=a.length);for(;k--;)a[c]=a[c++-h]}for(;8<=this.c;)this.c-=8,this.d--;this.a=c};\nu.prototype.e=function(){var b=new (q?Uint8Array:Array)(this.a-32768),e=this.a-32768,a,c,d=this.b;if(q)b.set(d.subarray(32768,b.length));else{a=0;for(c=b.length;a<c;++a)b[a]=d[a+32768]}this.g.push(b);this.k+=b.length;if(q)d.set(d.subarray(e,e+32768));else for(a=0;32768>a;++a)d[a]=d[e+a];this.a=32768;return d};\nu.prototype.v=function(b){var e,a=this.input.length/this.d+1|0,c,d,f,g=this.input,h=this.b;b&&(\"number\"===typeof b.o&&(a=b.o),\"number\"===typeof b.r&&(a+=b.r));2>a?(c=(g.length-this.d)/this.n[2],f=258*(c/2)|0,d=f<h.length?h.length+f:h.length<<1):d=h.length*a;q?(e=new Uint8Array(d),e.set(h)):e=h;return this.b=e};\nu.prototype.m=function(){var b=0,e=this.b,a=this.g,c,d=new (q?Uint8Array:Array)(this.k+(this.a-32768)),f,g,h,k;if(0===a.length)return q?this.b.subarray(32768,this.a):this.b.slice(32768,this.a);f=0;for(g=a.length;f<g;++f){c=a[f];h=0;for(k=c.length;h<k;++h)d[b++]=c[h]}f=32768;for(g=this.a;f<g;++f)d[b++]=e[f];this.g=[];return this.buffer=d};\nu.prototype.s=function(){var b,e=this.a;q?this.q?(b=new Uint8Array(e),b.set(this.b.subarray(0,e))):b=this.b.subarray(0,e):(this.b.length>e&&(this.b.length=e),b=this.b);return this.buffer=b};p(\"Zlib.RawInflate\",u);p(\"Zlib.RawInflate.prototype.decompress\",u.prototype.u);var T={ADAPTIVE:v,BLOCK:w},U,V,W,X;if(Object.keys)U=Object.keys(T);else for(V in U=[],W=0,T)U[W++]=V;W=0;for(X=U.length;W<X;++W)V=U[W],p(\"Zlib.RawInflate.BufferType.\"+V,T[V]);}).call(this); //@ sourceMappingURL=rawinflate.min.js.map\n\n}.call(window));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/imports-loader?this=>window!./client/libs/rawinflate/rawinflate.min.js\n// module id = 34\n// module chunks = 4","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\n\r\n(function(window,document,Laya){\r\n\tvar __un=Laya.un,__uns=Laya.uns,__static=Laya.static,__class=Laya.class,__getset=Laya.getset,__newvec=Laya.__newvec;\r\n\r\n\tvar Browser=laya.utils.Browser,Byte=laya.utils.Byte,ColorFilter=laya.filters.ColorFilter,Ease=laya.utils.Ease;\r\n\tvar Event=laya.events.Event,EventDispatcher=laya.events.EventDispatcher,Graphics=laya.display.Graphics,HTMLDivElement=laya.html.dom.HTMLDivElement;\r\n\tvar Handler=laya.utils.Handler,HitArea=laya.utils.HitArea,Input=laya.display.Input,Log=laya.utils.Log,Node=laya.display.Node;\r\n\tvar Point=laya.maths.Point,Rectangle=laya.maths.Rectangle,Render=laya.renders.Render,Sound=laya.media.Sound;\r\n\tvar SoundManager=laya.media.SoundManager,Sprite=laya.display.Sprite,Stage=laya.display.Stage,Text=laya.display.Text;\r\n\tvar Texture=laya.resource.Texture,Tween=laya.utils.Tween,Utils=laya.utils.Utils;\r\n\tLaya.interface('fairygui.IUISource');\r\n\tLaya.interface('fairygui.IColorGear');\r\n\tLaya.interface('fairygui.IAnimationGear');\r\n\t//class fairygui.AssetProxy\r\n\tvar AssetProxy=(function(){\r\n\t\tfunction AssetProxy(){\r\n\t\t\tthis._asset=null;\r\n\t\t\tthis._asset=Laya.loader;\r\n\t\t}\r\n\r\n\t\t__class(AssetProxy,'fairygui.AssetProxy');\r\n\t\tvar __proto=AssetProxy.prototype;\r\n\t\t__proto.getRes=function(url){\r\n\t\t\treturn this._asset.getRes(url);\r\n\t\t}\r\n\r\n\t\t__proto.load=function(url,complete,progress,type,priority,cache){\r\n\t\t\t(priority===void 0)&& (priority=1);\r\n\t\t\t(cache===void 0)&& (cache=true);\r\n\t\t\tthis._asset.load(url,complete,progress,type,priority,cache);\r\n\t\t}\r\n\r\n\t\t__proto.setAsset=function(asset){\r\n\t\t\tthis._asset=asset;\r\n\t\t}\r\n\r\n\t\t__getset(1,AssetProxy,'inst',function(){\r\n\t\t\tif(fairygui.AssetProxy._inst==null)\r\n\t\t\t\tAssetProxy._inst=new AssetProxy();\r\n\t\t\treturn fairygui.AssetProxy._inst;\r\n\t\t});\r\n\r\n\t\tAssetProxy._inst=null\r\n\t\treturn AssetProxy;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.AsyncOperation\r\n\tvar AsyncOperation=(function(){\r\n\t\tfunction AsyncOperation(){\r\n\t\t\tthis.callback=null;\r\n\t\t\tthis._itemList=null;\r\n\t\t\tthis._objectPool=null;\r\n\t\t\tthis._index=0;\r\n\t\t\tthis._itemList=[];\r\n\t\t\tthis._objectPool=[];\r\n\t\t}\r\n\r\n\t\t__class(AsyncOperation,'fairygui.AsyncOperation');\r\n\t\tvar __proto=AsyncOperation.prototype;\r\n\t\t__proto.createObject=function(pkgName,resName){\r\n\t\t\tvar pkg=UIPackage.getByName(pkgName);\r\n\t\t\tif(pkg){\r\n\t\t\t\tvar pi=pkg.getItemByName(resName);\r\n\t\t\t\tif(!pi)\r\n\t\t\t\t\tthrow new Error(\"resource not found: \"+resName);\r\n\t\t\t\tthis.internalCreateObject(pi);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tthrow new Error(\"package not found: \"+pkgName);\r\n\t\t}\r\n\r\n\t\t__proto.createObjectFromURL=function(url){\r\n\t\t\tvar pi=UIPackage.getItemByURL(url);\r\n\t\t\tif(pi)\r\n\t\t\t\tthis.internalCreateObject(pi);\r\n\t\t\telse\r\n\t\t\tthrow new Error(\"resource not found: \"+url);\r\n\t\t}\r\n\r\n\t\t__proto.cancel=function(){\r\n\t\t\tLaya.timer.clear(this,this.run);\r\n\t\t\tthis._itemList.length=0;\r\n\t\t\tif(this._objectPool.length>0){\r\n\t\t\t\tvar obj;\r\n\t\t\t\tfor(var $each_obj in this._objectPool){\r\n\t\t\t\t\tobj=this._objectPool[$each_obj];\r\n\t\t\t\t\tobj.dispose();\r\n\t\t\t\t}\r\n\t\t\t\tthis._objectPool.length=0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.internalCreateObject=function(item){\r\n\t\t\tthis._itemList.length=0;\r\n\t\t\tthis._objectPool.length=0;\r\n\t\t\tthis.collectComponentChildren(item);\r\n\t\t\tthis._itemList.push(new DisplayListItem(item,null));\r\n\t\t\tthis._index=0;\r\n\t\t\tLaya.timer.frameLoop(1,this,this.run);\r\n\t\t}\r\n\r\n\t\t__proto.collectComponentChildren=function(item){\r\n\t\t\titem.owner.getItemAsset(item);\r\n\t\t\tvar cnt=item.displayList.length;\r\n\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\tvar di=item.displayList[i];\r\n\t\t\t\tif (di.packageItem !=null && di.packageItem.type==4)\r\n\t\t\t\t\tthis.collectComponentChildren(di.packageItem);\r\n\t\t\t\telse if (di.type==\"list\"){\r\n\t\t\t\t\tvar defaultItem=null;\r\n\t\t\t\t\tdi.listItemCount=0;\r\n\t\t\t\t\tvar col=di.desc.childNodes;\r\n\t\t\t\t\tvar length=col.length;\r\n\t\t\t\t\tfor (var j=0;j < length;j++){\r\n\t\t\t\t\t\tvar cxml=col[j];\r\n\t\t\t\t\t\tif(cxml.nodeName !=\"item\")\r\n\t\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t\tvar url=cxml.getAttribute(\"url\");\r\n\t\t\t\t\t\tif (!url){\r\n\t\t\t\t\t\t\tif (defaultItem==null)\r\n\t\t\t\t\t\t\t\tdefaultItem=di.desc.getAttribute(\"defaultItem\");\r\n\t\t\t\t\t\t\turl=defaultItem;\r\n\t\t\t\t\t\t\tif (!url)\r\n\t\t\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tvar pi=UIPackage.getItemByURL(url);\r\n\t\t\t\t\t\tif (pi){\r\n\t\t\t\t\t\t\tif (pi.type==4)\r\n\t\t\t\t\t\t\t\tthis.collectComponentChildren(pi);\r\n\t\t\t\t\t\t\tthis._itemList.push(new DisplayListItem(pi,null));\r\n\t\t\t\t\t\t\tdi.listItemCount++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._itemList.push(di);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.run=function(){\r\n\t\t\tvar obj;\r\n\t\t\tvar di;\r\n\t\t\tvar poolStart=0;\r\n\t\t\tvar k=0;\r\n\t\t\tvar t=Browser.now();\r\n\t\t\tvar frameTime=UIConfig1.frameTimeForAsyncUIConstruction;\r\n\t\t\tvar totalItems=this._itemList.length;\r\n\t\t\twhile(this._index<totalItems){\r\n\t\t\t\tdi=this._itemList[this._index];\r\n\t\t\t\tif (di.packageItem !=null){\r\n\t\t\t\t\tobj=UIObjectFactory.newObject(di.packageItem);\r\n\t\t\t\t\tobj.packageItem=di.packageItem;\r\n\t\t\t\t\tthis._objectPool.push(obj);\r\n\t\t\t\t\tUIPackage._constructing++;\r\n\t\t\t\t\tif (di.packageItem.type==4){\r\n\t\t\t\t\t\tpoolStart=this._objectPool.length-di.packageItem.displayList.length-1;\r\n\t\t\t\t\t\t(obj).constructFromResource2(this._objectPool,poolStart);\r\n\t\t\t\t\t\tthis._objectPool.splice(poolStart,di.packageItem.displayList.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tobj.constructFromResource();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tUIPackage._constructing--;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tobj=UIObjectFactory.newObject2(di.type);\r\n\t\t\t\t\tthis._objectPool.push(obj);\r\n\t\t\t\t\tif (di.type==\"list\" && di.listItemCount > 0){\r\n\t\t\t\t\t\tpoolStart=this._objectPool.length-di.listItemCount-1;\r\n\t\t\t\t\t\tfor (k=0;k < di.listItemCount;k++)\r\n\t\t\t\t\t\t(obj).itemPool.returnObject(this._objectPool[k+poolStart]);\r\n\t\t\t\t\t\tthis._objectPool.splice(poolStart,di.listItemCount);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._index++;\r\n\t\t\t\tif ((this._index % 5==0)&& Browser.now()-t >=frameTime)\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tLaya.timer.clear(this,this.run);\r\n\t\t\tvar result=this._objectPool[0];\r\n\t\t\tthis._itemList.length=0;\r\n\t\t\tthis._objectPool.length=0;\r\n\t\t\tif(this.callback!=null)\r\n\t\t\t\tthis.callback.runWith(result);\r\n\t\t}\r\n\r\n\t\treturn AsyncOperation;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.AutoSizeType\r\n\tvar AutoSizeType=(function(){\r\n\t\tfunction AutoSizeType(){}\r\n\t\t__class(AutoSizeType,'fairygui.AutoSizeType');\r\n\t\tAutoSizeType.parse=function(value){\r\n\t\t\tswitch (value){\r\n\t\t\t\tcase \"none\":\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\tcase \"both\":\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase \"height\":\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tAutoSizeType.None=0;\r\n\t\tAutoSizeType.Both=1;\r\n\t\tAutoSizeType.Height=2;\r\n\t\treturn AutoSizeType;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.ButtonMode\r\n\tvar ButtonMode=(function(){\r\n\t\tfunction ButtonMode(){}\r\n\t\t__class(ButtonMode,'fairygui.ButtonMode');\r\n\t\tButtonMode.parse=function(value){\r\n\t\t\tswitch (value){\r\n\t\t\t\tcase \"Common\":\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\tcase \"Check\":\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase \"Radio\":\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tButtonMode.Common=0;\r\n\t\tButtonMode.Check=1;\r\n\t\tButtonMode.Radio=2;\r\n\t\treturn ButtonMode;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.display.BitmapFont\r\n\tvar BitmapFont1=(function(){\r\n\t\tfunction BitmapFont(){\r\n\t\t\tthis.id=null;\r\n\t\t\tthis.size=0;\r\n\t\t\tthis.ttf=false;\r\n\t\t\tthis.glyphs=null;\r\n\t\t\tthis.resizable=false;\r\n\t\t\tthis.glyphs={};\r\n\t\t}\r\n\r\n\t\t__class(BitmapFont,'fairygui.display.BitmapFont',null,'BitmapFont1');\r\n\t\treturn BitmapFont;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.display.BMGlyph\r\n\tvar BMGlyph=(function(){\r\n\t\tfunction BMGlyph(){\r\n\t\t\tthis.x=0;\r\n\t\t\tthis.y=0;\r\n\t\t\tthis.offsetX=0;\r\n\t\t\tthis.offsetY=0;\r\n\t\t\tthis.width=0;\r\n\t\t\tthis.height=0;\r\n\t\t\tthis.advance=0;\r\n\t\t\tthis.lineHeight=0;\r\n\t\t\tthis.channel=0;\r\n\t\t\tthis.texture=null;\r\n\t\t}\r\n\r\n\t\t__class(BMGlyph,'fairygui.display.BMGlyph');\r\n\t\treturn BMGlyph;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.display.Frame\r\n\tvar Frame=(function(){\r\n\t\tfunction Frame(){\r\n\t\t\tthis.rect=null;\r\n\t\t\tthis.addDelay=0;\r\n\t\t\tthis.texture=null;\r\n\t\t\tthis.rect=new Rectangle();\r\n\t\t}\r\n\r\n\t\t__class(Frame,'fairygui.display.Frame');\r\n\t\treturn Frame;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.display.PlayState\r\n\tvar PlayState=(function(){\r\n\t\tfunction PlayState(){\r\n\t\t\tthis.reachEnding=false;\r\n\t\t\tthis.reversed=false;\r\n\t\t\tthis.repeatedCount=0;\r\n\t\t\tthis._curFrame=0;\r\n\t\t\tthis._lastTime=0;\r\n\t\t\tthis._curFrameDelay=0;\r\n\t\t}\r\n\r\n\t\t__class(PlayState,'fairygui.display.PlayState');\r\n\t\tvar __proto=PlayState.prototype;\r\n\t\t__proto.update=function(mc){\r\n\t\t\tvar t=Laya.timer.currTimer;\r\n\t\t\tvar elapsed=t-this._lastTime;\r\n\t\t\tthis._lastTime=t;\r\n\t\t\tthis.reachEnding=false;\r\n\t\t\tthis._curFrameDelay+=elapsed;\r\n\t\t\tvar interval=mc.interval+mc.frames[this._curFrame].addDelay+((this._curFrame==0 && this.repeatedCount > 0)? mc.repeatDelay :0);\r\n\t\t\tif (this._curFrameDelay < interval)\r\n\t\t\t\treturn;\r\n\t\t\tthis._curFrameDelay-=interval;\r\n\t\t\tif(this._curFrameDelay>mc.interval)\r\n\t\t\t\tthis._curFrameDelay=mc.interval;\r\n\t\t\tif (mc.swing){\r\n\t\t\t\tif(this.reversed){\r\n\t\t\t\t\tthis._curFrame--;\r\n\t\t\t\t\tif(this._curFrame<0){\r\n\t\t\t\t\t\tthis._curFrame=Math.min(1,mc.frameCount-1);\r\n\t\t\t\t\t\tthis.repeatedCount++;\r\n\t\t\t\t\t\tthis.reversed=!this.reversed;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis._curFrame++;\r\n\t\t\t\t\tif (this._curFrame > mc.frameCount-1){\r\n\t\t\t\t\t\tthis._curFrame=Math.max(0,mc.frameCount-2);\r\n\t\t\t\t\t\tthis.repeatedCount++;\r\n\t\t\t\t\t\tthis.reachEnding=true;\r\n\t\t\t\t\t\tthis.reversed=!this.reversed;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis._curFrame++;\r\n\t\t\t\tif (this._curFrame > mc.frameCount-1){\r\n\t\t\t\t\tthis._curFrame=0;\r\n\t\t\t\t\tthis.repeatedCount++;\r\n\t\t\t\t\tthis.reachEnding=true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.rewind=function(){\r\n\t\t\tthis._curFrame=0;\r\n\t\t\tthis._curFrameDelay=0;\r\n\t\t\tthis.reversed=false;\r\n\t\t\tthis.reachEnding=false;\r\n\t\t}\r\n\r\n\t\t__proto.reset=function(){\r\n\t\t\tthis._curFrame=0;\r\n\t\t\tthis._curFrameDelay=0;\r\n\t\t\tthis.repeatedCount=0;\r\n\t\t\tthis.reachEnding=false;\r\n\t\t\tthis.reversed=false;\r\n\t\t}\r\n\r\n\t\t__proto.copy=function(src){\r\n\t\t\tthis._curFrame=src._curFrame;\r\n\t\t\tthis._curFrameDelay=src._curFrameDelay;\r\n\t\t\tthis.repeatedCount=src.repeatedCount;\r\n\t\t\tthis.reachEnding=src.reachEnding;\r\n\t\t\tthis.reversed=src.reversed;\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'currentFrame',function(){\r\n\t\t\treturn this._curFrame;\r\n\t\t\t},function(value){\r\n\t\t\tthis._curFrame=value;\r\n\t\t\tthis._curFrameDelay=0;\r\n\t\t});\r\n\r\n\t\treturn PlayState;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.DisplayListItem\r\n\tvar DisplayListItem=(function(){\r\n\t\tfunction DisplayListItem(packageItem,type){\r\n\t\t\tthis.packageItem=null;\r\n\t\t\tthis.type=null;\r\n\t\t\tthis.desc=null;\r\n\t\t\tthis.listItemCount=0;\r\n\t\t\tthis.packageItem=packageItem;\r\n\t\t\tthis.type=type;\r\n\t\t}\r\n\r\n\t\t__class(DisplayListItem,'fairygui.DisplayListItem');\r\n\t\treturn DisplayListItem;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.DragDropManager\r\n\tvar DragDropManager=(function(){\r\n\t\tfunction DragDropManager(){\r\n\t\t\tthis._agent=null;\r\n\t\t\tthis._sourceData=null;\r\n\t\t\tthis._agent=new GLoader();\r\n\t\t\tthis._agent.draggable=true;\r\n\t\t\tthis._agent.touchable=false;\r\n\t\t\tthis._agent.setSize(100,100);\r\n\t\t\tthis._agent.setPivot(0.5,0.5,true);\r\n\t\t\tthis._agent.align=\"center\";\r\n\t\t\tthis._agent.verticalAlign=\"middle\";\r\n\t\t\tthis._agent.sortingOrder=1000000;\r\n\t\t\tthis._agent.on(\"fui_drag_end\",this,this.__dragEnd);\r\n\t\t}\r\n\r\n\t\t__class(DragDropManager,'fairygui.DragDropManager');\r\n\t\tvar __proto=DragDropManager.prototype;\r\n\t\t__proto.startDrag=function(source,icon,sourceData,touchPointID){\r\n\t\t\t(touchPointID===void 0)&& (touchPointID=-1);\r\n\t\t\tif(this._agent.parent !=null)\r\n\t\t\t\treturn;\r\n\t\t\tthis._sourceData=sourceData;\r\n\t\t\tthis._agent.url=icon;\r\n\t\t\tGRoot.inst.addChild(this._agent);\r\n\t\t\tvar pt=GRoot.inst.globalToLocal(Laya.stage.mouseX,Laya.stage.mouseY);\r\n\t\t\tthis._agent.setXY(pt.x,pt.y);\r\n\t\t\tthis._agent.startDrag(touchPointID);\r\n\t\t}\r\n\r\n\t\t__proto.cancel=function(){\r\n\t\t\tif(this._agent.parent !=null){\r\n\t\t\t\tthis._agent.stopDrag();\r\n\t\t\t\tGRoot.inst.removeChild(this._agent);\r\n\t\t\t\tthis._sourceData=null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__dragEnd=function(evt){\r\n\t\t\tif(this._agent.parent==null)\r\n\t\t\t\treturn;\r\n\t\t\tGRoot.inst.removeChild(this._agent);\r\n\t\t\tvar sourceData=this._sourceData;\r\n\t\t\tthis._sourceData=null;\r\n\t\t\tvar obj=GObject.cast(evt.target);\r\n\t\t\twhile(obj !=null){\r\n\t\t\t\tif(obj.displayObject.hasListener(\"fui_drop\")){\r\n\t\t\t\t\tobj.requestFocus();\r\n\t\t\t\t\tobj.displayObject.event(\"fui_drop\",[sourceData,Events.createEvent(\"fui_drop\",obj.displayObject,evt)]);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tobj=obj.parent;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'dragAgent',function(){\r\n\t\t\treturn this._agent;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'dragging',function(){\r\n\t\t\treturn this._agent.parent !=null;\r\n\t\t});\r\n\r\n\t\t__getset(1,DragDropManager,'inst',function(){\r\n\t\t\tif(fairygui.DragDropManager._inst==null)\r\n\t\t\t\tfairygui.DragDropManager._inst=new DragDropManager();\r\n\t\t\treturn fairygui.DragDropManager._inst;\r\n\t\t});\r\n\r\n\t\tDragDropManager._inst=null\r\n\t\treturn DragDropManager;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.Events\r\n\tvar Events=(function(){\r\n\t\tfunction Events(){};\r\n\t\t__class(Events,'fairygui.Events');\r\n\t\tEvents.createEvent=function(type,target,source){\r\n\t\t\tfairygui.Events.$event.setTo(type,target,source?source.target:target);\r\n\t\t\tif(source)\r\n\t\t\t\tfairygui.Events.$event.touchId=source.touchId;\r\n\t\t\tfairygui.Events.$event._stoped=false;\r\n\t\t\treturn fairygui.Events.$event;\r\n\t\t}\r\n\r\n\t\tEvents.dispatch=function(type,target,source){\r\n\t\t\ttarget.event(type,fairygui.Events.createEvent(type,target,source));\r\n\t\t}\r\n\r\n\t\tEvents.STATE_CHANGED=\"fui_state_changed\";\r\n\t\tEvents.XY_CHANGED=\"fui_xy_changed\";\r\n\t\tEvents.SIZE_CHANGED=\"fui_size_changed\";\r\n\t\tEvents.SIZE_DELAY_CHANGE=\"fui_size_delay_change\";\r\n\t\tEvents.CLICK_ITEM=\"fui_click_item\";\r\n\t\tEvents.SCROLL=\"fui_scroll\";\r\n\t\tEvents.SCROLL_END=\"fui_scroll_end\";\r\n\t\tEvents.DROP=\"fui_drop\";\r\n\t\tEvents.FOCUS_CHANGED=\"fui_focus_changed\";\r\n\t\tEvents.DRAG_START=\"fui_drag_start\";\r\n\t\tEvents.DRAG_MOVE=\"fui_drag_move\";\r\n\t\tEvents.DRAG_END=\"fui_drag_end\";\r\n\t\tEvents.PULL_DOWN_RELEASE=\"fui_pull_down_release\";\r\n\t\tEvents.PULL_UP_RELEASE=\"fui_pull_up_release\";\r\n\t\tEvents.GEAR_STOP=\"fui_gear_stop\";\r\n\t\t__static(Events,\r\n\t\t['$event',function(){return this.$event=new Event();}\r\n\t\t]);\r\n\t\treturn Events;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.FlipType\r\n\tvar FlipType=(function(){\r\n\t\tfunction FlipType(){}\r\n\t\t__class(FlipType,'fairygui.FlipType');\r\n\t\tFlipType.parse=function(value){\r\n\t\t\tswitch (value){\r\n\t\t\t\tcase \"hz\":\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase \"vt\":\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tcase \"both\":\r\n\t\t\t\t\treturn 3;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tFlipType.None=0;\r\n\t\tFlipType.Horizontal=1;\r\n\t\tFlipType.Vertical=2;\r\n\t\tFlipType.Both=3;\r\n\t\treturn FlipType;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.GObject\r\n\tvar GObject=(function(){\r\n\t\tfunction GObject(){\r\n\t\t\tthis.data=null;\r\n\t\t\tthis.packageItem=null;\r\n\t\t\tthis._x=0;\r\n\t\t\tthis._y=0;\r\n\t\t\tthis._width=0;\r\n\t\t\tthis._height=0;\r\n\t\t\tthis._alpha=1;\r\n\t\t\tthis._rotation=0;\r\n\t\t\tthis._visible=true;\r\n\t\t\tthis._touchable=true;\r\n\t\t\tthis._grayed=false;\r\n\t\t\tthis._draggable=false;\r\n\t\t\tthis._scaleX=1;\r\n\t\t\tthis._scaleY=1;\r\n\t\t\tthis._skewX=0;\r\n\t\t\tthis._skewY=0;\r\n\t\t\tthis._pivotX=0;\r\n\t\t\tthis._pivotY=0;\r\n\t\t\tthis._pivotAsAnchor=false;\r\n\t\t\tthis._pivotOffsetX=0;\r\n\t\t\tthis._pivotOffsetY=0;\r\n\t\t\tthis._sortingOrder=0;\r\n\t\t\tthis._internalVisible=1;\r\n\t\t\tthis._focusable=false;\r\n\t\t\tthis._tooltips=null;\r\n\t\t\tthis._pixelSnapping=false;\r\n\t\t\tthis._relations=null;\r\n\t\t\tthis._group=null;\r\n\t\t\tthis._gears=null;\r\n\t\t\tthis._dragBounds=null;\r\n\t\t\tthis._displayObject=null;\r\n\t\t\tthis._yOffset=0;\r\n\t\t\tthis._sizeImplType=0;\r\n\t\t\tthis._parent=null;\r\n\t\t\tthis._rawWidth=0;\r\n\t\t\tthis._rawHeight=0;\r\n\t\t\tthis._sourceWidth=0;\r\n\t\t\tthis._sourceHeight=0;\r\n\t\t\tthis._initWidth=0;\r\n\t\t\tthis._initHeight=0;\r\n\t\t\tthis._id=null;\r\n\t\t\tthis._name=null;\r\n\t\t\tthis._underConstruct=false;\r\n\t\t\tthis._gearLocked=false;\r\n\t\t\tthis._touchDownPoint=null;\r\n\t\t\t;\r\n\t\t\tthis._id=\"\"+fairygui.GObject._gInstanceCounter++;\r\n\t\t\tthis._name=\"\";\r\n\t\t\tthis.createDisplayObject();\r\n\t\t\tthis._relations=new Relations(this);\r\n\t\t\tthis._gears=__newvec(8,null);\r\n\t\t}\r\n\r\n\t\t__class(GObject,'fairygui.GObject');\r\n\t\tvar __proto=GObject.prototype;\r\n\t\t__proto.setXY=function(xv,yv){\r\n\t\t\tif(this._x !=xv || this._y !=yv){\r\n\t\t\t\tvar dx=xv-this._x;\r\n\t\t\t\tvar dy=yv-this._y;\r\n\t\t\t\tthis._x=xv;\r\n\t\t\t\tthis._y=yv;\r\n\t\t\t\tthis.handleXYChanged();\r\n\t\t\t\tif((this instanceof fairygui.GGroup ))\r\n\t\t\t\t\t(this).moveChildren(dx,dy);\r\n\t\t\t\tthis.updateGear(1);\r\n\t\t\t\tif(this._parent && !((this._parent instanceof fairygui.GList ))){\r\n\t\t\t\t\tthis._parent.setBoundsChangedFlag();\r\n\t\t\t\t\tthis.displayObject.event(\"fui_xy_changed\");\r\n\t\t\t\t}\r\n\t\t\t\tif (GObject.draggingObject==this && !GObject.sUpdateInDragging)\r\n\t\t\t\t\tthis.localToGlobalRect(0,0,this.width,this.height,GObject.sGlobalRect);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.center=function(restraint){\r\n\t\t\t(restraint===void 0)&& (restraint=false);\r\n\t\t\tvar r;\r\n\t\t\tif(this._parent !=null)\r\n\t\t\t\tr=this.parent;\r\n\t\t\telse\r\n\t\t\tr=this.root;\r\n\t\t\tthis.setXY((r.width-this.width)/ 2,(r.height-this.height)/ 2);\r\n\t\t\tif(restraint){\r\n\t\t\t\tthis.addRelation(r,3);\r\n\t\t\t\tthis.addRelation(r,10);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setSize=function(wv,hv,ignorePivot){\r\n\t\t\t(ignorePivot===void 0)&& (ignorePivot=false);\r\n\t\t\tif(this._rawWidth !=wv || this._rawHeight !=hv){\r\n\t\t\t\tthis._rawWidth=wv;\r\n\t\t\t\tthis._rawHeight=hv;\r\n\t\t\t\tif(wv < 0)\r\n\t\t\t\t\twv=0;\r\n\t\t\t\tif(hv < 0)\r\n\t\t\t\t\thv=0;\r\n\t\t\t\tvar dWidth=wv-this._width;\r\n\t\t\t\tvar dHeight=hv-this._height;\r\n\t\t\t\tthis._width=wv;\r\n\t\t\t\tthis._height=hv;\r\n\t\t\t\tthis.handleSizeChanged();\r\n\t\t\t\tif(this._pivotX !=0 || this._pivotY !=0){\r\n\t\t\t\t\tif(!this._pivotAsAnchor){\r\n\t\t\t\t\t\tif(!ignorePivot)\r\n\t\t\t\t\t\t\tthis.setXY(this.x-this._pivotX *dWidth,this.y-this._pivotY *dHeight);\r\n\t\t\t\t\t\tthis.updatePivotOffset();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.applyPivot();\r\n\t\t\t\t}\r\n\t\t\t\tthis.updateGear(2);\r\n\t\t\t\tif(this._parent){\r\n\t\t\t\t\tthis._relations.onOwnerSizeChanged(dWidth,dHeight);\r\n\t\t\t\t\tthis._parent.setBoundsChangedFlag();\r\n\t\t\t\t}\r\n\t\t\t\tthis.displayObject.event(\"fui_size_changed\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.ensureSizeCorrect=function(){}\r\n\t\t__proto.setScale=function(sx,sy){\r\n\t\t\tif(this._scaleX !=sx || this._scaleY !=sy){\r\n\t\t\t\tthis._scaleX=sx;\r\n\t\t\t\tthis._scaleY=sy;\r\n\t\t\t\tthis.handleScaleChanged();\r\n\t\t\t\tthis.applyPivot();\r\n\t\t\t\tthis.updateGear(2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setSkew=function(sx,sy){\r\n\t\t\tif(this._skewX !=sx || this._skewY !=sy){\r\n\t\t\t\tthis._skewX=sx;\r\n\t\t\t\tthis._skewY=sy;\r\n\t\t\t\tif(this._displayObject!=null){\r\n\t\t\t\t\tthis._displayObject.skew(-sx,sy);\r\n\t\t\t\t\tthis.applyPivot();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setPivot=function(xv,yv,asAnchor){\r\n\t\t\t(yv===void 0)&& (yv=0);\r\n\t\t\t(asAnchor===void 0)&& (asAnchor=false);\r\n\t\t\tif(this._pivotX !=xv || this._pivotY !=yv || this._pivotAsAnchor!=asAnchor){\r\n\t\t\t\tthis._pivotX=xv;\r\n\t\t\t\tthis._pivotY=yv;\r\n\t\t\t\tthis._pivotAsAnchor=asAnchor;\r\n\t\t\t\tthis.updatePivotOffset();\r\n\t\t\t\tthis.handleXYChanged();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.internalSetPivot=function(xv,yv,asAnchor){\r\n\t\t\tthis._pivotX=xv;\r\n\t\t\tthis._pivotY=yv;\r\n\t\t\tthis._pivotAsAnchor=asAnchor;\r\n\t\t\tif(this._pivotAsAnchor)\r\n\t\t\t\tthis.handleXYChanged();\r\n\t\t}\r\n\r\n\t\t__proto.updatePivotOffset=function(){\r\n\t\t\tif(this._displayObject!=null){\r\n\t\t\t\tif(this._displayObject.transform && (this._pivotX!=0 || this._pivotY!=0)){\r\n\t\t\t\t\tif(this._sizeImplType==0){\r\n\t\t\t\t\t\tfairygui.GObject.sHelperPoint.x=this._pivotX*this._width;\r\n\t\t\t\t\t\tfairygui.GObject.sHelperPoint.y=this._pivotY*this._height;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tfairygui.GObject.sHelperPoint.x=this._pivotX*this._sourceWidth;\r\n\t\t\t\t\t\tfairygui.GObject.sHelperPoint.y=this._pivotY*this._sourceHeight;\r\n\t\t\t\t\t};\r\n\t\t\t\t\tvar pt=this._displayObject.transform.transformPoint(fairygui.GObject.sHelperPoint);\r\n\t\t\t\t\tthis._pivotOffsetX=this._pivotX*this._width-pt.x;\r\n\t\t\t\t\tthis._pivotOffsetY=this._pivotY*this._height-pt.y;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis._pivotOffsetX=0;\r\n\t\t\t\t\tthis._pivotOffsetY=0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.applyPivot=function(){\r\n\t\t\tif(this._pivotX !=0 || this._pivotY !=0){\r\n\t\t\t\tthis.updatePivotOffset();\r\n\t\t\t\tthis.handleXYChanged();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.updateAlpha=function(){\r\n\t\t\tif(this._displayObject)\r\n\t\t\t\tthis._displayObject.alpha=this._alpha;\r\n\t\t\tthis.updateGear(3);\r\n\t\t}\r\n\r\n\t\t__proto.requestFocus=function(){\r\n\t\t\tvar p=this;\r\n\t\t\twhile (p && !p._focusable)\r\n\t\t\tp=p.parent;\r\n\t\t\tif (p !=null)\r\n\t\t\t\tthis.root.focus=p;\r\n\t\t}\r\n\r\n\t\t__proto.getGear=function(index){\r\n\t\t\tvar gear=this._gears[index];\r\n\t\t\tif (gear==null){\r\n\t\t\t\tswitch (index){\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tgear=new GearDisplay(this);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tgear=new GearXY(this);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tgear=new GearSize(this);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tgear=new GearLook(this);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\tgear=new GearColor(this);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\tgear=new GearAnimation(this);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 6:\r\n\t\t\t\t\t\tgear=new GearText(this);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 7:\r\n\t\t\t\t\t\tgear=new GearIcon(this);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\tthrow new Error(\"FairyGUI: invalid gear index!\");\r\n\t\t\t\t\t}\r\n\t\t\t\tthis._gears[index]=gear;\r\n\t\t\t}\r\n\t\t\treturn gear;\r\n\t\t}\r\n\r\n\t\t__proto.updateGear=function(index){\r\n\t\t\tif (this._gears[index] !=null)\r\n\t\t\t\tthis._gears[index].updateState();\r\n\t\t}\r\n\r\n\t\t__proto.updateGearFromRelations=function(index,dx,dy){\r\n\t\t\tif (this._gears[index] !=null)\r\n\t\t\t\tthis._gears[index].updateFromRelations(dx,dy);\r\n\t\t}\r\n\r\n\t\t__proto.addRelation=function(target,relationType,usePercent){\r\n\t\t\t(usePercent===void 0)&& (usePercent=false);\r\n\t\t\tthis._relations.add(target,relationType,usePercent);\r\n\t\t}\r\n\r\n\t\t__proto.removeRelation=function(target,relationType){\r\n\t\t\t(relationType===void 0)&& (relationType=0);\r\n\t\t\tthis._relations.remove(target,relationType);\r\n\t\t}\r\n\r\n\t\t__proto.removeFromParent=function(){\r\n\t\t\tif (this._parent)\r\n\t\t\t\tthis._parent.removeChild(this);\r\n\t\t}\r\n\r\n\t\t__proto.dispose=function(){\r\n\t\t\tthis.removeFromParent();\r\n\t\t\tthis._relations.dispose();\r\n\t\t\tthis._displayObject.destroy();\r\n\t\t}\r\n\r\n\t\t__proto.onClick=function(thisObj,listener,args){\r\n\t\t\tthis.on(\"click\",thisObj,listener,args);\r\n\t\t}\r\n\r\n\t\t__proto.offClick=function(thisObj,listener){\r\n\t\t\tthis.off(\"click\",thisObj,listener);\r\n\t\t}\r\n\r\n\t\t__proto.hasClickListener=function(){\r\n\t\t\treturn this._displayObject.hasListener(\"click\");\r\n\t\t}\r\n\r\n\t\t__proto.on=function(type,thisObject,listener,args){\r\n\t\t\tthis._displayObject.on(type,thisObject,listener,args);\r\n\t\t}\r\n\r\n\t\t__proto.off=function(type,thisObject,listener){\r\n\t\t\tthis._displayObject.off(type,thisObject,listener);\r\n\t\t}\r\n\r\n\t\t__proto.startDrag=function(touchPointID){\r\n\t\t\t(touchPointID===void 0)&& (touchPointID=-1);\r\n\t\t\tif (this._displayObject.stage==null)\r\n\t\t\t\treturn;\r\n\t\t\tthis.dragBegin();\r\n\t\t}\r\n\r\n\t\t__proto.stopDrag=function(){\r\n\t\t\tthis.dragEnd();\r\n\t\t}\r\n\r\n\t\t__proto.localToGlobal=function(ax,ay,resultPoint){\r\n\t\t\t(ax===void 0)&& (ax=0);\r\n\t\t\t(ay===void 0)&& (ay=0);\r\n\t\t\tif(this._pivotAsAnchor){\r\n\t\t\t\tax+=this._pivotX*this._width;\r\n\t\t\t\tay+=this._pivotY*this._height;\r\n\t\t\t}\r\n\t\t\tif(!resultPoint){\r\n\t\t\t\tresultPoint=fairygui.GObject.sHelperPoint;\r\n\t\t\t\tresultPoint.x=ax;\r\n\t\t\t\tresultPoint.y=ay;\r\n\t\t\t\treturn this._displayObject.localToGlobal(resultPoint,true);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tresultPoint.x=ax;\r\n\t\t\t\tresultPoint.y=ay;\r\n\t\t\t\treturn this._displayObject.localToGlobal(resultPoint,false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.globalToLocal=function(ax,ay,resultPoint){\r\n\t\t\t(ax===void 0)&& (ax=0);\r\n\t\t\t(ay===void 0)&& (ay=0);\r\n\t\t\tif(!resultPoint){\r\n\t\t\t\tresultPoint=fairygui.GObject.sHelperPoint;\r\n\t\t\t\tresultPoint.x=ax;\r\n\t\t\t\tresultPoint.y=ay;\r\n\t\t\t\tresultPoint=this._displayObject.globalToLocal(resultPoint,true);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tresultPoint.x=ax;\r\n\t\t\t\tresultPoint.y=ay;\r\n\t\t\t\tthis._displayObject.globalToLocal(resultPoint,false);\r\n\t\t\t}\r\n\t\t\tif(this._pivotAsAnchor){\r\n\t\t\t\tresultPoint.x-=this._pivotX*this._width;\r\n\t\t\t\tresultPoint.y-=this._pivotY*this._height;\r\n\t\t\t}\r\n\t\t\treturn resultPoint;\r\n\t\t}\r\n\r\n\t\t__proto.localToGlobalRect=function(ax,ay,aWidth,aHeight,resultRect){\r\n\t\t\t(ax===void 0)&& (ax=0);\r\n\t\t\t(ay===void 0)&& (ay=0);\r\n\t\t\t(aWidth===void 0)&& (aWidth=0);\r\n\t\t\t(aHeight===void 0)&& (aHeight=0);\r\n\t\t\tif(resultRect==null)\r\n\t\t\t\tresultRect=new Rectangle();\r\n\t\t\tvar pt=this.localToGlobal(ax,ay);\r\n\t\t\tresultRect.x=pt.x;\r\n\t\t\tresultRect.y=pt.y;\r\n\t\t\tpt=this.localToGlobal(ax+aWidth,ay+aHeight);\r\n\t\t\tresultRect.width=pt.x-resultRect.x;\r\n\t\t\tresultRect.height=pt.y-resultRect.y;\r\n\t\t\treturn resultRect;\r\n\t\t}\r\n\r\n\t\t__proto.globalToLocalRect=function(ax,ay,aWidth,aHeight,resultRect){\r\n\t\t\t(ax===void 0)&& (ax=0);\r\n\t\t\t(ay===void 0)&& (ay=0);\r\n\t\t\t(aWidth===void 0)&& (aWidth=0);\r\n\t\t\t(aHeight===void 0)&& (aHeight=0);\r\n\t\t\tif(resultRect==null)\r\n\t\t\t\tresultRect=new Rectangle();\r\n\t\t\tvar pt=this.globalToLocal(ax,ay);\r\n\t\t\tresultRect.x=pt.x;\r\n\t\t\tresultRect.y=pt.y;\r\n\t\t\tpt=this.globalToLocal(ax+aWidth,ay+aHeight);\r\n\t\t\tresultRect.width=pt.x-resultRect.x;\r\n\t\t\tresultRect.height=pt.y-resultRect.y;\r\n\t\t\treturn resultRect;\r\n\t\t}\r\n\r\n\t\t__proto.handleControllerChanged=function(c){\r\n\t\t\tfor (var i=0;i < 8;i++){\r\n\t\t\t\tvar gear=this._gears[i];\r\n\t\t\t\tif (gear !=null && gear.controller==c)\r\n\t\t\t\t\tgear.apply();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.createDisplayObject=function(){\r\n\t\t\tthis._displayObject=new Sprite();\r\n\t\t\tthis._displayObject[\"$owner\"]=this;\r\n\t\t}\r\n\r\n\t\t__proto.handleXYChanged=function(){\r\n\t\t\tvar xv=this._x;\r\n\t\t\tvar yv=this._y+this._yOffset;\r\n\t\t\tif(this._pivotAsAnchor){\r\n\t\t\t\txv-=this._pivotX*this._width;\r\n\t\t\t\tyv-=this._pivotY*this._height;\r\n\t\t\t}\r\n\t\t\tif(this._pixelSnapping){\r\n\t\t\t\txv=Math.round(xv);\r\n\t\t\t\tyv=Math.round(yv);\r\n\t\t\t}\r\n\t\t\tthis._displayObject.pos(xv+this._pivotOffsetX,yv+this._pivotOffsetY);\r\n\t\t}\r\n\r\n\t\t__proto.handleSizeChanged=function(){\r\n\t\t\tif(this._displayObject!=null){\r\n\t\t\t\tif(this._sizeImplType==0 || this._sourceWidth==0 || this._sourceHeight==0)\r\n\t\t\t\t\tthis._displayObject.size(this._width,this._height);\r\n\t\t\t\telse\r\n\t\t\t\tthis._displayObject.scale(this._width/this._sourceWidth*this._scaleX,\r\n\t\t\t\tthis._height/this._sourceHeight*this._scaleY);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.handleScaleChanged=function(){\r\n\t\t\tif(this._displayObject!=null){\r\n\t\t\t\tif(this._sizeImplType==0 || this._sourceWidth==0 || this._sourceHeight==0)\r\n\t\t\t\t\tthis._displayObject.scale(this._scaleX,this._scaleY);\r\n\t\t\t\telse\r\n\t\t\t\tthis._displayObject.scale(this._width/this._sourceWidth*this._scaleX,\r\n\t\t\t\tthis._height/this._sourceHeight*this._scaleY);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.handleGrayedChanged=function(){\r\n\t\t\tif(this._displayObject){\r\n\t\t\t\tif(this._grayed)\r\n\t\t\t\t\tthis._displayObject.filters=[ColorFilter.GRAY];\r\n\t\t\t\telse\r\n\t\t\t\tthis._displayObject.filters=null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.constructFromResource=function(){}\r\n\t\t__proto.setup_beforeAdd=function(xml){\r\n\t\t\tvar str;\r\n\t\t\tvar arr;\r\n\t\t\tthis._id=xml.getAttribute(\"id\");\r\n\t\t\tthis._name=xml.getAttribute(\"name\");\r\n\t\t\tstr=xml.getAttribute(\"xy\");\r\n\t\t\tarr=str.split(\",\");\r\n\t\t\tthis.setXY(parseInt(arr[0]),parseInt(arr[1]));\r\n\t\t\tstr=xml.getAttribute(\"size\");\r\n\t\t\tif (str){\r\n\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\tthis._initWidth=parseInt(arr[0]);\r\n\t\t\t\tthis._initHeight=parseInt(arr[1]);\r\n\t\t\t\tthis.setSize(this._initWidth,this._initHeight,true);\r\n\t\t\t}\r\n\t\t\tstr=xml.getAttribute(\"scale\");\r\n\t\t\tif(str){\r\n\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\tthis.setScale(parseFloat(arr[0]),parseFloat(arr[1]));\r\n\t\t\t}\r\n\t\t\tstr=xml.getAttribute(\"skew\");\r\n\t\t\tif(str){\r\n\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\tthis.setSkew(parseFloat(arr[0]),parseFloat(arr[1]));\r\n\t\t\t}\r\n\t\t\tstr=xml.getAttribute(\"rotation\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis.rotation=parseInt(str);\r\n\t\t\tstr=xml.getAttribute(\"pivot\");\r\n\t\t\tif (str){\r\n\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\tstr=xml.getAttribute(\"anchor\");\r\n\t\t\t\tthis.setPivot(parseFloat(arr[0]),parseFloat(arr[1]),str==\"true\");\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tthis.setPivot(0,0,false);\r\n\t\t\tstr=xml.getAttribute(\"alpha\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis.alpha=parseFloat(str);\r\n\t\t\tif(xml.getAttribute(\"touchable\")==\"false\")\r\n\t\t\t\tthis.touchable=false;\r\n\t\t\tif(xml.getAttribute(\"visible\")==\"false\")\r\n\t\t\t\tthis.visible=false;\r\n\t\t\tif(xml.getAttribute(\"grayed\")==\"true\")\r\n\t\t\t\tthis.grayed=true;\r\n\t\t\tthis.tooltips=xml.getAttribute(\"tooltips\");\r\n\t\t\tstr=xml.getAttribute(\"blend\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis.blendMode=str;\r\n\t\t\tstr=xml.getAttribute('filter');\r\n\t\t\tif (str){\r\n\t\t\t\tswitch (str){\r\n\t\t\t\t\tcase \"color\":\r\n\t\t\t\t\t\tstr=xml.getAttribute('filterData');\r\n\t\t\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\t\t\tvar cm=new ColorMatrix();\r\n\t\t\t\t\t\tcm.adjustBrightness(parseFloat(arr[0]));\r\n\t\t\t\t\t\tcm.adjustContrast(parseFloat(arr[1]));\r\n\t\t\t\t\t\tcm.adjustSaturation(parseFloat(arr[2]));\r\n\t\t\t\t\t\tcm.adjustHue(parseFloat(arr[3]));\r\n\t\t\t\t\t\tvar cf=new ColorFilter(cm);\r\n\t\t\t\t\t\tthis.filters=[cf];\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setup_afterAdd=function(xml){\r\n\t\t\tvar str=xml.getAttribute(\"group\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._group=this._parent.getChildById(str);\r\n\t\t\tvar col=xml.childNodes;\r\n\t\t\tvar length1=col.length;\r\n\t\t\tfor (var i1=0;i1 < length1;i1++){\r\n\t\t\t\tvar cxml=col[i1];\r\n\t\t\t\tif(cxml.nodeType!=1)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tvar index=fairygui.GObject.GearXMLKeys[cxml.nodeName];\r\n\t\t\t\tif(index!=undefined)\r\n\t\t\t\t\tthis.getGear(index).setup(cxml);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.initDrag=function(){\r\n\t\t\tif (this._draggable)\r\n\t\t\t\tthis.on(\"mousedown\",this,this.__begin);\r\n\t\t\telse\r\n\t\t\tthis.off(\"mousedown\",this,this.__begin);\r\n\t\t}\r\n\r\n\t\t__proto.dragBegin=function(){\r\n\t\t\tif (fairygui.GObject.draggingObject !=null)\r\n\t\t\t\tfairygui.GObject.draggingObject.stopDrag();\r\n\t\t\tfairygui.GObject.sGlobalDragStart.x=Laya.stage.mouseX;\r\n\t\t\tfairygui.GObject.sGlobalDragStart.y=Laya.stage.mouseY;\r\n\t\t\tthis.localToGlobalRect(0,0,this.width,this.height,fairygui.GObject.sGlobalRect);\r\n\t\t\tfairygui.GObject.draggingObject=this;\r\n\t\t\tLaya.stage.on(\"mousemove\",this,this.__moving2);\r\n\t\t\tLaya.stage.on(\"mouseup\",this,this.__end2);\r\n\t\t}\r\n\r\n\t\t__proto.dragEnd=function(){\r\n\t\t\tif (fairygui.GObject.draggingObject==this){\r\n\t\t\t\tLaya.stage.off(\"mousemove\",this,this.__moving2);\r\n\t\t\t\tLaya.stage.off(\"mouseup\",this,this.__end2);\r\n\t\t\t\tfairygui.GObject.draggingObject=null;\r\n\t\t\t}\r\n\t\t\tfairygui.GObject.sDraggingQuery=false;\r\n\t\t}\r\n\r\n\t\t__proto.reset=function(){\r\n\t\t\tLaya.stage.off(\"mousemove\",this,this.__moving);\r\n\t\t\tLaya.stage.off(\"mouseup\",this,this.__end);\r\n\t\t}\r\n\r\n\t\t__proto.__begin=function(){\r\n\t\t\tif(this._touchDownPoint==null)\r\n\t\t\t\tthis._touchDownPoint=new Point();\r\n\t\t\tthis._touchDownPoint.x=Laya.stage.mouseX;\r\n\t\t\tthis._touchDownPoint.y=Laya.stage.mouseY;\r\n\t\t\tLaya.stage.on(\"mousemove\",this,this.__moving);\r\n\t\t\tLaya.stage.on(\"mouseup\",this,this.__end);\r\n\t\t}\r\n\r\n\t\t__proto.__end=function(){\r\n\t\t\tthis.reset();\r\n\t\t}\r\n\r\n\t\t__proto.__moving=function(evt){\r\n\t\t\tvar sensitivity=UIConfig1.touchDragSensitivity;\r\n\t\t\tif(this._touchDownPoint !=null\r\n\t\t\t\t&& Math.abs(this._touchDownPoint.x-Laya.stage.mouseX)< sensitivity\r\n\t\t\t&& Math.abs(this._touchDownPoint.y-Laya.stage.mouseY)< sensitivity)\r\n\t\t\treturn;\r\n\t\t\tthis.reset();\r\n\t\t\tfairygui.GObject.sDraggingQuery=true;\r\n\t\t\tEvents.dispatch(\"fui_drag_start\",this._displayObject,evt);\r\n\t\t\tif (fairygui.GObject.sDraggingQuery)\r\n\t\t\t\tthis.dragBegin();\r\n\t\t}\r\n\r\n\t\t__proto.__moving2=function(evt){\r\n\t\t\tvar xx=Laya.stage.mouseX-fairygui.GObject.sGlobalDragStart.x+fairygui.GObject.sGlobalRect.x;\r\n\t\t\tvar yy=Laya.stage.mouseY-fairygui.GObject.sGlobalDragStart.y+fairygui.GObject.sGlobalRect.y;\r\n\t\t\tif(this._dragBounds !=null){\r\n\t\t\t\tvar rect=GRoot.inst.localToGlobalRect(this._dragBounds.x,this._dragBounds.y,\r\n\t\t\t\tthis._dragBounds.width,this._dragBounds.height,fairygui.GObject.sDragHelperRect);\r\n\t\t\t\tif(xx < rect.x)\r\n\t\t\t\t\txx=rect.x;\r\n\t\t\t\telse if(xx+fairygui.GObject.sGlobalRect.width > rect.right){\r\n\t\t\t\t\txx=rect.right-fairygui.GObject.sGlobalRect.width;\r\n\t\t\t\t\tif(xx < rect.x)\r\n\t\t\t\t\t\txx=rect.x;\r\n\t\t\t\t}\r\n\t\t\t\tif(yy < rect.y)\r\n\t\t\t\t\tyy=rect.y;\r\n\t\t\t\telse if(yy+fairygui.GObject.sGlobalRect.height > rect.bottom){\r\n\t\t\t\t\tyy=rect.bottom-fairygui.GObject.sGlobalRect.height;\r\n\t\t\t\t\tif(yy < rect.y)\r\n\t\t\t\t\t\tyy=rect.y;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tGObject.sUpdateInDragging=true;\r\n\t\t\tvar pt=this.parent.globalToLocal(xx,yy,fairygui.GObject.sHelperPoint);\r\n\t\t\tthis.setXY(Math.round(pt.x),Math.round(pt.y));\r\n\t\t\tGObject.sUpdateInDragging=false;\r\n\t\t\tEvents.dispatch(\"fui_drag_move\",this._displayObject,evt);\r\n\t\t}\r\n\r\n\t\t__proto.__end2=function(evt){\r\n\t\t\tif (fairygui.GObject.draggingObject==this){\r\n\t\t\t\tthis.stopDrag();\r\n\t\t\t\tEvents.dispatch(\"fui_drag_end\",this._displayObject,evt);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'id',function(){\r\n\t\t\treturn this._id;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'name',function(){\r\n\t\t\treturn this._name;\r\n\t\t\t},function(value){\r\n\t\t\tthis._name=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'rotation',function(){\r\n\t\t\treturn this._rotation;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._rotation !=value){\r\n\t\t\t\tthis._rotation=value;\r\n\t\t\t\tif(this._displayObject!=null){\r\n\t\t\t\t\tthis._displayObject.rotation=this.normalizeRotation;\r\n\t\t\t\t\tthis.applyPivot();\r\n\t\t\t\t}\r\n\t\t\t\tthis.updateGear(3);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'width',function(){\r\n\t\t\tthis.ensureSizeCorrect();\r\n\t\t\tif(this._relations.sizeDirty)\r\n\t\t\t\tthis._relations.ensureRelationsSizeCorrect();\r\n\t\t\treturn this._width;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setSize(value,this._rawHeight);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'x',function(){\r\n\t\t\treturn this._x;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setXY(value,this._y);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'draggable',function(){\r\n\t\t\treturn this._draggable;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._draggable !=value){\r\n\t\t\t\tthis._draggable=value;\r\n\t\t\t\tthis.initDrag();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'y',function(){\r\n\t\t\treturn this._y;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setXY(this._x,value);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'sourceWidth',function(){\r\n\t\t\treturn this._sourceWidth;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'sourceHeight',function(){\r\n\t\t\treturn this._sourceHeight;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'pixelSnapping',function(){\r\n\t\t\treturn this._pixelSnapping;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._pixelSnapping!=value){\r\n\t\t\t\tthis._pixelSnapping=value;\r\n\t\t\t\tthis.handleXYChanged();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'height',function(){\r\n\t\t\tthis.ensureSizeCorrect();\r\n\t\t\tif(this._relations.sizeDirty)\r\n\t\t\t\tthis._relations.ensureRelationsSizeCorrect();\r\n\t\t\treturn this._height;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setSize(this._rawWidth,value);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'initHeight',function(){\r\n\t\t\treturn this._initHeight;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'initWidth',function(){\r\n\t\t\treturn this._initWidth;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asButton',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'actualWidth',function(){\r\n\t\t\treturn this.width *Math.abs(this._scaleX);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'actualHeight',function(){\r\n\t\t\treturn this.height *Math.abs(this._scaleY);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'blendMode',function(){\r\n\t\t\treturn this._displayObject.blendMode;\r\n\t\t\t},function(value){\r\n\t\t\tthis._displayObject.blendMode=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'scaleX',function(){\r\n\t\t\treturn this._scaleX;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setScale(value,this._scaleY);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'scaleY',function(){\r\n\t\t\treturn this._scaleY;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setScale(this._scaleX,value);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'skewX',function(){\r\n\t\t\treturn this._skewX;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setScale(value,this._skewY);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'skewY',function(){\r\n\t\t\treturn this._skewY;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setSkew(this._skewX,value);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'pivotX',function(){\r\n\t\t\treturn this._pivotX;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setPivot(value,this._pivotY);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asTextInput',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asLoader',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'pivotY',function(){\r\n\t\t\treturn this._pivotY;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setPivot(this._pivotX,value);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'displayObject',function(){\r\n\t\t\treturn this._displayObject;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'normalizeRotation',function(){\r\n\t\t\tvar rot=this._rotation % 360;\r\n\t\t\tif(rot > 180)\r\n\t\t\t\trot=rot-360;\r\n\t\t\telse if(rot <-180)\r\n\t\t\trot=360+rot;\r\n\t\t\treturn rot;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'touchable',function(){\r\n\t\t\treturn this._touchable;\r\n\t\t\t},function(value){\r\n\t\t\tthis._touchable=value;\r\n\t\t\tif(((this instanceof fairygui.GImage ))|| ((this instanceof fairygui.GMovieClip ))\r\n\t\t\t\t|| ((this instanceof fairygui.GTextField ))&& !((this instanceof fairygui.GTextInput ))&& !((this instanceof fairygui.GRichTextField )))\r\n\t\t\treturn;\r\n\t\t\tif(this._displayObject !=null)\r\n\t\t\t\tthis._displayObject.mouseEnabled=this._touchable;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'alpha',function(){\r\n\t\t\treturn this._alpha;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._alpha!=value){\r\n\t\t\t\tthis._alpha=value;\r\n\t\t\t\tthis.updateAlpha();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'grayed',function(){\r\n\t\t\treturn this._grayed;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._grayed !=value){\r\n\t\t\t\tthis._grayed=value;\r\n\t\t\t\tthis.handleGrayedChanged();\r\n\t\t\t\tthis.updateGear(3);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'dragBounds',function(){\r\n\t\t\treturn this._dragBounds;\r\n\t\t\t},function(value){\r\n\t\t\tthis._dragBounds=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asProgress',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'enabled',function(){\r\n\t\t\treturn !this._grayed && this._touchable;\r\n\t\t\t},function(value){\r\n\t\t\tthis.grayed=!value;\r\n\t\t\tthis.touchable=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'sortingOrder',function(){\r\n\t\t\treturn this._sortingOrder;\r\n\t\t\t},function(value){\r\n\t\t\tif (value < 0)\r\n\t\t\t\tvalue=0;\r\n\t\t\tif (this._sortingOrder !=value){\r\n\t\t\t\tvar old=this._sortingOrder;\r\n\t\t\t\tthis._sortingOrder=value;\r\n\t\t\t\tif (this._parent !=null)\r\n\t\t\t\t\tthis._parent.childSortingOrderChanged(this,old,this._sortingOrder);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'visible',function(){\r\n\t\t\treturn this._visible;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._visible !=value){\r\n\t\t\t\tthis._visible=value;\r\n\t\t\t\tif (this._displayObject)\r\n\t\t\t\t\tthis._displayObject.visible=this._visible;\r\n\t\t\t\tif (this._parent){\r\n\t\t\t\t\tthis._parent.childStateChanged(this);\r\n\t\t\t\t\tthis._parent.setBoundsChangedFlag();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'internalVisible',function(){\r\n\t\t\treturn this._internalVisible;\r\n\t\t\t},function(value){\r\n\t\t\tif(value < 0)\r\n\t\t\t\tvalue=0;\r\n\t\t\tvar oldValue=this._internalVisible > 0;\r\n\t\t\tvar newValue=value > 0;\r\n\t\t\tthis._internalVisible=value;\r\n\t\t\tif(oldValue !=newValue){\r\n\t\t\t\tif(this._parent)\r\n\t\t\t\t\tthis._parent.childStateChanged(this);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'finalVisible',function(){\r\n\t\t\treturn this._visible && this._internalVisible>0 && (!this._group || this._group.finalVisible);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asGraph',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'gearSize',function(){\r\n\t\t\treturn (this.getGear(2));\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'focusable',function(){\r\n\t\t\treturn this._focusable;\r\n\t\t\t},function(value){\r\n\t\t\tthis._focusable=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'focused',function(){\r\n\t\t\treturn this.root.focus==this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'tooltips',function(){\r\n\t\t\treturn this._tooltips;\r\n\t\t\t},function(value){\r\n\t\t\tthis._tooltips=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'dragging',function(){\r\n\t\t\treturn fairygui.GObject.draggingObject==this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'group',function(){\r\n\t\t\treturn this._group;\r\n\t\t\t},function(value){\r\n\t\t\tthis._group=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'filters',function(){\r\n\t\t\treturn this._displayObject.filters;\r\n\t\t\t},function(value){\r\n\t\t\tthis._displayObject.filters=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'inContainer',function(){\r\n\t\t\treturn this._displayObject !=null && this._displayObject.parent !=null;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'resourceURL',function(){\r\n\t\t\tif (this.packageItem !=null)\r\n\t\t\t\treturn \"ui://\"+this.packageItem.owner.id+this.packageItem.id;\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'onStage',function(){\r\n\t\t\treturn this._displayObject !=null && this._displayObject.stage !=null;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'gearXY',function(){\r\n\t\t\treturn (this.getGear(1));\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'root',function(){\r\n\t\t\tif((this instanceof fairygui.GRoot ))\r\n\t\t\t\treturn (this);\r\n\t\t\tvar p=this._parent;\r\n\t\t\twhile (p){\r\n\t\t\t\tif ((p instanceof fairygui.GRoot ))\r\n\t\t\t\t\treturn (p);\r\n\t\t\t\tp=p.parent;\r\n\t\t\t}\r\n\t\t\treturn GRoot.inst;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'gearLook',function(){\r\n\t\t\treturn (this.getGear(3));\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asCom',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'relations',function(){\r\n\t\t\treturn this._relations;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'parent',function(){\r\n\t\t\treturn this._parent;\r\n\t\t\t},function(val){\r\n\t\t\tthis._parent=val;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asLabel',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asTextField',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asImage',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asGroup',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asRichTextField',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asList',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asSlider',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asComboBox',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'asMovieClip',function(){\r\n\t\t\treturn this;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'text',function(){\r\n\t\t\treturn null;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'icon',function(){\r\n\t\t\treturn null;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\tGObject.cast=function(sprite){\r\n\t\t\treturn (sprite[\"$owner\"]);\r\n\t\t}\r\n\r\n\t\tGObject.draggingObject=null\r\n\t\tGObject._gInstanceCounter=0;\r\n\t\tGObject.sDraggingQuery=false;\r\n\t\tGObject.sUpdateInDragging=false;\r\n\t\t__static(GObject,\r\n\t\t['GearXMLKeys',function(){return this.GearXMLKeys={\r\n\t\t\t\t\"gearDisplay\":0,\r\n\t\t\t\t\"gearXY\":1,\r\n\t\t\t\t\"gearSize\":2,\r\n\t\t\t\t\"gearLook\":3,\r\n\t\t\t\t\"gearColor\":4,\r\n\t\t\t\t\"gearAni\":5,\r\n\t\t\t\t\"gearText\":6,\r\n\t\t\t\t\"gearIcon\":7\r\n\t\t};},'sGlobalDragStart',function(){return this.sGlobalDragStart=new Point();},'sGlobalRect',function(){return this.sGlobalRect=new Rectangle();},'sHelperPoint',function(){return this.sHelperPoint=new Point();},'sDragHelperRect',function(){return this.sDragHelperRect=new Rectangle();}\r\n\r\n\t\t]);\r\n\t\treturn GObject;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.GearBase\r\n\tvar GearBase=(function(){\r\n\t\tfunction GearBase(owner){\r\n\t\t\tthis._tween=false;\r\n\t\t\tthis._easeType=null;\r\n\t\t\tthis._tweenTime=0.3;\r\n\t\t\tthis._delay=0;\r\n\t\t\tthis._owner=null;\r\n\t\t\tthis._controller=null;\r\n\t\t\tthis._owner=owner;\r\n\t\t\tthis._easeType=Ease.quadOut;\r\n\t\t}\r\n\r\n\t\t__class(GearBase,'fairygui.GearBase');\r\n\t\tvar __proto=GearBase.prototype;\r\n\t\t__proto.setup=function(xml){\r\n\t\t\tthis._controller=this._owner.parent.getController(xml.getAttribute(\"controller\"));\r\n\t\t\tif(this._controller==null)\r\n\t\t\t\treturn;\r\n\t\t\tthis.init();\r\n\t\t\tvar str;\r\n\t\t\tstr=xml.getAttribute(\"tween\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._tween=true;\r\n\t\t\tstr=xml.getAttribute(\"ease\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._easeType=ToolSet.parseEaseType(str);\r\n\t\t\tstr=xml.getAttribute(\"duration\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._tweenTime=parseFloat(str);\r\n\t\t\tstr=xml.getAttribute(\"delay\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._delay=parseFloat(str);\r\n\t\t\tif((this instanceof fairygui.GearDisplay )){\r\n\t\t\t\tstr=xml.getAttribute(\"pages\");\r\n\t\t\t\tif(str){\r\n\t\t\t\t\tvar arr=str.split(\",\");\r\n\t\t\t\t\t(this).pages=arr;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tvar pages;\r\n\t\t\t\tvar values;\r\n\t\t\t\tstr=xml.getAttribute(\"pages\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tpages=str.split(\",\");\r\n\t\t\t\tstr=xml.getAttribute(\"values\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tvalues=str.split(\"|\");\r\n\t\t\t\tif(pages && values){\r\n\t\t\t\t\tfor(var i=0;i<values.length;i++)\r\n\t\t\t\t\tthis.addStatus(pages[i],values[i]);\r\n\t\t\t\t}\r\n\t\t\t\tstr=xml.getAttribute(\"default\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tthis.addStatus(null,str);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.updateFromRelations=function(dx,dy){}\r\n\t\t__proto.addStatus=function(pageId,value){}\r\n\t\t__proto.init=function(){}\r\n\t\t__proto.apply=function(){}\r\n\t\t__proto.updateState=function(){}\r\n\t\t__getset(0,__proto,'controller',function(){\r\n\t\t\treturn this._controller;\r\n\t\t\t},function(val){\r\n\t\t\tif (val !=this._controller){\r\n\t\t\t\tthis._controller=val;\r\n\t\t\t\tif(this._controller)\r\n\t\t\t\t\tthis.init();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'tween',function(){\r\n\t\t\treturn this._tween;\r\n\t\t\t},function(val){\r\n\t\t\tthis._tween=val;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'delay',function(){\r\n\t\t\treturn this._delay;\r\n\t\t\t},function(val){\r\n\t\t\tthis._delay=val;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'tweenTime',function(){\r\n\t\t\treturn this._tweenTime;\r\n\t\t\t},function(value){\r\n\t\t\tthis._tweenTime=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'easeType',function(){\r\n\t\t\treturn this._easeType;\r\n\t\t\t},function(value){\r\n\t\t\tthis._easeType=value;\r\n\t\t});\r\n\r\n\t\tGearBase.disableAllTweenEffect=false;\r\n\t\treturn GearBase;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.GObjectPool\r\n\tvar GObjectPool=(function(){\r\n\t\tfunction GObjectPool(){\r\n\t\t\tthis._pool=null;\r\n\t\t\tthis._count=0;\r\n\t\t\tthis._pool={};\r\n\t\t}\r\n\r\n\t\t__class(GObjectPool,'fairygui.GObjectPool');\r\n\t\tvar __proto=GObjectPool.prototype;\r\n\t\t__proto.clear=function(){\r\n\t\t\tvar length1=this._pool.length;\r\n\t\t\tfor (var i1=0;i1 < length1;i1++){\r\n\t\t\t\tvar arr=this._pool[i1];\r\n\t\t\t\tvar cnt=arr.length;\r\n\t\t\t\tfor (var i=0;i < cnt;i++)\r\n\t\t\t\tarr[i].dispose();\r\n\t\t\t}\r\n\t\t\tthis._pool={};\r\n\t\t\tthis._count=0;\r\n\t\t}\r\n\r\n\t\t__proto.getObject=function(url){\r\n\t\t\tvar arr=this._pool[url];\r\n\t\t\tif (arr==null){\r\n\t\t\t\tarr=[];\r\n\t\t\t\tthis._pool[url]=arr;\r\n\t\t\t}\r\n\t\t\tif (arr.length){\r\n\t\t\t\tthis._count--;\r\n\t\t\t\treturn arr.shift();\r\n\t\t\t};\r\n\t\t\tvar child=UIPackage.createObjectFromURL(url);\r\n\t\t\treturn child;\r\n\t\t}\r\n\r\n\t\t__proto.returnObject=function(obj){\r\n\t\t\tvar url=obj.resourceURL;\r\n\t\t\tif (!url)\r\n\t\t\t\treturn;\r\n\t\t\tvar arr=this._pool[url];\r\n\t\t\tif (arr==null){\r\n\t\t\t\tarr=[];\r\n\t\t\t\tthis._pool[url]=arr;\r\n\t\t\t}\r\n\t\t\tthis._count++;\r\n\t\t\tarr.push(obj);\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'count',function(){\r\n\t\t\treturn this._count;\r\n\t\t});\r\n\r\n\t\treturn GObjectPool;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.ListLayoutType\r\n\tvar ListLayoutType=(function(){\r\n\t\tfunction ListLayoutType(){}\r\n\t\t__class(ListLayoutType,'fairygui.ListLayoutType');\r\n\t\tListLayoutType.parse=function(value){\r\n\t\t\tswitch (value){\r\n\t\t\t\tcase \"column\":\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\tcase \"row\":\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase \"flow_hz\":\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tcase \"flow_vt\":\r\n\t\t\t\t\treturn 3;\r\n\t\t\t\tcase \"pagination\":\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tListLayoutType.SingleColumn=0;\r\n\t\tListLayoutType.SingleRow=1;\r\n\t\tListLayoutType.FlowHorizontal=2;\r\n\t\tListLayoutType.FlowVertical=3;\r\n\t\tListLayoutType.Pagination=4;\r\n\t\treturn ListLayoutType;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.ListSelectionMode\r\n\tvar ListSelectionMode=(function(){\r\n\t\tfunction ListSelectionMode(){}\r\n\t\t__class(ListSelectionMode,'fairygui.ListSelectionMode');\r\n\t\tListSelectionMode.parse=function(value){\r\n\t\t\tswitch (value){\r\n\t\t\t\tcase \"single\":\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\tcase \"multiple\":\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase \"multipleSingleClick\":\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tcase \"none\":\r\n\t\t\t\t\treturn 3;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tListSelectionMode.Single=0;\r\n\t\tListSelectionMode.Multiple=1;\r\n\t\tListSelectionMode.Multiple_SingleClick=2;\r\n\t\tListSelectionMode.None=3;\r\n\t\treturn ListSelectionMode;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.LoaderFillType\r\n\tvar LoaderFillType=(function(){\r\n\t\tfunction LoaderFillType(){}\r\n\t\t__class(LoaderFillType,'fairygui.LoaderFillType');\r\n\t\tLoaderFillType.parse=function(value){\r\n\t\t\tswitch (value){\r\n\t\t\t\tcase \"none\":\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\tcase \"scale\":\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase \"scaleMatchHeight\":\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tcase \"scaleMatchWidth\":\r\n\t\t\t\t\treturn 3;\r\n\t\t\t\tcase \"scaleFree\":\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tLoaderFillType.None=0;\r\n\t\tLoaderFillType.Scale=1;\r\n\t\tLoaderFillType.ScaleMatchHeight=2;\r\n\t\tLoaderFillType.ScaleMatchWidth=3;\r\n\t\tLoaderFillType.ScaleFree=4;\r\n\t\treturn LoaderFillType;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.Margin\r\n\tvar Margin=(function(){\r\n\t\tfunction Margin(){\r\n\t\t\tthis.left=0;\r\n\t\t\tthis.right=0;\r\n\t\t\tthis.top=0;\r\n\t\t\tthis.bottom=0;\r\n\t\t}\r\n\r\n\t\t__class(Margin,'fairygui.Margin');\r\n\t\tvar __proto=Margin.prototype;\r\n\t\t__proto.parse=function(str){\r\n\t\t\tif (!str){\r\n\t\t\t\tthis.left=0;\r\n\t\t\t\tthis.right=0;\r\n\t\t\t\tthis.top=0;\r\n\t\t\t\tthis.bottom=0;\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tvar arr=str.split(\",\");\r\n\t\t\tif (arr.length==1){\r\n\t\t\t\tvar k=parseInt(arr[0]);\r\n\t\t\t\tthis.top=k;\r\n\t\t\t\tthis.bottom=k;\r\n\t\t\t\tthis.left=k;\r\n\t\t\t\tthis.right=k;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.top=parseInt(arr[0]);\r\n\t\t\t\tthis.bottom=parseInt(arr[1]);\r\n\t\t\t\tthis.left=parseInt(arr[2]);\r\n\t\t\t\tthis.right=parseInt(arr[3]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.copy=function(source){\r\n\t\t\tthis.top=source.top;\r\n\t\t\tthis.bottom=source.bottom;\r\n\t\t\tthis.left=source.left;\r\n\t\t\tthis.right=source.right;\r\n\t\t}\r\n\r\n\t\treturn Margin;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.OverflowType\r\n\tvar OverflowType=(function(){\r\n\t\tfunction OverflowType(){}\r\n\t\t__class(OverflowType,'fairygui.OverflowType');\r\n\t\tOverflowType.parse=function(value){\r\n\t\t\tswitch (value){\r\n\t\t\t\tcase \"visible\":\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\tcase \"hidden\":\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase \"scroll\":\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tcase \"scale\":\r\n\t\t\t\t\treturn 3;\r\n\t\t\t\tcase \"scaleFree\":\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tOverflowType.Visible=0;\r\n\t\tOverflowType.Hidden=1;\r\n\t\tOverflowType.Scroll=2;\r\n\t\tOverflowType.Scale=3;\r\n\t\tOverflowType.ScaleFree=4;\r\n\t\treturn OverflowType;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.PackageItem\r\n\tvar PackageItem=(function(){\r\n\t\tfunction PackageItem(){\r\n\t\t\tthis.owner=null;\r\n\t\t\tthis.type=0;\r\n\t\t\tthis.id=null;\r\n\t\t\tthis.name=null;\r\n\t\t\tthis.width=0;\r\n\t\t\tthis.height=0;\r\n\t\t\tthis.file=null;\r\n\t\t\tthis.decoded=false;\r\n\t\t\tthis.scale9Grid=null;\r\n\t\t\tthis.scaleByTile=false;\r\n\t\t\tthis.tileGridIndice=0;\r\n\t\t\tthis.smoothing=false;\r\n\t\t\tthis.texture=null;\r\n\t\t\tthis.interval=0;\r\n\t\t\tthis.repeatDelay=0;\r\n\t\t\tthis.swing=false;\r\n\t\t\tthis.frames=null;\r\n\t\t\tthis.componentData=null;\r\n\t\t\tthis.displayList=null;\r\n\t\t\tthis.sound=null;\r\n\t\t\tthis.bitmapFont=null;\r\n\t\t}\r\n\r\n\t\t__class(PackageItem,'fairygui.PackageItem');\r\n\t\tvar __proto=PackageItem.prototype;\r\n\t\t__proto.load=function(){\r\n\t\t\treturn this.owner.getItemAsset(this);\r\n\t\t}\r\n\r\n\t\t__proto.toString=function(){\r\n\t\t\treturn this.name;\r\n\t\t}\r\n\r\n\t\treturn PackageItem;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.PackageItemType\r\n\tvar PackageItemType=(function(){\r\n\t\tfunction PackageItemType(){}\r\n\t\t__class(PackageItemType,'fairygui.PackageItemType');\r\n\t\tPackageItemType.parse=function(value){\r\n\t\t\tswitch(value){\r\n\t\t\t\tcase \"image\":\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\tcase \"movieclip\":\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tcase \"sound\":\r\n\t\t\t\t\treturn 3;\r\n\t\t\t\tcase \"component\":\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase \"swf\":\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase \"font\":\r\n\t\t\t\t\treturn 6;\r\n\t\t\t\tcase \"atlas\":\r\n\t\t\t\t\treturn 7;\r\n\t\t\t\t}\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tPackageItemType.Image=0;\r\n\t\tPackageItemType.Swf=1;\r\n\t\tPackageItemType.MovieClip=2;\r\n\t\tPackageItemType.Sound=3;\r\n\t\tPackageItemType.Component=4;\r\n\t\tPackageItemType.Misc=5;\r\n\t\tPackageItemType.Font=6;\r\n\t\tPackageItemType.Atlas=7;\r\n\t\treturn PackageItemType;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.PageOption\r\n\tvar PageOption=(function(){\r\n\t\tfunction PageOption(){\r\n\t\t\tthis._controller=null;\r\n\t\t\tthis._id=null;\r\n\t\t}\r\n\r\n\t\t__class(PageOption,'fairygui.PageOption');\r\n\t\tvar __proto=PageOption.prototype;\r\n\t\t__proto.clear=function(){\r\n\t\t\tthis._id=null;\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'controller',null,function(val){\r\n\t\t\tthis._controller=val;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'index',function(){\r\n\t\t\tif (this._id)\r\n\t\t\t\treturn this._controller.getPageIndexById(this._id);\r\n\t\t\telse\r\n\t\t\treturn-1;\r\n\t\t\t},function(pageIndex){\r\n\t\t\tthis._id=this._controller.getPageId(pageIndex);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'name',function(){\r\n\t\t\tif (this._id)\r\n\t\t\t\treturn this._controller.getPageNameById(this._id);\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t\t},function(pageName){\r\n\t\t\tthis._id=this._controller.getPageIdByName(pageName);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'id',function(){\r\n\t\t\treturn this._id;\r\n\t\t\t},function(id){\r\n\t\t\tthis._id=id;\r\n\t\t});\r\n\r\n\t\treturn PageOption;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.PopupMenu\r\n\tvar PopupMenu=(function(){\r\n\t\tfunction PopupMenu(resourceURL){\r\n\t\t\tthis._contentPane=null;\r\n\t\t\tthis._list=null;\r\n\t\t\tif(!resourceURL){\r\n\t\t\t\tresourceURL=UIConfig1.popupMenu;\r\n\t\t\t\tif(!resourceURL)\r\n\t\t\t\t\tthrow \"UIConfig.popupMenu not defined\";\r\n\t\t\t}\r\n\t\t\tthis._contentPane=UIPackage.createObjectFromURL(resourceURL).asCom;\r\n\t\t\tthis._contentPane.on(\"display\",this,this.__addedToStage);\r\n\t\t\tthis._list=(this._contentPane.getChild(\"list\"));\r\n\t\t\tthis._list.removeChildrenToPool();\r\n\t\t\tthis._list.addRelation(this._contentPane,14);\r\n\t\t\tthis._list.removeRelation(this._contentPane,15);\r\n\t\t\tthis._contentPane.addRelation(this._list,15);\r\n\t\t\tthis._list.on(\"fui_click_item\",this,this.__clickItem);\r\n\t\t}\r\n\r\n\t\t__class(PopupMenu,'fairygui.PopupMenu');\r\n\t\tvar __proto=PopupMenu.prototype;\r\n\t\t__proto.dispose=function(){\r\n\t\t\tthis._contentPane.dispose();\r\n\t\t}\r\n\r\n\t\t__proto.addItem=function(caption,handler){\r\n\t\t\tvar item=this._list.addItemFromPool().asButton;\r\n\t\t\titem.title=caption;\r\n\t\t\titem.data=handler;\r\n\t\t\titem.grayed=false;\r\n\t\t\tvar c=item.getController(\"checked\");\r\n\t\t\tif(c !=null)\r\n\t\t\t\tc.selectedIndex=0;\r\n\t\t\treturn item;\r\n\t\t}\r\n\r\n\t\t__proto.addItemAt=function(caption,index,handler){\r\n\t\t\tvar item=this._list.getFromPool().asButton;\r\n\t\t\tthis._list.addChildAt(item,index);\r\n\t\t\titem.title=caption;\r\n\t\t\titem.data=handler;\r\n\t\t\titem.grayed=false;\r\n\t\t\tvar c=item.getController(\"checked\");\r\n\t\t\tif(c !=null)\r\n\t\t\t\tc.selectedIndex=0;\r\n\t\t\treturn item;\r\n\t\t}\r\n\r\n\t\t__proto.addSeperator=function(){\r\n\t\t\tif(UIConfig1.popupMenu_seperator==null)\r\n\t\t\t\tthrow \"UIConfig.popupMenu_seperator not defined\";\r\n\t\t\tthis.list.addItemFromPool(UIConfig1.popupMenu_seperator);\r\n\t\t}\r\n\r\n\t\t__proto.getItemName=function(index){\r\n\t\t\tvar item=this._list.getChildAt(index);\r\n\t\t\treturn item.name;\r\n\t\t}\r\n\r\n\t\t__proto.setItemText=function(name,caption){\r\n\t\t\tvar item=this._list.getChild(name).asButton;\r\n\t\t\titem.title=caption;\r\n\t\t}\r\n\r\n\t\t__proto.setItemVisible=function(name,visible){\r\n\t\t\tvar item=this._list.getChild(name).asButton;\r\n\t\t\tif(item.visible !=visible){\r\n\t\t\t\titem.visible=visible;\r\n\t\t\t\tthis._list.setBoundsChangedFlag();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setItemGrayed=function(name,grayed){\r\n\t\t\tvar item=this._list.getChild(name).asButton;\r\n\t\t\titem.grayed=grayed;\r\n\t\t}\r\n\r\n\t\t__proto.setItemCheckable=function(name,checkable){\r\n\t\t\tvar item=this._list.getChild(name).asButton;\r\n\t\t\tvar c=item.getController(\"checked\");\r\n\t\t\tif(c !=null){\r\n\t\t\t\tif(checkable){\r\n\t\t\t\t\tif(c.selectedIndex==0)\r\n\t\t\t\t\t\tc.selectedIndex=1;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\tc.selectedIndex=0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setItemChecked=function(name,checked){\r\n\t\t\tvar item=this._list.getChild(name).asButton;\r\n\t\t\tvar c=item.getController(\"checked\");\r\n\t\t\tif(c !=null)\r\n\t\t\t\tc.selectedIndex=checked?2:1;\r\n\t\t}\r\n\r\n\t\t__proto.isItemChecked=function(name){\r\n\t\t\tvar item=this._list.getChild(name).asButton;\r\n\t\t\tvar c=item.getController(\"checked\");\r\n\t\t\tif(c !=null)\r\n\t\t\t\treturn c.selectedIndex==2;\r\n\t\t\telse\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t__proto.removeItem=function(name){\r\n\t\t\tvar item=this._list.getChild(name);\r\n\t\t\tif(item !=null){\r\n\t\t\t\tvar index=this._list.getChildIndex(item);\r\n\t\t\t\tthis._list.removeChildToPoolAt(index);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t__proto.clearItems=function(){\r\n\t\t\tthis._list.removeChildrenToPool();\r\n\t\t}\r\n\r\n\t\t__proto.show=function(target,downward){\r\n\t\t\tvar r=target !=null?target.root:GRoot.inst;\r\n\t\t\tr.showPopup(this.contentPane,((target instanceof fairygui.GRoot ))?null:target,downward);\r\n\t\t}\r\n\r\n\t\t__proto.__clickItem=function(itemObject){\r\n\t\t\tLaya.timer.once(100,this,this.__clickItem2,[itemObject]);\r\n\t\t}\r\n\r\n\t\t__proto.__clickItem2=function(itemObject){\r\n\t\t\tif(!((itemObject instanceof fairygui.GButton )))\r\n\t\t\t\treturn;\r\n\t\t\tif(itemObject.grayed){\r\n\t\t\t\tthis._list.selectedIndex=-1;\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tvar c=itemObject.asCom.getController(\"checked\");\r\n\t\t\tif(c !=null && c.selectedIndex !=0){\r\n\t\t\t\tif(c.selectedIndex==1)\r\n\t\t\t\t\tc.selectedIndex=2;\r\n\t\t\t\telse\r\n\t\t\t\tc.selectedIndex=1;\r\n\t\t\t};\r\n\t\t\tvar r=(this._contentPane.parent);\r\n\t\t\tr.hidePopup(this.contentPane);\r\n\t\t\tif(itemObject.data !=null){\r\n\t\t\t\t(itemObject.data).run();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__addedToStage=function(){\r\n\t\t\tthis._list.selectedIndex=-1;\r\n\t\t\tthis._list.resizeToFit(100000,10);\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'itemCount',function(){\r\n\t\t\treturn this._list.numChildren;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'contentPane',function(){\r\n\t\t\treturn this._contentPane;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'list',function(){\r\n\t\t\treturn this._list;\r\n\t\t});\r\n\r\n\t\treturn PopupMenu;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.ProgressTitleType\r\n\tvar ProgressTitleType=(function(){\r\n\t\tfunction ProgressTitleType(){}\r\n\t\t__class(ProgressTitleType,'fairygui.ProgressTitleType');\r\n\t\tProgressTitleType.parse=function(value){\r\n\t\t\tswitch (value){\r\n\t\t\t\tcase \"percent\":\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\tcase \"valueAndmax\":\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase \"value\":\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tcase \"max\":\r\n\t\t\t\t\treturn 3;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tProgressTitleType.Percent=0;\r\n\t\tProgressTitleType.ValueAndMax=1;\r\n\t\tProgressTitleType.Value=2;\r\n\t\tProgressTitleType.Max=3;\r\n\t\treturn ProgressTitleType;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.RelationItem\r\n\tvar RelationItem=(function(){\r\n\t\tvar RelationDef;\r\n\t\tfunction RelationItem(owner){\r\n\t\t\tthis._owner=null;\r\n\t\t\tthis._target=null;\r\n\t\t\tthis._defs=null;\r\n\t\t\tthis._targetX=NaN;\r\n\t\t\tthis._targetY=NaN;\r\n\t\t\tthis._targetWidth=NaN;\r\n\t\t\tthis._targetHeight=NaN;\r\n\t\t\tthis._owner=owner;\r\n\t\t\tthis._defs=[];\r\n\t\t}\r\n\r\n\t\t__class(RelationItem,'fairygui.RelationItem');\r\n\t\tvar __proto=RelationItem.prototype;\r\n\t\t__proto.add=function(relationType,usePercent){\r\n\t\t\tif (relationType==24){\r\n\t\t\t\tthis.add(14,usePercent);\r\n\t\t\t\tthis.add(15,usePercent);\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tvar length=this._defs.length;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar def=this._defs[i];\r\n\t\t\t\tif (def.type==relationType)\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.internalAdd(relationType,usePercent);\r\n\t\t}\r\n\r\n\t\t__proto.internalAdd=function(relationType,usePercent){\r\n\t\t\tif (relationType==24){\r\n\t\t\t\tthis.internalAdd(14,usePercent);\r\n\t\t\t\tthis.internalAdd(15,usePercent);\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tvar info=new RelationDef();\r\n\t\t\tinfo.percent=usePercent;\r\n\t\t\tinfo.type=relationType;\r\n\t\t\tthis._defs.push(info);\r\n\t\t\tif (usePercent || relationType==1 || relationType==3 || relationType==5\r\n\t\t\t\t|| relationType==8 || relationType==10 || relationType==12)\r\n\t\t\tthis._owner.pixelSnapping=true;\r\n\t\t}\r\n\r\n\t\t__proto.remove=function(relationType){\r\n\t\t\t(relationType===void 0)&& (relationType=0);\r\n\t\t\tif (relationType==24){\r\n\t\t\t\tthis.remove(14);\r\n\t\t\t\tthis.remove(15);\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tvar dc=this._defs.length;\r\n\t\t\tfor (var k=0;k < dc;k++){\r\n\t\t\t\tif (this._defs[k].type==relationType){\r\n\t\t\t\t\tthis._defs.splice(k,1);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.copyFrom=function(source){\r\n\t\t\tthis.target=source.target;\r\n\t\t\tthis._defs.length=0;\r\n\t\t\tvar length=source._defs.length;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar info=source._defs[i];\r\n\t\t\t\tvar info2=new RelationDef();\r\n\t\t\t\tinfo2.copyFrom(info);\r\n\t\t\t\tthis._defs.push(info2);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.dispose=function(){\r\n\t\t\tif (this._target !=null){\r\n\t\t\t\tthis.releaseRefTarget(this._target);\r\n\t\t\t\tthis._target=null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.applyOnSelfResized=function(dWidth,dHeight){\r\n\t\t\tvar ox=this._owner.x;\r\n\t\t\tvar oy=this._owner.y;\r\n\t\t\tvar length=this._defs.length;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar info=this._defs[i];\r\n\t\t\t\tswitch (info.type){\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\tthis._owner.x-=dWidth / 2;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\tcase 6:\r\n\t\t\t\t\t\tthis._owner.x-=dWidth;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 10:\r\n\t\t\t\t\tcase 12:\r\n\t\t\t\t\t\tthis._owner.y-=dHeight / 2;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 11:\r\n\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\tthis._owner.y-=dHeight;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (ox !=this._owner.x || oy !=this._owner.y){\r\n\t\t\t\tox=this._owner.x-ox;\r\n\t\t\t\toy=this._owner.y-oy;\r\n\t\t\t\tthis._owner.updateGearFromRelations(1,ox,oy);\r\n\t\t\t\tif(this._owner.parent !=null){\r\n\t\t\t\t\tvar len=this._owner.parent._transitions.length;\r\n\t\t\t\t\tif(len > 0){\r\n\t\t\t\t\t\tfor(i=0;i < len;++i){\r\n\t\t\t\t\t\t\tthis._owner.parent._transitions[i].updateFromRelations(this._owner.id,ox,oy);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.applyOnXYChanged=function(info,dx,dy){\r\n\t\t\tvar tmp=NaN;\r\n\t\t\tswitch (info.type){\r\n\t\t\t\tcase 0:\r\n\t\t\t\tcase 1:\r\n\t\t\t\tcase 2:\r\n\t\t\t\tcase 3:\r\n\t\t\t\tcase 4:\r\n\t\t\t\tcase 5:\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tthis._owner.x+=dx;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 7:\r\n\t\t\t\tcase 8:\r\n\t\t\t\tcase 9:\r\n\t\t\t\tcase 10:\r\n\t\t\t\tcase 11:\r\n\t\t\t\tcase 12:\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\tthis._owner.y+=dy;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 14:\r\n\t\t\t\tcase 15:\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 16:\r\n\t\t\t\tcase 17:\r\n\t\t\t\t\ttmp=this._owner.x;\r\n\t\t\t\t\tthis._owner.x+=dx;\r\n\t\t\t\t\tthis._owner.width=this._owner._rawWidth-(this._owner.x-tmp);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 18:\r\n\t\t\t\tcase 19:\r\n\t\t\t\t\tthis._owner.width=this._owner._rawWidth+dx;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 20:\r\n\t\t\t\tcase 21:\r\n\t\t\t\t\ttmp=this._owner.y;\r\n\t\t\t\t\tthis._owner.y+=dy;\r\n\t\t\t\t\tthis._owner.height=this._owner._rawHeight-(this._owner.y-tmp);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 22:\r\n\t\t\t\tcase 23:\r\n\t\t\t\t\tthis._owner.height=this._owner._rawHeight+dy;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.applyOnSizeChanged=function(info){\r\n\t\t\tvar targetX=NaN,targetY=NaN;\r\n\t\t\tif (this._target !=this._owner.parent){\r\n\t\t\t\ttargetX=this._target.x;\r\n\t\t\t\ttargetY=this._target.y;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ttargetX=0;\r\n\t\t\t\ttargetY=0;\r\n\t\t\t};\r\n\t\t\tvar v=NaN,tmp=NaN;\r\n\t\t\tswitch (info.type){\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tv=this._owner.x-(targetX+this._targetWidth / 2);\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetWidth *this._target._rawWidth;\r\n\t\t\t\t\tthis._owner.x=targetX+this._target._rawWidth / 2+v;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tv=this._owner.x-(targetX+this._targetWidth);\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetWidth *this._target._rawWidth;\r\n\t\t\t\t\tthis._owner.x=targetX+this._target._rawWidth+v;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tv=this._owner.x+this._owner._rawWidth / 2-(targetX+this._targetWidth / 2);\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetWidth *this._target._rawWidth;\r\n\t\t\t\t\tthis._owner.x=targetX+this._target._rawWidth / 2+v-this._owner._rawWidth / 2;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tv=this._owner.x+this._owner._rawWidth-targetX;\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetWidth *this._target._rawWidth;\r\n\t\t\t\t\tthis._owner.x=targetX+v-this._owner._rawWidth;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tv=this._owner.x+this._owner._rawWidth-(targetX+this._targetWidth / 2);\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetWidth *this._target._rawWidth;\r\n\t\t\t\t\tthis._owner.x=targetX+this._target._rawWidth / 2+v-this._owner._rawWidth;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tv=this._owner.x+this._owner._rawWidth-(targetX+this._targetWidth);\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetWidth *this._target._rawWidth;\r\n\t\t\t\t\tthis._owner.x=targetX+this._target._rawWidth+v-this._owner._rawWidth;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tv=this._owner.y-(targetY+this._targetHeight / 2);\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetHeight *this._target._rawHeight;\r\n\t\t\t\t\tthis._owner.y=targetY+this._target._rawHeight / 2+v;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\tv=this._owner.y-(targetY+this._targetHeight);\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetHeight *this._target._rawHeight;\r\n\t\t\t\t\tthis._owner.y=targetY+this._target._rawHeight+v;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 10:\r\n\t\t\t\t\tv=this._owner.y+this._owner._rawHeight / 2-(targetY+this._targetHeight / 2);\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetHeight *this._target._rawHeight;\r\n\t\t\t\t\tthis._owner.y=targetY+this._target._rawHeight / 2+v-this._owner._rawHeight / 2;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 11:\r\n\t\t\t\t\tv=this._owner.y+this._owner._rawHeight-targetY;\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetHeight *this._target._rawHeight;\r\n\t\t\t\t\tthis._owner.y=targetY+v-this._owner._rawHeight;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 12:\r\n\t\t\t\t\tv=this._owner.y+this._owner._rawHeight-(targetY+this._targetHeight / 2);\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetHeight *this._target._rawHeight;\r\n\t\t\t\t\tthis._owner.y=targetY+this._target._rawHeight / 2+v-this._owner._rawHeight;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\tv=this._owner.y+this._owner._rawHeight-(targetY+this._targetHeight);\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetHeight *this._target._rawHeight;\r\n\t\t\t\t\tthis._owner.y=targetY+this._target._rawHeight+v-this._owner._rawHeight;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 14:\r\n\t\t\t\t\tif(this._owner._underConstruct && this._owner==this._target.parent)\r\n\t\t\t\t\t\tv=this._owner.sourceWidth-this._target._initWidth;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tv=this._owner._rawWidth-this._targetWidth;\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetWidth *this._target._rawWidth;\r\n\t\t\t\t\tif(this._target==this._owner.parent)\r\n\t\t\t\t\t\tthis._owner.setSize(this._target._rawWidth+v,this._owner._rawHeight,true);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._owner.width=this._target._rawWidth+v;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 15:\r\n\t\t\t\t\tif(this._owner._underConstruct && this._owner==this._target.parent)\r\n\t\t\t\t\t\tv=this._owner.sourceHeight-this._target._initHeight;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tv=this._owner._rawHeight-this._targetHeight;\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetHeight *this._target._rawHeight;\r\n\t\t\t\t\tif(this._target==this._owner.parent)\r\n\t\t\t\t\t\tthis._owner.setSize(this._owner._rawWidth,this._target._rawHeight+v,true);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._owner.height=this._target._rawHeight+v;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 16:\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 17:\r\n\t\t\t\t\tv=this._owner.x-(targetX+this._targetWidth);\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetWidth *this._target._rawWidth;\r\n\t\t\t\t\ttmp=this._owner.x;\r\n\t\t\t\t\tthis._owner.x=targetX+this._target._rawWidth+v;\r\n\t\t\t\t\tthis._owner.width=this._owner._rawWidth-(this._owner.x-tmp);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 18:\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 19:\r\n\t\t\t\t\tif(this._owner._underConstruct && this._owner==this._target.parent)\r\n\t\t\t\t\t\tv=this._owner.sourceWidth-(targetX+this._target._initWidth);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tv=this._owner.width-(targetX+this._targetWidth);\r\n\t\t\t\t\tif (this._owner !=this._target.parent)\r\n\t\t\t\t\t\tv+=this._owner.x;\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetWidth *this._target._rawWidth;\r\n\t\t\t\t\tif (this._owner !=this._target.parent)\r\n\t\t\t\t\t\tthis._owner.width=targetX+this._target._rawWidth+v-this._owner.x;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._owner.width=targetX+this._target._rawWidth+v;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 20:\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 21:\r\n\t\t\t\t\tv=this._owner.y-(targetY+this._targetHeight);\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetHeight *this._target._rawHeight;\r\n\t\t\t\t\ttmp=this._owner.y;\r\n\t\t\t\t\tthis._owner.y=targetY+this._target._rawHeight+v;\r\n\t\t\t\t\tthis._owner.height=this._owner._rawHeight-(this._owner.y-tmp);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 22:\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 23:\r\n\t\t\t\t\tif(this._owner._underConstruct && this._owner==this._target.parent)\r\n\t\t\t\t\t\tv=this._owner.sourceHeight-(targetY+this._target._initHeight);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tv=this._owner._rawHeight-(targetY+this._targetHeight);\r\n\t\t\t\t\tif (this._owner !=this._target.parent)\r\n\t\t\t\t\t\tv+=this._owner.y;\r\n\t\t\t\t\tif (info.percent)\r\n\t\t\t\t\t\tv=v / this._targetHeight *this._target._rawHeight;\r\n\t\t\t\t\tif (this._owner !=this._target.parent)\r\n\t\t\t\t\t\tthis._owner.height=targetY+this._target._rawHeight+v-this._owner.y;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._owner.height=targetY+this._target._rawHeight+v;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.addRefTarget=function(target){\r\n\t\t\tif (target !=this._owner.parent)\r\n\t\t\t\ttarget.on(\"fui_xy_changed\",this,this.__targetXYChanged);\r\n\t\t\ttarget.on(\"fui_size_changed\",this,this.__targetSizeChanged);\r\n\t\t\ttarget.on(\"fui_size_delay_change\",this,this.__targetSizeWillChange);\r\n\t\t\tthis._targetX=this._target.x;\r\n\t\t\tthis._targetY=this._target.y;\r\n\t\t\tthis._targetWidth=this._target._rawWidth;\r\n\t\t\tthis._targetHeight=this._target._rawHeight;\r\n\t\t}\r\n\r\n\t\t__proto.releaseRefTarget=function(target){\r\n\t\t\ttarget.off(\"fui_xy_changed\",this,this.__targetXYChanged);\r\n\t\t\ttarget.off(\"fui_size_changed\",this,this.__targetSizeChanged);\r\n\t\t\ttarget.off(\"fui_size_delay_change\",this,this.__targetSizeWillChange);\r\n\t\t}\r\n\r\n\t\t__proto.__targetXYChanged=function(){\r\n\t\t\tif (this._owner.relations.handling !=null || this._owner.group!=null && this._owner.group._updating){\r\n\t\t\t\tthis._targetX=this._target.x;\r\n\t\t\t\tthis._targetY=this._target.y;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._owner.relations.handling=this._target;\r\n\t\t\tvar ox=this._owner.x;\r\n\t\t\tvar oy=this._owner.y;\r\n\t\t\tvar dx=this._target.x-this._targetX;\r\n\t\t\tvar dy=this._target.y-this._targetY;\r\n\t\t\tvar length=this._defs.length;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar info=this._defs[i];\r\n\t\t\t\tthis.applyOnXYChanged(info,dx,dy);\r\n\t\t\t}\r\n\t\t\tthis._targetX=this._target.x;\r\n\t\t\tthis._targetY=this._target.y;\r\n\t\t\tif (ox !=this._owner.x || oy !=this._owner.y){\r\n\t\t\t\tox=this._owner.x-ox;\r\n\t\t\t\toy=this._owner.y-oy;\r\n\t\t\t\tthis._owner.updateGearFromRelations(1,ox,oy);\r\n\t\t\t\tif(this._owner.parent !=null){\r\n\t\t\t\t\tvar len=this._owner.parent._transitions.length;\r\n\t\t\t\t\tif(len > 0){\r\n\t\t\t\t\t\tfor(i=0;i < len;++i){\r\n\t\t\t\t\t\t\tthis._owner.parent._transitions[i].updateFromRelations(this._owner.id,ox,oy);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._owner.relations.handling=null;\r\n\t\t}\r\n\r\n\t\t__proto.__targetSizeChanged=function(){\r\n\t\t\tif (this._owner.relations.handling !=null)\r\n\t\t\t\treturn;\r\n\t\t\tthis._owner.relations.handling=this._target;\r\n\t\t\tvar ox=this._owner.x;\r\n\t\t\tvar oy=this._owner.y;\r\n\t\t\tvar ow=this._owner._rawWidth;\r\n\t\t\tvar oh=this._owner._rawHeight;\r\n\t\t\tvar length=this._defs.length;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar info=this._defs[i];\r\n\t\t\t\tthis.applyOnSizeChanged(info);\r\n\t\t\t}\r\n\t\t\tthis._targetWidth=this._target._rawWidth;\r\n\t\t\tthis._targetHeight=this._target._rawHeight;\r\n\t\t\tif (ox !=this._owner.x || oy !=this._owner.y){\r\n\t\t\t\tox=this._owner.x-ox;\r\n\t\t\t\toy=this._owner.y-oy;\r\n\t\t\t\tthis._owner.updateGearFromRelations(1,ox,oy);\r\n\t\t\t\tif(this._owner.parent !=null){\r\n\t\t\t\t\tvar len=this._owner.parent._transitions.length;\r\n\t\t\t\t\tif(len > 0){\r\n\t\t\t\t\t\tfor(i=0;i < len;++i){\r\n\t\t\t\t\t\t\tthis._owner.parent._transitions[i].updateFromRelations(this._owner.id,ox,oy);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(ow !=this._owner._rawWidth || oh !=this._owner._rawHeight){\r\n\t\t\t\tow=this._owner._rawWidth-ow;\r\n\t\t\t\toh=this._owner._rawHeight-oh;\r\n\t\t\t\tthis._owner.updateGearFromRelations(2,ow,oh);\r\n\t\t\t}\r\n\t\t\tthis._owner.relations.handling=null;\r\n\t\t}\r\n\r\n\t\t__proto.__targetSizeWillChange=function(){\r\n\t\t\tthis._owner.relations.sizeDirty=true;\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'owner',function(){\r\n\t\t\treturn this._owner;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'target',function(){\r\n\t\t\treturn this._target;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._target !=value){\r\n\t\t\t\tif (this._target)\r\n\t\t\t\t\tthis.releaseRefTarget(this._target);\r\n\t\t\t\tthis._target=value;\r\n\t\t\t\tif (this._target)\r\n\t\t\t\t\tthis.addRefTarget(this._target);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'isEmpty',function(){\r\n\t\t\treturn this._defs.length==0;\r\n\t\t});\r\n\r\n\t\tRelationItem.__init$=function(){\r\n\t\t\t//class RelationDef\r\n\t\t\tRelationDef=(function(){\r\n\t\t\t\tfunction RelationDef(){\r\n\t\t\t\t\tthis.percent=false;\r\n\t\t\t\t\tthis.type=NaN;\r\n\t\t\t\t}\r\n\t\t\t\t__class(RelationDef,'');\r\n\t\t\t\tvar __proto=RelationDef.prototype;\r\n\t\t\t\t__proto.copyFrom=function(source){\r\n\t\t\t\t\tthis.percent=source.percent;\r\n\t\t\t\t\tthis.type=source.type;\r\n\t\t\t\t}\r\n\t\t\t\treturn RelationDef;\r\n\t\t\t})()\r\n\t\t}\r\n\r\n\t\treturn RelationItem;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.Relations\r\n\tvar Relations=(function(){\r\n\t\tfunction Relations(owner){\r\n\t\t\tthis._owner=null;\r\n\t\t\tthis._items=null;\r\n\t\t\tthis.handling=null;\r\n\t\t\tthis.sizeDirty=false;\r\n\t\t\tthis._owner=owner;\r\n\t\t\tthis._items=[];\r\n\t\t}\r\n\r\n\t\t__class(Relations,'fairygui.Relations');\r\n\t\tvar __proto=Relations.prototype;\r\n\t\t__proto.add=function(target,relationType,usePercent){\r\n\t\t\t(usePercent===void 0)&& (usePercent=false);\r\n\t\t\tvar length=this._items.length;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\tif (item.target==target){\r\n\t\t\t\t\titem.add(relationType,usePercent);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar newItem=new RelationItem(this._owner);\r\n\t\t\tnewItem.target=target;\r\n\t\t\tnewItem.add(relationType,usePercent);\r\n\t\t\tthis._items.push(newItem);\r\n\t\t}\r\n\r\n\t\t__proto.addItems=function(target,sidePairs){\r\n\t\t\tvar arr=sidePairs.split(\",\");\r\n\t\t\tvar s;\r\n\t\t\tvar usePercent=false;\r\n\t\t\tvar i=NaN;\r\n\t\t\tvar newItem=new RelationItem(this._owner);\r\n\t\t\tnewItem.target=target;\r\n\t\t\tfor (i=0;i < 2;i++){\r\n\t\t\t\ts=arr[i];\r\n\t\t\t\tif (!s)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tif (s.charAt(s.length-1)==\"%\"){\r\n\t\t\t\t\ts=s.substr(0,s.length-1);\r\n\t\t\t\t\tusePercent=true;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\tusePercent=false;\r\n\t\t\t\tvar j=s.indexOf(\"-\");\r\n\t\t\t\tif (j==-1)\r\n\t\t\t\t\ts=s+\"-\"+s;\r\n\t\t\t\tvar t=fairygui.Relations.RELATION_NAMES.indexOf(s);\r\n\t\t\t\tif (t==-1)\r\n\t\t\t\t\tthrow \"invalid relation type\";\r\n\t\t\t\tnewItem.internalAdd(t,usePercent);\r\n\t\t\t}\r\n\t\t\tthis._items.push(newItem);\r\n\t\t}\r\n\r\n\t\t__proto.remove=function(target,relationType){\r\n\t\t\t(relationType===void 0)&& (relationType=0);\r\n\t\t\tvar cnt=this._items.length;\r\n\t\t\tvar i=0;\r\n\t\t\twhile (i < cnt){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\tif (item.target==target){\r\n\t\t\t\t\titem.remove(relationType);\r\n\t\t\t\t\tif (item.isEmpty){\r\n\t\t\t\t\t\titem.dispose();\r\n\t\t\t\t\t\tthis._items.splice(i,1);\r\n\t\t\t\t\t\tcnt--;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.contains=function(target){\r\n\t\t\tvar length=this._items.length;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\tif (item.target==target)\r\n\t\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t__proto.clearFor=function(target){\r\n\t\t\tvar cnt=this._items.length;\r\n\t\t\tvar i=0;\r\n\t\t\twhile (i < cnt){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\tif (item.target==target){\r\n\t\t\t\t\titem.dispose();\r\n\t\t\t\t\tthis._items.splice(i,1);\r\n\t\t\t\t\tcnt--;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.clearAll=function(){\r\n\t\t\tvar length=this._items.length;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\titem.dispose();\r\n\t\t\t}\r\n\t\t\tthis._items.length=0;\r\n\t\t}\r\n\r\n\t\t__proto.copyFrom=function(source){\r\n\t\t\tthis.clearAll();\r\n\t\t\tvar arr=source._items;\r\n\t\t\tvar length=arr.length;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar ri=arr[i];\r\n\t\t\t\tvar item=new RelationItem(this._owner);\r\n\t\t\t\titem.copyFrom(ri);\r\n\t\t\t\tthis._items.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.dispose=function(){\r\n\t\t\tthis.clearAll();\r\n\t\t}\r\n\r\n\t\t__proto.onOwnerSizeChanged=function(dWidth,dHeight){\r\n\t\t\tif (this._items.length==0)\r\n\t\t\t\treturn;\r\n\t\t\tvar length=this._items.length;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\titem.applyOnSelfResized(dWidth,dHeight);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.ensureRelationsSizeCorrect=function(){\r\n\t\t\tif (this._items.length==0)\r\n\t\t\t\treturn;\r\n\t\t\tthis.sizeDirty=false;\r\n\t\t\tvar length=this._items.length;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\titem.target.ensureSizeCorrect();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setup=function(xml){\r\n\t\t\tvar col=xml.childNodes;\r\n\t\t\tvar length=col.length;\r\n\t\t\tvar targetId;\r\n\t\t\tvar target;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar cxml=col[i];\r\n\t\t\t\tif(cxml.nodeName!=\"relation\")\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\ttargetId=cxml.getAttribute(\"target\");\r\n\t\t\t\tif (this._owner.parent){\r\n\t\t\t\t\tif (targetId)\r\n\t\t\t\t\t\ttarget=this._owner.parent.getChildById(targetId);\r\n\t\t\t\t\telse\r\n\t\t\t\t\ttarget=this._owner.parent;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\ttarget=(this._owner).getChildById(targetId);\r\n\t\t\t\t}\r\n\t\t\t\tif (target)\r\n\t\t\t\t\tthis.addItems(target,cxml.getAttribute(\"sidePair\"));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'empty',function(){\r\n\t\t\treturn this._items.length==0;\r\n\t\t});\r\n\r\n\t\t__static(Relations,\r\n\t\t['RELATION_NAMES',function(){return this.RELATION_NAMES=\r\n\t\t\t[\r\n\t\t\t\"left-left\",\r\n\t\t\t\"left-center\",\r\n\t\t\t\"left-right\",\r\n\t\t\t\"center-center\",\r\n\t\t\t\"right-left\",\r\n\t\t\t\"right-center\",\r\n\t\t\t\"right-right\",\r\n\t\t\t\"top-top\",\r\n\t\t\t\"top-middle\",\r\n\t\t\t\"top-bottom\",\r\n\t\t\t\"middle-middle\",\r\n\t\t\t\"bottom-top\",\r\n\t\t\t\"bottom-middle\",\r\n\t\t\t\"bottom-bottom\",\r\n\t\t\t\"width-width\",\r\n\t\t\t\"height-height\",\r\n\t\t\t\"leftext-left\",\r\n\t\t\t\"leftext-right\",\r\n\t\t\t\"rightext-left\",\r\n\t\t\t\"rightext-right\",\r\n\t\t\t\"topext-top\",\r\n\t\t\t\"topext-bottom\",\r\n\t\t\t\"bottomext-top\",\r\n\t\t\t\"bottomext-bottom\"];}\r\n\t\t]);\r\n\t\treturn Relations;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.RelationType\r\n\tvar RelationType=(function(){\r\n\t\tfunction RelationType(){}\r\n\t\t__class(RelationType,'fairygui.RelationType');\r\n\t\tRelationType.Left_Left=0;\r\n\t\tRelationType.Left_Center=1;\r\n\t\tRelationType.Left_Right=2;\r\n\t\tRelationType.Center_Center=3;\r\n\t\tRelationType.Right_Left=4;\r\n\t\tRelationType.Right_Center=5;\r\n\t\tRelationType.Right_Right=6;\r\n\t\tRelationType.Top_Top=7;\r\n\t\tRelationType.Top_Middle=8;\r\n\t\tRelationType.Top_Bottom=9;\r\n\t\tRelationType.Middle_Middle=10;\r\n\t\tRelationType.Bottom_Top=11;\r\n\t\tRelationType.Bottom_Middle=12;\r\n\t\tRelationType.Bottom_Bottom=13;\r\n\t\tRelationType.Width=14;\r\n\t\tRelationType.Height=15;\r\n\t\tRelationType.LeftExt_Left=16;\r\n\t\tRelationType.LeftExt_Right=17;\r\n\t\tRelationType.RightExt_Left=18;\r\n\t\tRelationType.RightExt_Right=19;\r\n\t\tRelationType.TopExt_Top=20;\r\n\t\tRelationType.TopExt_Bottom=21;\r\n\t\tRelationType.BottomExt_Top=22;\r\n\t\tRelationType.BottomExt_Bottom=23;\r\n\t\tRelationType.Size=24;\r\n\t\treturn RelationType;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.ScrollBarDisplayType\r\n\tvar ScrollBarDisplayType=(function(){\r\n\t\tfunction ScrollBarDisplayType(){}\r\n\t\t__class(ScrollBarDisplayType,'fairygui.ScrollBarDisplayType');\r\n\t\tScrollBarDisplayType.parse=function(value){\r\n\t\t\tswitch (value){\r\n\t\t\t\tcase \"default\":\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\tcase \"visible\":\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase \"auto\":\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tcase \"hidden\":\r\n\t\t\t\t\treturn 3;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tScrollBarDisplayType.Default=0;\r\n\t\tScrollBarDisplayType.Visible=1;\r\n\t\tScrollBarDisplayType.Auto=2;\r\n\t\tScrollBarDisplayType.Hidden=3;\r\n\t\treturn ScrollBarDisplayType;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.ScrollPane\r\n\tvar ScrollPane=(function(){\r\n\t\tvar TweenHelper;\r\n\t\tfunction ScrollPane(owner,scrollType,scrollBarMargin,scrollBarDisplay,flags,vtScrollBarRes,hzScrollBarRes){\r\n\t\t\tthis._owner=null;\r\n\t\t\tthis._maskContainer=null;\r\n\t\t\tthis._container=null;\r\n\t\t\tthis._viewWidth=0;\r\n\t\t\tthis._viewHeight=0;\r\n\t\t\tthis._contentWidth=0;\r\n\t\t\tthis._contentHeight=0;\r\n\t\t\tthis._scrollType=0;\r\n\t\t\tthis._scrollSpeed=0;\r\n\t\t\tthis._mouseWheelSpeed=0;\r\n\t\t\tthis._scrollBarMargin=null;\r\n\t\t\tthis._bouncebackEffect=false;\r\n\t\t\tthis._touchEffect=false;\r\n\t\t\tthis._scrollBarDisplayAuto=false;\r\n\t\t\tthis._vScrollNone=false;\r\n\t\t\tthis._hScrollNone=false;\r\n\t\t\tthis._displayOnLeft=false;\r\n\t\t\tthis._snapToItem=false;\r\n\t\t\tthis._displayInDemand=false;\r\n\t\t\tthis._mouseWheelEnabled=false;\r\n\t\t\tthis._pageMode=false;\r\n\t\t\tthis._pageSizeH=NaN;\r\n\t\t\tthis._pageSizeV=NaN;\r\n\t\t\tthis._inertiaDisabled=false;\r\n\t\t\tthis._yPerc=NaN;\r\n\t\t\tthis._xPerc=NaN;\r\n\t\t\tthis._xPos=NaN;\r\n\t\t\tthis._yPos=NaN;\r\n\t\t\tthis._xOverlap=NaN;\r\n\t\t\tthis._yOverlap=NaN;\r\n\t\t\tthis._tweening=NaN;\r\n\t\t\tthis._tweenHelper=null;\r\n\t\t\tthis._tweener=null;\r\n\t\t\tthis._needRefresh=false;\r\n\t\t\tthis._time1=NaN;\r\n\t\t\tthis._time2=NaN;\r\n\t\t\tthis._y1=NaN;\r\n\t\t\tthis._y2=NaN;\r\n\t\t\tthis._yOffset=NaN;\r\n\t\t\tthis._x1=NaN;\r\n\t\t\tthis._x2=NaN;\r\n\t\t\tthis._xOffset=NaN;\r\n\t\t\tthis._holdAreaPoint=null;\r\n\t\t\tthis._isHoldAreaDone=false;\r\n\t\t\tthis._aniFlag=0;\r\n\t\t\tthis._scrollBarVisible=false;\r\n\t\t\tthis._hzScrollBar=null;\r\n\t\t\tthis._vtScrollBar=null;\r\n\t\t\tthis.isDragged=false;\r\n\t\t\t;\r\n\t\t\tif(fairygui.ScrollPane._easeTypeFunc==null)\r\n\t\t\t\tfairygui.ScrollPane._easeTypeFunc=Ease.cubicOut;\r\n\t\t\tthis._tweenHelper=new TweenHelper();\r\n\t\t\tthis._owner=owner;\r\n\t\t\tthis._maskContainer=new Sprite();\r\n\t\t\tthis._owner.displayObject.addChild(this._maskContainer);\r\n\t\t\tthis._container=this._owner._container;\r\n\t\t\tthis._container.pos(0,0);\r\n\t\t\tthis._maskContainer.addChild(this._container);\r\n\t\t\tthis._scrollType=scrollType;\r\n\t\t\tthis._scrollBarMargin=scrollBarMargin;\r\n\t\t\tthis._bouncebackEffect=UIConfig1.defaultScrollBounceEffect;\r\n\t\t\tthis._touchEffect=UIConfig1.defaultScrollTouchEffect;\r\n\t\t\tthis._scrollSpeed=UIConfig1.defaultScrollSpeed;\r\n\t\t\tthis._mouseWheelSpeed=this._scrollSpeed *2;\r\n\t\t\tthis._displayOnLeft=(flags & 1)!=0;\r\n\t\t\tthis._snapToItem=(flags & 2)!=0;\r\n\t\t\tthis._displayInDemand=(flags & 4)!=0;\r\n\t\t\tthis._pageMode=(flags & 8)!=0;\r\n\t\t\tif(flags & 16)\r\n\t\t\t\tthis._touchEffect=true;\r\n\t\t\telse if(flags & 32)\r\n\t\t\tthis._touchEffect=false;\r\n\t\t\telse\r\n\t\t\tthis._touchEffect=UIConfig1.defaultScrollTouchEffect;\r\n\t\t\tif(flags & 64)\r\n\t\t\t\tthis._bouncebackEffect=true;\r\n\t\t\telse if(flags & 128)\r\n\t\t\tthis._bouncebackEffect=false;\r\n\t\t\telse\r\n\t\t\tthis._bouncebackEffect=UIConfig1.defaultScrollBounceEffect;\r\n\t\t\tthis._inertiaDisabled=(flags & 256)!=0;\r\n\t\t\tif((flags & 512)==0)\r\n\t\t\t\tthis._maskContainer.scrollRect=new Rectangle();\r\n\t\t\tthis._xPerc=0;\r\n\t\t\tthis._yPerc=0;\r\n\t\t\tthis._xPos=0\r\n\t\t\tthis._yPos=0;\r\n\t\t\tthis._xOverlap=0;\r\n\t\t\tthis._yOverlap=0;\r\n\t\t\tthis._aniFlag=0;\r\n\t\t\tthis._scrollBarVisible=true;\r\n\t\t\tthis._mouseWheelEnabled=true;\r\n\t\t\tthis._holdAreaPoint=new Point();\r\n\t\t\tif(scrollBarDisplay==0)\r\n\t\t\t\tscrollBarDisplay=UIConfig1.defaultScrollBarDisplay;\r\n\t\t\tif(scrollBarDisplay !=3){\r\n\t\t\t\tif(this._scrollType==2 || this._scrollType==1){\r\n\t\t\t\t\tvar res=vtScrollBarRes ? vtScrollBarRes :UIConfig1.verticalScrollBar;\r\n\t\t\t\t\tif(res){\r\n\t\t\t\t\t\tthis._vtScrollBar=(UIPackage.createObjectFromURL(res));\r\n\t\t\t\t\t\tif(!this._vtScrollBar)\r\n\t\t\t\t\t\t\tthrow \"cannot create scrollbar from \"+res;\r\n\t\t\t\t\t\tthis._vtScrollBar.setScrollPane(this,true);\r\n\t\t\t\t\t\tthis._owner.displayObject.addChild(this._vtScrollBar.displayObject);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this._scrollType==2 || this._scrollType==0){\r\n\t\t\t\t\tres=hzScrollBarRes ? hzScrollBarRes :UIConfig1.horizontalScrollBar;\r\n\t\t\t\t\tif(res){\r\n\t\t\t\t\t\tthis._hzScrollBar=(UIPackage.createObjectFromURL(res));\r\n\t\t\t\t\t\tif(!this._hzScrollBar)\r\n\t\t\t\t\t\t\tthrow \"cannot create scrollbar from \"+res;\r\n\t\t\t\t\t\tthis._hzScrollBar.setScrollPane(this,false);\r\n\t\t\t\t\t\tthis._owner.displayObject.addChild(this._hzScrollBar.displayObject);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._scrollBarDisplayAuto=scrollBarDisplay==2;\r\n\t\t\t\tif(this._scrollBarDisplayAuto){\r\n\t\t\t\t\tthis._scrollBarVisible=false;\r\n\t\t\t\t\tif(this._vtScrollBar)\r\n\t\t\t\t\t\tthis._vtScrollBar.displayObject.visible=false;\r\n\t\t\t\t\tif(this._hzScrollBar)\r\n\t\t\t\t\t\tthis._hzScrollBar.displayObject.visible=false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._contentWidth=0;\r\n\t\t\tthis._contentHeight=0;\r\n\t\t\tthis.setSize(owner.width,owner.height);\r\n\t\t\tthis._owner.on(\"mousedown\",this,this.__mouseDown);\r\n\t\t\tthis._owner.on(\"mousewheel\",this,this.__mouseWheel);\r\n\t\t}\r\n\r\n\t\t__class(ScrollPane,'fairygui.ScrollPane');\r\n\t\tvar __proto=ScrollPane.prototype;\r\n\t\t__proto.setPercX=function(value,ani){\r\n\t\t\t(ani===void 0)&& (ani=false);\r\n\t\t\tthis._owner.ensureBoundsCorrect();\r\n\t\t\tvalue=ToolSet.clamp01(value);\r\n\t\t\tif(value !=this._xPerc){\r\n\t\t\t\tthis._xPerc=value;\r\n\t\t\t\tthis._xPos=this._xPerc*this._xOverlap;\r\n\t\t\t\tthis.posChanged(ani);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setPercY=function(value,ani){\r\n\t\t\t(ani===void 0)&& (ani=false);\r\n\t\t\tthis._owner.ensureBoundsCorrect();\r\n\t\t\tvalue=ToolSet.clamp01(value);\r\n\t\t\tif(value !=this._yPerc){\r\n\t\t\t\tthis._yPerc=value;\r\n\t\t\t\tthis._yPos=this._yPerc*this._yOverlap;\r\n\t\t\t\tthis.posChanged(ani);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setPosX=function(value,ani){\r\n\t\t\t(ani===void 0)&& (ani=false);\r\n\t\t\tthis._owner.ensureBoundsCorrect();\r\n\t\t\tvalue=ToolSet.clamp(value,0,this._xOverlap);\r\n\t\t\tif(value!=this._xPos){\r\n\t\t\t\tthis._xPos=value;\r\n\t\t\t\tthis._xPerc=this._xOverlap==0?0:this._xPos/this._xOverlap;\r\n\t\t\t\tthis.posChanged(ani);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setPosY=function(value,ani){\r\n\t\t\t(ani===void 0)&& (ani=false);\r\n\t\t\tthis._owner.ensureBoundsCorrect();\r\n\t\t\tvalue=ToolSet.clamp(value,0,this._yOverlap);\r\n\t\t\tif(value!=this._yPos){\r\n\t\t\t\tthis._yPos=value;\r\n\t\t\t\tthis._yPerc=this._yOverlap==0?0:this._yPos/this._yOverlap;\r\n\t\t\t\tthis.posChanged(ani);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.getDeltaX=function(move){\r\n\t\t\treturn move / (this._contentWidth-this._viewWidth);\r\n\t\t}\r\n\r\n\t\t__proto.getDeltaY=function(move){\r\n\t\t\treturn move / (this._contentHeight-this._viewHeight);\r\n\t\t}\r\n\r\n\t\t__proto.scrollTop=function(ani){\r\n\t\t\t(ani===void 0)&& (ani=false);\r\n\t\t\tthis.setPercY(0,ani);\r\n\t\t}\r\n\r\n\t\t__proto.scrollBottom=function(ani){\r\n\t\t\t(ani===void 0)&& (ani=false);\r\n\t\t\tthis.setPercY(1,ani);\r\n\t\t}\r\n\r\n\t\t__proto.scrollUp=function(speed,ani){\r\n\t\t\t(speed===void 0)&& (speed=1);\r\n\t\t\t(ani===void 0)&& (ani=false);\r\n\t\t\tthis.setPercY(this._yPerc-this.getDeltaY(this._scrollSpeed *speed),ani);\r\n\t\t}\r\n\r\n\t\t__proto.scrollDown=function(speed,ani){\r\n\t\t\t(speed===void 0)&& (speed=1);\r\n\t\t\t(ani===void 0)&& (ani=false);\r\n\t\t\tthis.setPercY(this._yPerc+this.getDeltaY(this._scrollSpeed *speed),ani);\r\n\t\t}\r\n\r\n\t\t__proto.scrollLeft=function(speed,ani){\r\n\t\t\t(speed===void 0)&& (speed=1);\r\n\t\t\t(ani===void 0)&& (ani=false);\r\n\t\t\tthis.setPercX(this._xPerc-this.getDeltaX(this._scrollSpeed *speed),ani);\r\n\t\t}\r\n\r\n\t\t__proto.scrollRight=function(speed,ani){\r\n\t\t\t(speed===void 0)&& (speed=1);\r\n\t\t\t(ani===void 0)&& (ani=false);\r\n\t\t\tthis.setPercX(this._xPerc+this.getDeltaX(this._scrollSpeed *speed),ani);\r\n\t\t}\r\n\r\n\t\t__proto.scrollToView=function(target,ani,setFirst){\r\n\t\t\t(ani===void 0)&& (ani=false);\r\n\t\t\t(setFirst===void 0)&& (setFirst=false);\r\n\t\t\tthis._owner.ensureBoundsCorrect();\r\n\t\t\tif(this._needRefresh)\r\n\t\t\t\tthis.refresh();\r\n\t\t\tvar rect;\r\n\t\t\tif((target instanceof fairygui.GObject )){\r\n\t\t\t\tif(target.parent !=this._owner){\r\n\t\t\t\t\ttarget.parent.localToGlobalRect(target.x,target.y,\r\n\t\t\t\t\ttarget.width,target.height,fairygui.ScrollPane.sHelperRect);\r\n\t\t\t\t\trect=this._owner.globalToLocalRect(fairygui.ScrollPane.sHelperRect.x,fairygui.ScrollPane.sHelperRect.y,\r\n\t\t\t\t\tfairygui.ScrollPane.sHelperRect.width,fairygui.ScrollPane.sHelperRect.height,fairygui.ScrollPane.sHelperRect);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\trect=fairygui.ScrollPane.sHelperRect;\r\n\t\t\t\t\trect.setTo(target.x,target.y,target.width,target.height);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\trect=(target);\r\n\t\t\tif (this._yOverlap>0){\r\n\t\t\t\tvar top=this.posY;\r\n\t\t\t\tvar bottom=top+this._viewHeight;\r\n\t\t\t\tif(setFirst || rect.y < top || rect.height >=this._viewHeight){\r\n\t\t\t\t\tif(this._pageMode)\r\n\t\t\t\t\t\tthis.setPosY(Math.floor(rect.y / this._pageSizeV)*this._pageSizeV,ani);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.setPosY(rect.y,ani);\r\n\t\t\t\t}\r\n\t\t\t\telse if(rect.y+rect.height > bottom){\r\n\t\t\t\t\tif(this._pageMode)\r\n\t\t\t\t\t\tthis.setPosY(Math.floor(rect.y / this._pageSizeV)*this._pageSizeV,ani);\r\n\t\t\t\t\telse if(rect.height <=this._viewHeight/2)\r\n\t\t\t\t\tthis.setPosY(rect.y+rect.height *2-this._viewHeight,ani);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.setPosY(rect.y+rect.height-this._viewHeight,ani);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this._xOverlap>0){\r\n\t\t\t\tvar left=this.posX;\r\n\t\t\t\tvar right=left+this._viewWidth;\r\n\t\t\t\tif(setFirst || rect.x < left || rect.width >=this._viewWidth){\r\n\t\t\t\t\tif(this._pageMode)\r\n\t\t\t\t\t\tthis.setPosX(Math.floor(rect.x / this._pageSizeH)*this._pageSizeH,ani);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.setPosX(rect.x,ani);\r\n\t\t\t\t}\r\n\t\t\t\telse if(rect.x+rect.width > right){\r\n\t\t\t\t\tif(this._pageMode)\r\n\t\t\t\t\t\tthis.setPosX(Math.floor(rect.x / this._pageSizeH)*this._pageSizeH,ani);\r\n\t\t\t\t\telse if(rect.width <=this._viewWidth/2)\r\n\t\t\t\t\tthis.setPosX(rect.x+rect.width *2-this._viewWidth,ani);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.setPosX(rect.x+rect.width-this._viewWidth,ani);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!ani && this._needRefresh)\r\n\t\t\t\tthis.refresh();\r\n\t\t}\r\n\r\n\t\t__proto.isChildInView=function(obj){\r\n\t\t\tvar dist=NaN;\r\n\t\t\tif(this._yOverlap>0){\r\n\t\t\t\tdist=obj.y+this._container.y;\r\n\t\t\t\tif(dist <-obj.height-20 || dist > this._viewHeight+20)\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif(this._xOverlap>0){\r\n\t\t\t\tdist=obj.x+this._container.x;\r\n\t\t\t\tif(dist <-obj.width-20 || dist > this._viewWidth+20)\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t__proto.cancelDragging=function(){\r\n\t\t\tthis._owner.displayObject.stage.off(\"mousemove\",this,this.__mouseMove);\r\n\t\t\tthis._owner.displayObject.stage.off(\"mouseup\",this,this.__mouseUp);\r\n\t\t\tthis._owner.displayObject.stage.off(\"click\",this,this.__click);\r\n\t\t\tif (ScrollPane.draggingPane==this)\r\n\t\t\t\tScrollPane.draggingPane=null;\r\n\t\t\tScrollPane._gestureFlag=0;\r\n\t\t\tthis.isDragged=false;\r\n\t\t\tthis._maskContainer.mouseEnabled=true;\r\n\t\t}\r\n\r\n\t\t__proto.onOwnerSizeChanged=function(){\r\n\t\t\tthis.setSize(this._owner.width,this._owner.height);\r\n\t\t\tthis.posChanged(false);\r\n\t\t}\r\n\r\n\t\t__proto.adjustMaskContainer=function(){\r\n\t\t\tvar mx=NaN,my=NaN;\r\n\t\t\tif (this._displayOnLeft && this._vtScrollBar !=null)\r\n\t\t\t\tmx=Math.floor(this._owner.margin.left+this._vtScrollBar.width);\r\n\t\t\telse\r\n\t\t\tmx=Math.floor(this._owner.margin.left);\r\n\t\t\tmy=Math.floor(this._owner.margin.top);\r\n\t\t\tmx+=this._owner._alignOffset.x;\r\n\t\t\tmy+=this._owner._alignOffset.y;\r\n\t\t\tthis._maskContainer.pos(mx,my);\r\n\t\t}\r\n\r\n\t\t__proto.setSize=function(aWidth,aHeight){\r\n\t\t\tthis.adjustMaskContainer();\r\n\t\t\tif (this._hzScrollBar){\r\n\t\t\t\tthis._hzScrollBar.y=aHeight-this._hzScrollBar.height;\r\n\t\t\t\tif(this._vtScrollBar && !this._vScrollNone){\r\n\t\t\t\t\tthis._hzScrollBar.width=aWidth-this._vtScrollBar.width-this._scrollBarMargin.left-this._scrollBarMargin.right;\r\n\t\t\t\t\tif(this._displayOnLeft)\r\n\t\t\t\t\t\tthis._hzScrollBar.x=this._scrollBarMargin.left+this._vtScrollBar.width;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._hzScrollBar.x=this._scrollBarMargin.left;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis._hzScrollBar.width=aWidth-this._scrollBarMargin.left-this._scrollBarMargin.right;\r\n\t\t\t\t\tthis._hzScrollBar.x=this._scrollBarMargin.left;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this._vtScrollBar){\r\n\t\t\t\tif (!this._displayOnLeft)\r\n\t\t\t\t\tthis._vtScrollBar.x=aWidth-this._vtScrollBar.width;\r\n\t\t\t\tif(this._hzScrollBar)\r\n\t\t\t\t\tthis._vtScrollBar.height=aHeight-this._hzScrollBar.height-this._scrollBarMargin.top-this._scrollBarMargin.bottom;\r\n\t\t\t\telse\r\n\t\t\t\tthis._vtScrollBar.height=aHeight-this._scrollBarMargin.top-this._scrollBarMargin.bottom;\r\n\t\t\t\tthis._vtScrollBar.y=this._scrollBarMargin.top;\r\n\t\t\t}\r\n\t\t\tthis._viewWidth=aWidth;\r\n\t\t\tthis._viewHeight=aHeight;\r\n\t\t\tif(this._hzScrollBar && !this._hScrollNone)\r\n\t\t\t\tthis._viewHeight-=this._hzScrollBar.height;\r\n\t\t\tif(this._vtScrollBar && !this._vScrollNone)\r\n\t\t\t\tthis._viewWidth-=this._vtScrollBar.width;\r\n\t\t\tthis._viewWidth-=(this._owner.margin.left+this._owner.margin.right);\r\n\t\t\tthis._viewHeight-=(this._owner.margin.top+this._owner.margin.bottom);\r\n\t\t\tthis._viewWidth=Math.max(1,this._viewWidth);\r\n\t\t\tthis._viewHeight=Math.max(1,this._viewHeight);\r\n\t\t\tthis._pageSizeH=this._viewWidth;\r\n\t\t\tthis._pageSizeV=this._viewHeight;\r\n\t\t\tthis.handleSizeChanged();\r\n\t\t}\r\n\r\n\t\t__proto.setContentSize=function(aWidth,aHeight){\r\n\t\t\tif (this._contentWidth==aWidth && this._contentHeight==aHeight)\r\n\t\t\t\treturn;\r\n\t\t\tthis._contentWidth=aWidth;\r\n\t\t\tthis._contentHeight=aHeight;\r\n\t\t\tthis.handleSizeChanged();\r\n\t\t}\r\n\r\n\t\t__proto.changeContentSizeOnScrolling=function(deltaWidth,deltaHeight,deltaPosX,deltaPosY){\r\n\t\t\tthis._contentWidth+=deltaWidth;\r\n\t\t\tthis._contentHeight+=deltaHeight;\r\n\t\t\tif (this.isDragged){\r\n\t\t\t\tif (deltaPosX !=0)\r\n\t\t\t\t\tthis._container.x-=deltaPosX;\r\n\t\t\t\tif (deltaPosY !=0)\r\n\t\t\t\t\tthis._container.y-=deltaPosY;\r\n\t\t\t\tthis.validateHolderPos();\r\n\t\t\t\tthis._xOffset+=deltaPosX;\r\n\t\t\t\tthis._yOffset+=deltaPosY;\r\n\t\t\t\tvar tmp=this._y2-this._y1;\r\n\t\t\t\tthis._y1=this._container.y;\r\n\t\t\t\tthis._y2=this._y1+tmp;\r\n\t\t\t\ttmp=this._x2-this._x1;\r\n\t\t\t\tthis._x1=this._container.x;\r\n\t\t\t\tthis._x2=this._x1+tmp;\r\n\t\t\t\tthis._yPos=-this._container.y;\r\n\t\t\t\tthis._xPos=-this._container.x;\r\n\t\t\t}\r\n\t\t\telse if (this._tweening==2){\r\n\t\t\t\tif (deltaPosX !=0){\r\n\t\t\t\t\tthis._container.x-=deltaPosX;\r\n\t\t\t\t\tthis._tweenHelper.start.x-=deltaPosX;\r\n\t\t\t\t}\r\n\t\t\t\tif (deltaPosY !=0){\r\n\t\t\t\t\tthis._container.y-=deltaPosY;\r\n\t\t\t\t\tthis._tweenHelper.start.y-=deltaPosY;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.handleSizeChanged(true);\r\n\t\t}\r\n\r\n\t\t__proto.handleSizeChanged=function(onScrolling){\r\n\t\t\t(onScrolling===void 0)&& (onScrolling=false);\r\n\t\t\tif(this._displayInDemand){\r\n\t\t\t\tif(this._vtScrollBar){\r\n\t\t\t\t\tif(this._contentHeight <=this._viewHeight){\r\n\t\t\t\t\t\tif(!this._vScrollNone){\r\n\t\t\t\t\t\t\tthis._vScrollNone=true;\r\n\t\t\t\t\t\t\tthis._viewWidth+=this._vtScrollBar.width;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif(this._vScrollNone){\r\n\t\t\t\t\t\t\tthis._vScrollNone=false;\r\n\t\t\t\t\t\t\tthis._viewWidth-=this._vtScrollBar.width;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(this._hzScrollBar){\r\n\t\t\t\t\tif(this._contentWidth <=this._viewWidth){\r\n\t\t\t\t\t\tif(!this._hScrollNone){\r\n\t\t\t\t\t\t\tthis._hScrollNone=true;\r\n\t\t\t\t\t\t\tthis._viewHeight+=this._hzScrollBar.height;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif(this._hScrollNone){\r\n\t\t\t\t\t\t\tthis._hScrollNone=false;\r\n\t\t\t\t\t\t\tthis._viewHeight-=this._hzScrollBar.height;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(this._vtScrollBar){\r\n\t\t\t\tif(this._viewHeight < this._vtScrollBar.minSize)\r\n\t\t\t\t\tthis._vtScrollBar.displayObject.visible=false;\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis._vtScrollBar.displayObject.visible=this._scrollBarVisible && !this._vScrollNone;\r\n\t\t\t\t\tif(this._contentHeight==0)\r\n\t\t\t\t\t\tthis._vtScrollBar.displayPerc=0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._vtScrollBar.displayPerc=Math.min(1,this._viewHeight / this._contentHeight);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(this._hzScrollBar){\r\n\t\t\t\tif(this._viewWidth < this._hzScrollBar.minSize)\r\n\t\t\t\t\tthis._hzScrollBar.displayObject.visible=false;\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis._hzScrollBar.displayObject.visible=this._scrollBarVisible && !this._hScrollNone;\r\n\t\t\t\t\tif(this._contentWidth==0)\r\n\t\t\t\t\t\tthis._hzScrollBar.displayPerc=0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._hzScrollBar.displayPerc=Math.min(1,this._viewWidth / this._contentWidth);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar rect=this._maskContainer.scrollRect;\r\n\t\t\tif(rect!=null){\r\n\t\t\t\trect.width=this._viewWidth;\r\n\t\t\t\trect.height=this._viewHeight;\r\n\t\t\t\tthis._maskContainer.scrollRect=rect;\r\n\t\t\t}\r\n\t\t\tif (this._scrollType==0 || this._scrollType==2)\r\n\t\t\t\tthis._xOverlap=Math.ceil(Math.max(0,this._contentWidth-this._viewWidth));\r\n\t\t\telse\r\n\t\t\tthis._xOverlap=0;\r\n\t\t\tif (this._scrollType==1 || this._scrollType==2)\r\n\t\t\t\tthis._yOverlap=Math.ceil(Math.max(0,this._contentHeight-this._viewHeight));\r\n\t\t\telse\r\n\t\t\tthis._yOverlap=0;\r\n\t\t\tif(this._tweening==0 && onScrolling){\r\n\t\t\t\tif(this._xPerc==0 || this._xPerc==1){\r\n\t\t\t\t\tthis._xPos=this._xPerc *this._xOverlap;\r\n\t\t\t\t\tthis._container.x=-this._xPos;\r\n\t\t\t\t}\r\n\t\t\t\tif(this._yPerc==0 || this._yPerc==1){\r\n\t\t\t\t\tthis._yPos=this._yPerc *this._yOverlap;\r\n\t\t\t\t\tthis._container.y=-this._yPos;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis._xPos=ToolSet.clamp(this._xPos,0,this._xOverlap);\r\n\t\t\t\tthis._xPerc=this._xOverlap>0?this._xPos/this._xOverlap:0;\r\n\t\t\t\tthis._yPos=ToolSet.clamp(this._yPos,0,this._yOverlap);\r\n\t\t\t\tthis._yPerc=this._yOverlap>0?this._yPos/this._yOverlap:0;\r\n\t\t\t}\r\n\t\t\tthis.validateHolderPos();\r\n\t\t\tif (this._vtScrollBar !=null)\r\n\t\t\t\tthis._vtScrollBar.scrollPerc=this._yPerc;\r\n\t\t\tif (this._hzScrollBar !=null)\r\n\t\t\t\tthis._hzScrollBar.scrollPerc=this._xPerc;\r\n\t\t}\r\n\r\n\t\t__proto.validateHolderPos=function(){\r\n\t\t\tthis._container.x=ToolSet.clamp(this._container.x,-this._xOverlap,0);\r\n\t\t\tthis._container.y=ToolSet.clamp(this._container.y,-this._yOverlap,0);\r\n\t\t}\r\n\r\n\t\t__proto.posChanged=function(ani){\r\n\t\t\tif (this._aniFlag==0)\r\n\t\t\t\tthis._aniFlag=ani ? 1 :-1;\r\n\t\t\telse if (this._aniFlag==1 && !ani)\r\n\t\t\tthis._aniFlag=-1;\r\n\t\t\tthis._needRefresh=true;\r\n\t\t\tLaya.timer.callLater(this,this.refresh);\r\n\t\t\tif(this._tweening==2){\r\n\t\t\t\tthis.killTween();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.killTween=function(){\r\n\t\t\tif(this._tweening==1){\r\n\t\t\t\tthis._tweener.clear();\r\n\t\t\t\tthis._tweening=0;\r\n\t\t\t\tthis._tweener=null;\r\n\t\t\t\tthis.syncScrollBar(true);\r\n\t\t\t}\r\n\t\t\telse if(this._tweening==2){\r\n\t\t\t\tthis._tweener.clear();\r\n\t\t\t\tthis._tweener=null;\r\n\t\t\t\tthis._tweening=0;\r\n\t\t\t\tthis.validateHolderPos();\r\n\t\t\t\tthis.syncScrollBar(true);\r\n\t\t\t\tEvents.dispatch(\"fui_scroll_end\",this._owner.displayObject);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.refresh=function(){\r\n\t\t\tthis._needRefresh=false;\r\n\t\t\tLaya.timer.clear(this,this.refresh);\r\n\t\t\tif(this._pageMode){\r\n\t\t\t\tvar page=0;\r\n\t\t\t\tvar delta=NaN;\r\n\t\t\t\tif(this._yOverlap>0 && this._yPerc!=1 && this._yPerc!=0){\r\n\t\t\t\t\tpage=Math.floor(this._yPos / this._pageSizeV);\r\n\t\t\t\t\tdelta=this._yPos-page*this._pageSizeV;\r\n\t\t\t\t\tif(delta>this._pageSizeV/2)\r\n\t\t\t\t\t\tpage++;\r\n\t\t\t\t\tthis._yPos=page *this._pageSizeV;\r\n\t\t\t\t\tif(this._yPos>this._yOverlap){\r\n\t\t\t\t\t\tthis._yPos=this._yOverlap;\r\n\t\t\t\t\t\tthis._yPerc=1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._yPerc=this._yPos / this._yOverlap;\r\n\t\t\t\t}\r\n\t\t\t\tif(this._xOverlap>0 && this._xPerc!=1 && this._xPerc!=0){\r\n\t\t\t\t\tpage=Math.floor(this._xPos / this._pageSizeH);\r\n\t\t\t\t\tdelta=this._xPos-page*this._pageSizeH;\r\n\t\t\t\t\tif(delta>this._pageSizeH/2)\r\n\t\t\t\t\t\tpage++;\r\n\t\t\t\t\tthis._xPos=page *this._pageSizeH;\r\n\t\t\t\t\tif(this._xPos>this._xOverlap){\r\n\t\t\t\t\t\tthis._xPos=this._xOverlap;\r\n\t\t\t\t\t\tthis._xPerc=1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._xPerc=this._xPos / this._xOverlap;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(this._snapToItem){\r\n\t\t\t\tvar pt=this._owner.getSnappingPosition(this._xPerc==1?0:this._xPos,this._yPerc==1?0:this._yPos,ScrollPane.sHelperPoint);\r\n\t\t\t\tif (this._xPerc !=1 && pt.x!=this._xPos){\r\n\t\t\t\t\tthis._xPos=pt.x;\r\n\t\t\t\t\tthis._xPerc=this._xPos / this._xOverlap;\r\n\t\t\t\t\tif(this._xPerc>1){\r\n\t\t\t\t\t\tthis._xPerc=1;\r\n\t\t\t\t\t\tthis._xPos=this._xOverlap;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (this._yPerc !=1 && pt.y!=this._yPos){\r\n\t\t\t\t\tthis._yPos=pt.y;\r\n\t\t\t\t\tthis._yPerc=this._yPos / this._yOverlap;\r\n\t\t\t\t\tif(this._yPerc>1){\r\n\t\t\t\t\t\tthis._yPerc=1;\r\n\t\t\t\t\t\tthis._yPos=this._yOverlap;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.refresh2();\r\n\t\t\tEvents.dispatch(\"fui_scroll\",this._owner.displayObject);\r\n\t\t\tif(this._needRefresh){\r\n\t\t\t\tthis._needRefresh=false;\r\n\t\t\t\tLaya.timer.clear(this,this.refresh);\r\n\t\t\t\tthis.refresh2();\r\n\t\t\t}\r\n\t\t\tthis._aniFlag=0;\r\n\t\t}\r\n\r\n\t\t__proto.refresh2=function(){\r\n\t\t\tvar contentXLoc=Math.floor(this._xPos);\r\n\t\t\tvar contentYLoc=Math.floor(this._yPos);\r\n\t\t\tif(this._aniFlag==1 && !this.isDragged){\r\n\t\t\t\tvar toX=this._container.x;\r\n\t\t\t\tvar toY=this._container.y;\r\n\t\t\t\tif(this._yOverlap>0)\r\n\t\t\t\t\ttoY=-contentYLoc;\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(this._container.y !=0)\r\n\t\t\t\t\t\tthis._container.y=0;\r\n\t\t\t\t}\r\n\t\t\t\tif(this._xOverlap>0)\r\n\t\t\t\t\ttoX=-contentXLoc;\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(this._container.x !=0)\r\n\t\t\t\t\t\tthis._container.x=0;\r\n\t\t\t\t}\r\n\t\t\t\tif(toX !=this._container.x || toY !=this._container.y){\r\n\t\t\t\t\tthis.killTween();\r\n\t\t\t\t\tthis._maskContainer.mouseEnabled=false;\r\n\t\t\t\t\tthis._tweening=1;\r\n\t\t\t\t\tthis._tweener=Tween.to(this._container,\r\n\t\t\t\t\t{x:toX,y:toY },\r\n\t\t\t\t\t500,\r\n\t\t\t\t\tfairygui.ScrollPane._easeTypeFunc,\r\n\t\t\t\t\tHandler.create(this,this.__tweenComplete));\r\n\t\t\t\t\tthis._tweener.update=Handler.create(this,this.__tweenUpdate,null,false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(this._tweener!=null)\r\n\t\t\t\t\tthis.killTween();\r\n\t\t\t\tif(this.isDragged){\r\n\t\t\t\t\tthis._xOffset+=this._container.x-(-contentXLoc);\r\n\t\t\t\t\tthis._yOffset+=this._container.y-(-contentYLoc);\r\n\t\t\t\t}\r\n\t\t\t\tthis._container.pos(-contentXLoc,-contentYLoc);\r\n\t\t\t\tif(this.isDragged){\r\n\t\t\t\t\tthis._y1=this._y2=this._container.y;\r\n\t\t\t\t\tthis._x1=this._x2=this._container.x;\r\n\t\t\t\t}\r\n\t\t\t\tif(this._vtScrollBar)\r\n\t\t\t\t\tthis._vtScrollBar.scrollPerc=this._yPerc;\r\n\t\t\t\tif(this._hzScrollBar)\r\n\t\t\t\t\tthis._hzScrollBar.scrollPerc=this._xPerc;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.syncPos=function(){\r\n\t\t\tif(this._xOverlap>0){\r\n\t\t\t\tthis._xPos=ToolSet.clamp(-this._container.x,0,this._xOverlap);\r\n\t\t\t\tthis._xPerc=this._xPos / this._xOverlap;\r\n\t\t\t}\r\n\t\t\tif(this._yOverlap>0){\r\n\t\t\t\tthis._yPos=ToolSet.clamp(-this._container.y,0,this._yOverlap);\r\n\t\t\t\tthis._yPerc=this._yPos / this._yOverlap;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.syncScrollBar=function(end){\r\n\t\t\t(end===void 0)&& (end=false);\r\n\t\t\tif(end){\r\n\t\t\t\tif(this._vtScrollBar){\r\n\t\t\t\t\tif(this._scrollBarDisplayAuto)\r\n\t\t\t\t\t\tthis.showScrollBar(false);\r\n\t\t\t\t}\r\n\t\t\t\tif(this._hzScrollBar){\r\n\t\t\t\t\tif(this._scrollBarDisplayAuto)\r\n\t\t\t\t\t\tthis.showScrollBar(false);\r\n\t\t\t\t}\r\n\t\t\t\tthis._maskContainer.mouseEnabled=true;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif(this._vtScrollBar){\r\n\t\t\t\t\tthis._vtScrollBar.scrollPerc=this._yOverlap==0 ? 0 :ToolSet.clamp(-this._container.y,0,this._yOverlap)/ this._yOverlap;\r\n\t\t\t\t\tif(this._scrollBarDisplayAuto)\r\n\t\t\t\t\t\tthis.showScrollBar(true);\r\n\t\t\t\t}\r\n\t\t\t\tif(this._hzScrollBar){\r\n\t\t\t\t\tthis._hzScrollBar.scrollPerc=this._xOverlap==0 ? 0 :ToolSet.clamp(-this._container.x,0,this._xOverlap)/ this._xOverlap;\r\n\t\t\t\t\tif(this._scrollBarDisplayAuto)\r\n\t\t\t\t\t\tthis.showScrollBar(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__mouseDown=function(){\r\n\t\t\tif (!this._touchEffect)\r\n\t\t\t\treturn;\r\n\t\t\tif(this._tweener!=null)\r\n\t\t\t\tthis.killTween();\r\n\t\t\tthis._owner.globalToLocal(Laya.stage.mouseX,Laya.stage.mouseY,fairygui.ScrollPane.sHelperPoint);\r\n\t\t\tthis._x1=this._x2=this._container.x;\r\n\t\t\tthis._y1=this._y2=this._container.y;\r\n\t\t\tthis._xOffset=fairygui.ScrollPane.sHelperPoint.x-this._container.x;\r\n\t\t\tthis._yOffset=fairygui.ScrollPane.sHelperPoint.y-this._container.y;\r\n\t\t\tthis._time1=this._time2=Laya.timer.currTimer;\r\n\t\t\tthis._holdAreaPoint.x=fairygui.ScrollPane.sHelperPoint.x;\r\n\t\t\tthis._holdAreaPoint.y=fairygui.ScrollPane.sHelperPoint.y;\r\n\t\t\tthis._isHoldAreaDone=false;\r\n\t\t\tthis.isDragged=false;\r\n\t\t\tthis._owner.displayObject.stage.on(\"mousemove\",this,this.__mouseMove);\r\n\t\t\tthis._owner.displayObject.stage.on(\"mouseup\",this,this.__mouseUp);\r\n\t\t\tthis._owner.displayObject.stage.on(\"click\",this,this.__click);\r\n\t\t}\r\n\r\n\t\t__proto.__mouseMove=function(){\r\n\t\t\tif(!this._touchEffect)\r\n\t\t\t\treturn;\r\n\t\t\tif (ScrollPane.draggingPane !=null && ScrollPane.draggingPane !=this || GObject.draggingObject !=null)\r\n\t\t\t\treturn;\r\n\t\t\tvar sensitivity=UIConfig1.touchScrollSensitivity;\r\n\t\t\tvar pt=this._owner.globalToLocal(Laya.stage.mouseX,Laya.stage.mouseY,fairygui.ScrollPane.sHelperPoint);\r\n\t\t\tvar diff=NaN,diff2=NaN;\r\n\t\t\tvar sv=false,sh=false,st=false;\r\n\t\t\tif (this._scrollType==1){\r\n\t\t\t\tif (!this._isHoldAreaDone){\r\n\t\t\t\t\tScrollPane._gestureFlag |=1;\r\n\t\t\t\t\tdiff=Math.abs(this._holdAreaPoint.y-this._maskContainer.mouseY);\r\n\t\t\t\t\tif (diff < sensitivity)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tif ((ScrollPane._gestureFlag & 2)!=0){\r\n\t\t\t\t\t\tdiff2=Math.abs(this._holdAreaPoint.x-this._maskContainer.mouseX);\r\n\t\t\t\t\t\tif (diff < diff2)\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsv=true;\r\n\t\t\t}\r\n\t\t\telse if (this._scrollType==0){\r\n\t\t\t\tif (!this._isHoldAreaDone){\r\n\t\t\t\t\tScrollPane._gestureFlag |=2;\r\n\t\t\t\t\tdiff=Math.abs(this._holdAreaPoint.x-this._maskContainer.mouseX);\r\n\t\t\t\t\tif (diff < sensitivity)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\tif ((ScrollPane._gestureFlag & 1)!=0){\r\n\t\t\t\t\t\tdiff2=Math.abs(this._holdAreaPoint.y-this._maskContainer.mouseY);\r\n\t\t\t\t\t\tif (diff < diff2)\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsh=true;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tScrollPane._gestureFlag=3;\r\n\t\t\t\tif (!this._isHoldAreaDone){\r\n\t\t\t\t\tdiff=Math.abs(this._holdAreaPoint.y-this._maskContainer.mouseY);\r\n\t\t\t\t\tif (diff < sensitivity){\r\n\t\t\t\t\t\tdiff=Math.abs(this._holdAreaPoint.x-this._maskContainer.mouseX);\r\n\t\t\t\t\t\tif (diff < sensitivity)\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsv=sh=true;\r\n\t\t\t};\r\n\t\t\tvar t=Laya.timer.currTimer;\r\n\t\t\tif (t-this._time2 > 50){\r\n\t\t\t\tthis._time2=this._time1;\r\n\t\t\t\tthis._time1=t;\r\n\t\t\t\tst=true;\r\n\t\t\t}\r\n\t\t\tif (sv){\r\n\t\t\t\tvar y=Math.floor(pt.y-this._yOffset);\r\n\t\t\t\tif (y > 0){\r\n\t\t\t\t\tif (!this._bouncebackEffect || this._inertiaDisabled)\r\n\t\t\t\t\t\tthis._container.y=0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._container.y=Math.floor(y *0.5);\r\n\t\t\t\t}\r\n\t\t\t\telse if (y <-this._yOverlap){\r\n\t\t\t\t\tif (!this._bouncebackEffect || this._inertiaDisabled)\r\n\t\t\t\t\t\tthis._container.y=-Math.floor(this._yOverlap);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._container.y=Math.floor((y-this._yOverlap)*0.5);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis._container.y=y;\r\n\t\t\t\t}\r\n\t\t\t\tif (st){\r\n\t\t\t\t\tthis._y2=this._y1;\r\n\t\t\t\t\tthis._y1=this._container.y;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (sh){\r\n\t\t\t\tvar x=Math.floor(pt.x-this._xOffset);\r\n\t\t\t\tif (x > 0){\r\n\t\t\t\t\tif (!this._bouncebackEffect || this._inertiaDisabled)\r\n\t\t\t\t\t\tthis._container.x=0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._container.x=Math.floor(x *0.5);\r\n\t\t\t\t}\r\n\t\t\t\telse if (x < 0-this._xOverlap || this._inertiaDisabled){\r\n\t\t\t\t\tif (!this._bouncebackEffect)\r\n\t\t\t\t\t\tthis._container.x=-Math.floor(this._xOverlap);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._container.x=Math.floor((x-this._xOverlap)*0.5);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis._container.x=x;\r\n\t\t\t\t}\r\n\t\t\t\tif (st){\r\n\t\t\t\t\tthis._x2=this._x1;\r\n\t\t\t\t\tthis._x1=this._container.x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tScrollPane.draggingPane=this;\r\n\t\t\tthis._maskContainer.mouseEnabled=false;\r\n\t\t\tthis._isHoldAreaDone=true;\r\n\t\t\tthis.isDragged=true;\r\n\t\t\tthis.syncPos();\r\n\t\t\tthis.syncScrollBar();\r\n\t\t\tEvents.dispatch(\"fui_scroll\",this._owner.displayObject);\r\n\t\t}\r\n\r\n\t\t__proto.__mouseUp=function(){\r\n\t\t\tthis._owner.displayObject.stage.off(\"mousemove\",this,this.__mouseMove);\r\n\t\t\tthis._owner.displayObject.stage.off(\"mouseup\",this,this.__mouseUp);\r\n\t\t\tthis._owner.displayObject.stage.off(\"click\",this,this.__click);\r\n\t\t\tif (!this._touchEffect){\r\n\t\t\t\tthis.isDragged=false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (ScrollPane.draggingPane==this)\r\n\t\t\t\tScrollPane.draggingPane=null;\r\n\t\t\tScrollPane._gestureFlag=0;\r\n\t\t\tif (!this.isDragged || !this._touchEffect || this._inertiaDisabled){\r\n\t\t\t\tthis.isDragged=false;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.isDragged=false;\r\n\t\t\tvar time=(Laya.timer.currTimer-this._time2)/ 1000;\r\n\t\t\tif (time==0)\r\n\t\t\t\ttime=0.001;\r\n\t\t\tvar yVelocity=(this._container.y-this._y2)/ time *2 *UIConfig1.defaultTouchScrollSpeedRatio;;\r\n\t\t\tvar xVelocity=(this._container.x-this._x2)/ time *2 *UIConfig1.defaultTouchScrollSpeedRatio;;\r\n\t\t\tvar duration=0.3;\r\n\t\t\tthis._tweenHelper.start.x=this._container.x;\r\n\t\t\tthis._tweenHelper.start.y=this._container.y;\r\n\t\t\tvar change1=this._tweenHelper.change1;\r\n\t\t\tvar change2=this._tweenHelper.change2;\r\n\t\t\tvar endX=0;\r\n\t\t\tvar endY=0;\r\n\t\t\tvar page=0;\r\n\t\t\tvar delta=0;\r\n\t\t\tvar fireRelease=0;\r\n\t\t\tvar testPageSize=NaN;\r\n\t\t\tif(this._scrollType==2 || this._scrollType==0){\r\n\t\t\t\tif (this._container.x > UIConfig1.touchDragSensitivity)\r\n\t\t\t\t\tfireRelease=1;\r\n\t\t\t\telse if (this._container.x <-this._xOverlap-UIConfig1.touchDragSensitivity)\r\n\t\t\t\tfireRelease=2;\r\n\t\t\t\tchange1.x=TweenHelper.calculateChange(xVelocity,duration);\r\n\t\t\t\tchange2.x=0;\r\n\t\t\t\tendX=this._container.x+change1.x;\r\n\t\t\t\tif(this._pageMode && endX<0 && endX>-this._xOverlap){\r\n\t\t\t\t\tpage=Math.floor(-endX / this._pageSizeH);\r\n\t\t\t\t\ttestPageSize=Math.min(this._pageSizeH,this._contentWidth-(page+1)*this._pageSizeH);\r\n\t\t\t\t\tdelta=-endX-page*this._pageSizeH;\r\n\t\t\t\t\tif (Math.abs(change1.x)> this._pageSizeH){\r\n\t\t\t\t\t\tif (delta > testPageSize *0.5)\r\n\t\t\t\t\t\t\tpage++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif (delta > testPageSize *(change1.x < 0 ? 0.3 :0.7))\r\n\t\t\t\t\t\t\tpage++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tendX=-page *this._pageSizeH;\r\n\t\t\t\t\tif (endX <-this._xOverlap)\r\n\t\t\t\t\t\tendX=-this._xOverlap;\r\n\t\t\t\t\tchange1.x=endX-this._container.x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tchange1.x=change2.x=0;\r\n\t\t\tif(this._scrollType==2 || this._scrollType==1){\r\n\t\t\t\tif (this._container.y > UIConfig1.touchDragSensitivity)\r\n\t\t\t\t\tfireRelease=1;\r\n\t\t\t\telse if (this._container.y <-this._yOverlap-UIConfig1.touchDragSensitivity)\r\n\t\t\t\tfireRelease=2;\r\n\t\t\t\tchange1.y=TweenHelper.calculateChange(yVelocity,duration);\r\n\t\t\t\tchange2.y=0;\r\n\t\t\t\tendY=this._container.y+change1.y;\r\n\t\t\t\tif(this._pageMode && endY < 0 && endY >-this._yOverlap){\r\n\t\t\t\t\tpage=Math.floor(-endY / this._pageSizeV);\r\n\t\t\t\t\ttestPageSize=Math.min(this._pageSizeV,this._contentHeight-(page+1)*this._pageSizeV);\r\n\t\t\t\t\tdelta=-endY-page *this._pageSizeV;\r\n\t\t\t\t\tif (Math.abs(change1.y)> this._pageSizeV){\r\n\t\t\t\t\t\tif (delta > testPageSize *0.5)\r\n\t\t\t\t\t\t\tpage++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif (delta > testPageSize *(change1.y < 0 ? 0.3 :0.7))\r\n\t\t\t\t\t\t\tpage++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tendY=-page *this._pageSizeV;\r\n\t\t\t\t\tif (endY <-this._yOverlap)\r\n\t\t\t\t\t\tendY=-this._yOverlap;\r\n\t\t\t\t\tchange1.y=endY-this._container.y;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tchange1.y=change2.y=0;\r\n\t\t\tif (this._snapToItem && !this._pageMode){\r\n\t\t\t\tendX=-endX;\r\n\t\t\t\tendY=-endY;\r\n\t\t\t\tvar pt=this._owner.getSnappingPosition(endX,endY,fairygui.ScrollPane.sHelperPoint);\r\n\t\t\t\tendX=-pt.x;\r\n\t\t\t\tendY=-pt.y;\r\n\t\t\t\tchange1.x=endX-this._container.x;\r\n\t\t\t\tchange1.y=endY-this._container.y;\r\n\t\t\t}\r\n\t\t\tif(this._bouncebackEffect){\r\n\t\t\t\tif(endX > 0)\r\n\t\t\t\t\tchange2.x=0-this._container.x-change1.x;\r\n\t\t\t\telse if(endX <-this._xOverlap)\r\n\t\t\t\tchange2.x=-this._xOverlap-this._container.x-change1.x;\r\n\t\t\t\tif(endY > 0)\r\n\t\t\t\t\tchange2.y=0-this._container.y-change1.y;\r\n\t\t\t\telse if(endY <-this._yOverlap)\r\n\t\t\t\tchange2.y=-this._yOverlap-this._container.y-change1.y;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(endX > 0)\r\n\t\t\t\t\tchange1.x=0-this._container.x;\r\n\t\t\t\telse if(endX <-this._xOverlap)\r\n\t\t\t\tchange1.x=-this._xOverlap-this._container.x;\r\n\t\t\t\tif(endY > 0)\r\n\t\t\t\t\tchange1.y=0-this._container.y;\r\n\t\t\t\telse if(endY <-this._yOverlap)\r\n\t\t\t\tchange1.y=-this._yOverlap-this._container.y;\r\n\t\t\t}\r\n\t\t\tthis._tweenHelper.value=0;\r\n\t\t\tthis._tweenHelper.change1=change1;\r\n\t\t\tthis._tweenHelper.change2=change2;\r\n\t\t\tif(this._tweener!=null)\r\n\t\t\t\tthis.killTween();\r\n\t\t\tthis._tweening=2;\r\n\t\t\tthis._tweener=Tween.to(this._tweenHelper,{value:1 },\r\n\t\t\tduration *1000,\r\n\t\t\tfairygui.ScrollPane._easeTypeFunc,\r\n\t\t\tHandler.create(this,this.__tweenComplete2));\r\n\t\t\tthis._tweener.update=Handler.create(this,this.__tweenUpdate2,null,false);\r\n\t\t\tif (fireRelease==1)\r\n\t\t\t\tEvents.dispatch(\"fui_pull_down_release\",this._owner.displayObject);\r\n\t\t\telse if (fireRelease==2)\r\n\t\t\tEvents.dispatch(\"fui_pull_up_release\",this._owner.displayObject);\r\n\t\t}\r\n\r\n\t\t__proto.__click=function(){\r\n\t\t\tthis.isDragged=false;\r\n\t\t}\r\n\r\n\t\t__proto.__mouseWheel=function(evt){\r\n\t\t\tif(!this._mouseWheelEnabled)\r\n\t\t\t\treturn;\r\n\t\t\tvar pt=this._owner.globalToLocal(Laya.stage.mouseX,Laya.stage.mouseY,fairygui.ScrollPane.sHelperPoint);\r\n\t\t\tvar delta=evt[\"delta\"];\r\n\t\t\tif (this._xOverlap > 0 && this._yOverlap==0){\r\n\t\t\t\tif(delta<0)\r\n\t\t\t\t\tthis.setPercX(this._xPerc+this.getDeltaX(this._mouseWheelSpeed),false);\r\n\t\t\t\telse\r\n\t\t\t\tthis.setPercX(this._xPerc-this.getDeltaX(this._mouseWheelSpeed),false);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(delta<0)\r\n\t\t\t\t\tthis.setPercY(this._yPerc+this.getDeltaY(this._mouseWheelSpeed),false);\r\n\t\t\t\telse\r\n\t\t\t\tthis.setPercY(this._yPerc-this.getDeltaY(this._mouseWheelSpeed),false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__rollOver=function(){\r\n\t\t\tthis.showScrollBar(true);\r\n\t\t}\r\n\r\n\t\t__proto.__rollOut=function(){\r\n\t\t\tthis.showScrollBar(false);\r\n\t\t}\r\n\r\n\t\t__proto.showScrollBar=function(val){\r\n\t\t\tif (val){\r\n\t\t\t\tthis.__showScrollBar(true);\r\n\t\t\t\tLaya.timer.clear(this,this.__showScrollBar);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tLaya.timer.once(500,this,this.__showScrollBar,[val]);\r\n\t\t}\r\n\r\n\t\t__proto.__showScrollBar=function(val){\r\n\t\t\tthis._scrollBarVisible=val && this._viewWidth > 0 && this._viewHeight > 0;\r\n\t\t\tif (this._vtScrollBar)\r\n\t\t\t\tthis._vtScrollBar.displayObject.visible=this._scrollBarVisible && !this._vScrollNone;\r\n\t\t\tif (this._hzScrollBar)\r\n\t\t\t\tthis._hzScrollBar.displayObject.visible=this._scrollBarVisible && !this._hScrollNone;\r\n\t\t}\r\n\r\n\t\t__proto.__tweenUpdate=function(){\r\n\t\t\tthis.syncScrollBar();\r\n\t\t\tEvents.dispatch(\"fui_scroll\",this._owner.displayObject);\r\n\t\t}\r\n\r\n\t\t__proto.__tweenComplete=function(){\r\n\t\t\tthis._tweener=null;\r\n\t\t\tthis._tweening=0;\r\n\t\t\tthis.validateHolderPos();\r\n\t\t\tthis.syncScrollBar(true);\r\n\t\t\tEvents.dispatch(\"fui_scroll\",this._owner.displayObject);\r\n\t\t}\r\n\r\n\t\t__proto.__tweenUpdate2=function(){\r\n\t\t\tthis._container.pos(Math.floor(this._tweenHelper.start.x+this._tweenHelper.change1.x *this._tweenHelper.value\r\n\t\t\t+this._tweenHelper.change2.x *this._tweenHelper.value *this._tweenHelper.value),\r\n\t\t\tMath.floor(this._tweenHelper.start.y+this._tweenHelper.change1.y *this._tweenHelper.value\r\n\t\t\t+this._tweenHelper.change2.y *this._tweenHelper.value *this._tweenHelper.value));\r\n\t\t\tthis.syncPos();\r\n\t\t\tthis.syncScrollBar();\r\n\t\t\tEvents.dispatch(\"fui_scroll\",this._owner.displayObject);\r\n\t\t}\r\n\r\n\t\t__proto.__tweenComplete2=function(){\r\n\t\t\tthis._tweener=null;\r\n\t\t\tthis._tweening=0;\r\n\t\t\tthis.validateHolderPos();\r\n\t\t\tthis.syncPos();\r\n\t\t\tthis.syncScrollBar(true);\r\n\t\t\tEvents.dispatch(\"fui_scroll\",this._owner.displayObject);\r\n\t\t\tEvents.dispatch(\"fui_scroll_end\",this._owner.displayObject);\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'viewWidth',function(){\r\n\t\t\treturn this._viewWidth;\r\n\t\t\t},function(value){\r\n\t\t\tvalue=value+this._owner.margin.left+this._owner.margin.right;\r\n\t\t\tif (this._vtScrollBar !=null)\r\n\t\t\t\tvalue+=this._vtScrollBar.width;\r\n\t\t\tthis._owner.width=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'owner',function(){\r\n\t\t\treturn this._owner;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'percY',function(){\r\n\t\t\treturn this._yPerc;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setPercY(value,false);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'scrollSpeed',function(){\r\n\t\t\treturn this._scrollSpeed;\r\n\t\t\t},function(val){\r\n\t\t\tthis._scrollSpeed=this.scrollSpeed;\r\n\t\t\tif (this._scrollSpeed==0)\r\n\t\t\t\tthis._scrollSpeed=UIConfig1.defaultScrollSpeed;\r\n\t\t\tthis._mouseWheelSpeed=this._scrollSpeed *2;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'percX',function(){\r\n\t\t\treturn this._xPerc;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setPercX(value,false);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'bouncebackEffect',function(){\r\n\t\t\treturn this._bouncebackEffect;\r\n\t\t\t},function(sc){\r\n\t\t\tthis._bouncebackEffect=sc;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'isBottomMost',function(){\r\n\t\t\treturn this._yPerc==1 || this._yOverlap==0;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'touchEffect',function(){\r\n\t\t\treturn this._touchEffect;\r\n\t\t\t},function(sc){\r\n\t\t\tthis._touchEffect=sc;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'viewHeight',function(){\r\n\t\t\treturn this._viewHeight;\r\n\t\t\t},function(value){\r\n\t\t\tvalue=value+this._owner.margin.top+this._owner.margin.bottom;\r\n\t\t\tif (this._hzScrollBar !=null)\r\n\t\t\t\tvalue+=this._hzScrollBar.height;\r\n\t\t\tthis._owner.height=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'snapToItem',function(){\r\n\t\t\treturn this._snapToItem;\r\n\t\t\t},function(value){\r\n\t\t\tthis._snapToItem=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'posX',function(){\r\n\t\t\treturn this._xPos;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setPosX(value,false);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'posY',function(){\r\n\t\t\treturn this._yPos;\r\n\t\t\t},function(value){\r\n\t\t\tthis.setPosY(value,false);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'isRightMost',function(){\r\n\t\t\treturn this._xPerc==1 || this._xOverlap==0;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'currentPageX',function(){\r\n\t\t\treturn this._pageMode ? Math.floor(this.posX / this._pageSizeH):0;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._pageMode && this._xOverlap>0)\r\n\t\t\t\tthis.setPosX(value *this._pageSizeH,false);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'currentPageY',function(){\r\n\t\t\treturn this._pageMode ? Math.floor(this.posY / this._pageSizeV):0;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._pageMode && this._yOverlap>0)\r\n\t\t\t\tthis.setPosY(value *this._pageSizeV,false);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'scrollingPosX',function(){\r\n\t\t\treturn ToolSet.clamp(-this._container.x,0,this._xOverlap);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'scrollingPosY',function(){\r\n\t\t\treturn ToolSet.clamp(-this._container.y,0,this._yOverlap);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'contentWidth',function(){\r\n\t\t\treturn this._contentWidth;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'contentHeight',function(){\r\n\t\t\treturn this._contentHeight;\r\n\t\t});\r\n\r\n\t\tScrollPane._easeTypeFunc=null\r\n\t\tScrollPane.draggingPane=null\r\n\t\tScrollPane._gestureFlag=0;\r\n\t\t__static(ScrollPane,\r\n\t\t['sHelperRect',function(){return this.sHelperRect=new Rectangle();},'sHelperPoint',function(){return this.sHelperPoint=new Point();}\r\n\t\t]);\r\n\t\tScrollPane.__init$=function(){\r\n\t\t\t//class TweenHelper\r\n\t\t\tTweenHelper=(function(){\r\n\t\t\t\tfunction TweenHelper(){\r\n\t\t\t\t\tthis.value=NaN;\r\n\t\t\t\t\tthis.start=null;\r\n\t\t\t\t\tthis.change1=null;\r\n\t\t\t\t\tthis.change2=null;\r\n\t\t\t\t\tthis.start=new Point();\r\n\t\t\t\t\tthis.change1=new Point();\r\n\t\t\t\t\tthis.change2=new Point();\r\n\t\t\t\t}\r\n\t\t\t\t__class(TweenHelper,'');\r\n\t\t\t\tTweenHelper.calculateChange=function(velocity,duration){\r\n\t\t\t\t\treturn (duration *TweenHelper.checkpoint *velocity)/ TweenHelper.easeOutCubic(TweenHelper.checkpoint,0,1,1);\r\n\t\t\t\t}\r\n\t\t\t\tTweenHelper.easeOutCubic=function(t,b,c,d){\r\n\t\t\t\t\treturn c *((t=t / d-1)*t *t+1)+b;\r\n\t\t\t\t}\r\n\t\t\t\tTweenHelper.checkpoint=0.05;\r\n\t\t\t\treturn TweenHelper;\r\n\t\t\t})()\r\n\t\t}\r\n\r\n\t\treturn ScrollPane;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.ScrollType\r\n\tvar ScrollType=(function(){\r\n\t\tfunction ScrollType(){}\r\n\t\t__class(ScrollType,'fairygui.ScrollType');\r\n\t\tScrollType.parse=function(value){\r\n\t\t\tswitch (value){\r\n\t\t\t\tcase \"horizontal\":\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\tcase \"vertical\":\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase \"both\":\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tScrollType.Horizontal=0;\r\n\t\tScrollType.Vertical=1;\r\n\t\tScrollType.Both=2;\r\n\t\treturn ScrollType;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.Transition\r\n\tvar Transition=(function(){\r\n\t\tvar TransitionActionType,TransitionItem,TransitionValue;\r\n\t\tfunction Transition(owner){\r\n\t\t\tthis.name=null;\r\n\t\t\tthis.autoPlayRepeat=1;\r\n\t\t\tthis.autoPlayDelay=0;\r\n\t\t\tthis._owner=null;\r\n\t\t\tthis._ownerBaseX=0;\r\n\t\t\tthis._ownerBaseY=0;\r\n\t\t\tthis._items=null;\r\n\t\t\tthis._totalTimes=0;\r\n\t\t\tthis._totalTasks=0;\r\n\t\t\tthis._playing=false;\r\n\t\t\tthis._onComplete=null;\r\n\t\t\tthis._options=0;\r\n\t\t\tthis._reversed=false;\r\n\t\t\tthis._maxTime=0;\r\n\t\t\tthis._autoPlay=false;\r\n\t\t\tthis.OPTION_IGNORE_DISPLAY_CONTROLLER=1;\r\n\t\t\tthis.FRAME_RATE=24;\r\n\t\t\tthis._owner=owner;\r\n\t\t\tthis._items=[];\r\n\t\t}\r\n\r\n\t\t__class(Transition,'fairygui.Transition');\r\n\t\tvar __proto=Transition.prototype;\r\n\t\t__proto.play=function(onComplete,times,delay){\r\n\t\t\t(times===void 0)&& (times=1);\r\n\t\t\t(delay===void 0)&& (delay=0);\r\n\t\t\tthis._play(onComplete,times,delay,false);\r\n\t\t}\r\n\r\n\t\t__proto.playReverse=function(onComplete,times,delay){\r\n\t\t\t(times===void 0)&& (times=1);\r\n\t\t\t(delay===void 0)&& (delay=0);\r\n\t\t\tthis._play(onComplete,times,delay,true);\r\n\t\t}\r\n\r\n\t\t__proto._play=function(onComplete,times,delay,reversed){\r\n\t\t\t(times===void 0)&& (times=1);\r\n\t\t\t(delay===void 0)&& (delay=0);\r\n\t\t\t(reversed===void 0)&& (reversed=false);\r\n\t\t\tthis.stop();\r\n\t\t\tif(times==0)\r\n\t\t\t\ttimes=1;\r\n\t\t\telse if(times==-1)\r\n\t\t\ttimes=Number.MAX_VALUE;\r\n\t\t\tthis._totalTimes=times;\r\n\t\t\tthis._reversed=reversed;\r\n\t\t\tthis.internalPlay(delay);\r\n\t\t\tthis._playing=this._totalTasks > 0;\r\n\t\t\tif(this._playing){\r\n\t\t\t\tthis._onComplete=onComplete;\r\n\t\t\t\tthis._owner.internalVisible++;\r\n\t\t\t\tif((this._options & this.OPTION_IGNORE_DISPLAY_CONTROLLER)!=0){\r\n\t\t\t\t\tvar cnt=this._items.length;\r\n\t\t\t\t\tfor(var i=0;i < cnt;i++){\r\n\t\t\t\t\t\tvar item=this._items[i];\r\n\t\t\t\t\t\tif(item.target !=null && item.target !=this._owner)\r\n\t\t\t\t\t\t\titem.target.internalVisible++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(onComplete !=null){\r\n\t\t\t\tonComplete.run();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.stop=function(setToComplete,processCallback){\r\n\t\t\t(setToComplete===void 0)&& (setToComplete=true);\r\n\t\t\t(processCallback===void 0)&& (processCallback=false);\r\n\t\t\tif(this._playing){\r\n\t\t\t\tthis._playing=false;\r\n\t\t\t\tthis._totalTasks=0;\r\n\t\t\t\tthis._totalTimes=0;\r\n\t\t\t\tvar handler=this._onComplete;\r\n\t\t\t\tthis._onComplete=null;\r\n\t\t\t\tthis._owner.internalVisible--;\r\n\t\t\t\tvar cnt=this._items.length;\r\n\t\t\t\tvar i=NaN;\r\n\t\t\t\tvar item;\r\n\t\t\t\tif(this._reversed){\r\n\t\t\t\t\tfor(i=cnt-1;i>=0;i--){\r\n\t\t\t\t\t\titem=this._items[i];\r\n\t\t\t\t\t\tif(item.target==null)\r\n\t\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t\tthis.stopItem(item,setToComplete);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfor(i=0;i < cnt;i++){\r\n\t\t\t\t\t\titem=this._items[i];\r\n\t\t\t\t\t\tif(item.target==null)\r\n\t\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t\tthis.stopItem(item,setToComplete);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(processCallback && handler !=null){\r\n\t\t\t\t\thandler.run();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.stopItem=function(item,setToComplete){\r\n\t\t\tif ((this._options & this.OPTION_IGNORE_DISPLAY_CONTROLLER)!=0 && item.target !=this._owner)\r\n\t\t\t\titem.target.internalVisible--;\r\n\t\t\tif (item.type==12 && item.filterCreated)\r\n\t\t\t\titem.target.filters=null;\r\n\t\t\tif(item.completed)\r\n\t\t\t\treturn;\r\n\t\t\tif(item.tweener !=null){\r\n\t\t\t\titem.tweener.clear();\r\n\t\t\t\titem.tweener=null;\r\n\t\t\t}\r\n\t\t\tif(item.type==10){\r\n\t\t\t\tvar trans=(item.target).getTransition(item.value.s);\r\n\t\t\t\tif(trans !=null)\r\n\t\t\t\t\ttrans.stop(setToComplete,false);\r\n\t\t\t}\r\n\t\t\telse if(item.type==11){\r\n\t\t\t\tLaya.timer.clear(item,item.__shake);\r\n\t\t\t\titem.target._gearLocked=true;\r\n\t\t\t\titem.target.setXY(item.target.x-item.startValue.f1,item.target.y-item.startValue.f2);\r\n\t\t\t\titem.target._gearLocked=false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(setToComplete){\r\n\t\t\t\t\tif(item.tween){\r\n\t\t\t\t\t\tif(!item.yoyo || item.repeat % 2==0)\r\n\t\t\t\t\t\t\tthis.applyValue(item,this._reversed?item.startValue:item.endValue);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.applyValue(item,this._reversed?item.endValue:item.startValue);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(item.type !=9)\r\n\t\t\t\t\tthis.applyValue(item,item.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.dispose=function(){\r\n\t\t\tif (!this._playing)\r\n\t\t\t\treturn;\r\n\t\t\tthis._playing=false;\r\n\t\t\tvar cnt=this._items.length;\r\n\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\tif (item.target==null || item.completed)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tif (item.tweener !=null){\r\n\t\t\t\t\titem.tweener.clear();\r\n\t\t\t\t\titem.tweener=null;\r\n\t\t\t\t}\r\n\t\t\t\tif (item.type==10){\r\n\t\t\t\t\tvar trans=(item.target).getTransition(item.value.s);\r\n\t\t\t\t\tif (trans !=null)\r\n\t\t\t\t\t\ttrans.dispose();\r\n\t\t\t\t}\r\n\t\t\t\telse if (item.type==11){\r\n\t\t\t\t\tLaya.timer.clear(item,item.__shake);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setValue=function(label,__args){\r\n\t\t\tvar args=[];for(var i=1,sz=arguments.length;i<sz;i++)args.push(arguments[i]);\r\n\t\t\tvar cnt=this._items.length;\r\n\t\t\tvar value;\r\n\t\t\tfor(var i=0;i < cnt;i++){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\tif(item.label==null && item.label2==null)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tif(item.label==label){\r\n\t\t\t\t\tif(item.tween)\r\n\t\t\t\t\t\tvalue=item.startValue;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tvalue=item.value;\r\n\t\t\t\t}\r\n\t\t\t\telse if(item.label2==label){\r\n\t\t\t\t\tvalue=item.endValue;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\tcontinue ;\r\n\t\t\t\tswitch(item.type){\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\tcase 13:\r\n\t\t\t\t\t\tvalue.b1=true;\r\n\t\t\t\t\t\tvalue.b2=true;\r\n\t\t\t\t\t\tvalue.f1=parseFloat(args[0]);\r\n\t\t\t\t\t\tvalue.f2=parseFloat(args[1]);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 4:\r\n\t\t\t\t\t\tvalue.f1=parseFloat(args[0]);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 5:\r\n\t\t\t\t\t\tvalue.i=parseInt(args[0]);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 6:\r\n\t\t\t\t\t\tvalue.s=args[0];\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 7:\r\n\t\t\t\t\t\tvalue.i=parseInt(args[0]);\r\n\t\t\t\t\t\tif(args.length > 1)\r\n\t\t\t\t\t\t\tvalue.b=args[1];\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 8:\r\n\t\t\t\t\t\tvalue.b=args[0];\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 9:\r\n\t\t\t\t\t\tvalue.s=args[0];\r\n\t\t\t\t\t\tif(args.length > 1)\r\n\t\t\t\t\t\t\tvalue.f1=parseFloat(args[1]);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 10:\r\n\t\t\t\t\t\tvalue.s=args[0];\r\n\t\t\t\t\t\tif(args.length > 1)\r\n\t\t\t\t\t\t\tvalue.i=parseInt(args[1]);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 11:\r\n\t\t\t\t\t\tvalue.f1=parseFloat(args[0]);\r\n\t\t\t\t\t\tif(args.length > 1)\r\n\t\t\t\t\t\t\tvalue.f2=parseFloat(args[1]);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 12:\r\n\t\t\t\t\t\tvalue.f1=parseFloat(args[0]);\r\n\t\t\t\t\t\tvalue.f2=parseFloat(args[1]);\r\n\t\t\t\t\t\tvalue.f3=parseFloat(args[2]);\r\n\t\t\t\t\t\tvalue.f4=parseFloat(args[3]);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setHook=function(label,callback){\r\n\t\t\tvar cnt=this._items.length;\r\n\t\t\tfor(var i=0;i < cnt;i++){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\tif(item.label==label){\r\n\t\t\t\t\titem.hook=callback;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\t\telse if(item.label2==label){\r\n\t\t\t\t\titem.hook2=callback;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.clearHooks=function(){\r\n\t\t\tvar cnt=this._items.length;\r\n\t\t\tfor(var i=0;i < cnt;i++){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\titem.hook=null;\r\n\t\t\t\titem.hook2=null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setTarget=function(label,newTarget){\r\n\t\t\tvar cnt=this._items.length;\r\n\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\tif (item.label==label)\r\n\t\t\t\t\titem.targetId=newTarget.id;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setDuration=function(label,value){\r\n\t\t\tvar cnt=this._items.length;\r\n\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\tif (item.tween && item.label==label)\r\n\t\t\t\t\titem.duration=value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.updateFromRelations=function(targetId,dx,dy){\r\n\t\t\tvar cnt=this._items.length;\r\n\t\t\tif(cnt==0)\r\n\t\t\t\treturn;\r\n\t\t\tfor(var i=0;i < cnt;i++){\r\n\t\t\t\tvar item=this._items[i];\r\n\t\t\t\tif(item.type==0 && item.targetId==targetId){\r\n\t\t\t\t\tif(item.tween){\r\n\t\t\t\t\t\titem.startValue.f1+=dx;\r\n\t\t\t\t\t\titem.startValue.f2+=dy;\r\n\t\t\t\t\t\titem.endValue.f1+=dx;\r\n\t\t\t\t\t\titem.endValue.f2+=dy;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\titem.value.f1+=dx;\r\n\t\t\t\t\t\titem.value.f2+=dy;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.internalPlay=function(delay){\r\n\t\t\t(delay===void 0)&& (delay=0);\r\n\t\t\tthis._ownerBaseX=this._owner.x;\r\n\t\t\tthis._ownerBaseY=this._owner.y;\r\n\t\t\tthis._totalTasks=0;\r\n\t\t\tvar cnt=this._items.length;\r\n\t\t\tvar startTime=NaN;\r\n\t\t\tvar item;\r\n\t\t\tfor(var i=0;i < cnt;i++){\r\n\t\t\t\titem=this._items[i];\r\n\t\t\t\tif(item.targetId)\r\n\t\t\t\t\titem.target=this._owner.getChildById(item.targetId);\r\n\t\t\t\telse\r\n\t\t\t\titem.target=this._owner;\r\n\t\t\t\tif(item.target==null)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tif(item.tween){\r\n\t\t\t\t\tif(this._reversed)\r\n\t\t\t\t\t\tstartTime=delay+this._maxTime-item.time-item.duration;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tstartTime=delay+item.time;\r\n\t\t\t\t\tif(startTime>0){\r\n\t\t\t\t\t\tthis._totalTasks++;\r\n\t\t\t\t\t\titem.completed=false;\r\n\t\t\t\t\t\titem.tweener=Tween.to(item.value,{},startTime*1000,null,Handler.create(this,this.__delayCall,[item]));\r\n\t\t\t\t\t\titem.tweener.update=null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.startTween(item);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(this._reversed)\r\n\t\t\t\t\t\tstartTime=delay+this._maxTime-item.time;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tstartTime=delay+item.time;\r\n\t\t\t\t\tif(startTime==0)\r\n\t\t\t\t\t\tthis.applyValue(item,item.value);\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\titem.completed=false;\r\n\t\t\t\t\t\tthis._totalTasks++;\r\n\t\t\t\t\t\titem.tweener=Tween.to(item.value,{},startTime*1000,null,Handler.create(this,this.__delayCall2,[item]));\r\n\t\t\t\t\t\titem.tweener.update=null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.prepareValue=function(item,toProps,reversed){\r\n\t\t\t(reversed===void 0)&& (reversed=false);\r\n\t\t\tvar startValue;\r\n\t\t\tvar endValue;\r\n\t\t\tif(reversed){\r\n\t\t\t\tstartValue=item.endValue;\r\n\t\t\t\tendValue=item.startValue;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tstartValue=item.startValue;\r\n\t\t\t\tendValue=item.endValue;\r\n\t\t\t}\r\n\t\t\tswitch(item.type){\r\n\t\t\t\tcase 0:\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tif(item.type==0){\r\n\t\t\t\t\t\tif (item.target==this._owner){\r\n\t\t\t\t\t\t\tif(!startValue.b1)\r\n\t\t\t\t\t\t\t\tstartValue.f1=0;\r\n\t\t\t\t\t\t\tif(!startValue.b2)\r\n\t\t\t\t\t\t\t\tstartValue.f2=0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse{\r\n\t\t\t\t\t\t\tif(!startValue.b1)\r\n\t\t\t\t\t\t\t\tstartValue.f1=item.target.x;\r\n\t\t\t\t\t\t\tif(!startValue.b2)\r\n\t\t\t\t\t\t\t\tstartValue.f2=item.target.y;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif(!startValue.b1)\r\n\t\t\t\t\t\t\tstartValue.f1=item.target.width;\r\n\t\t\t\t\t\tif(!startValue.b2)\r\n\t\t\t\t\t\t\tstartValue.f2=item.target.height;\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.value.f1=startValue.f1;\r\n\t\t\t\t\titem.value.f2=startValue.f2;\r\n\t\t\t\t\tif(!endValue.b1)\r\n\t\t\t\t\t\tendValue.f1=item.value.f1;\r\n\t\t\t\t\tif(!endValue.b2)\r\n\t\t\t\t\t\tendValue.f2=item.value.f2;\r\n\t\t\t\t\titem.value.b1=startValue.b1 || endValue.b1;\r\n\t\t\t\t\titem.value.b2=startValue.b2 || endValue.b2;\r\n\t\t\t\t\ttoProps.f1=endValue.f1;\r\n\t\t\t\t\ttoProps.f2=endValue.f2;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 2:\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\titem.value.f1=startValue.f1;\r\n\t\t\t\t\titem.value.f2=startValue.f2;\r\n\t\t\t\t\ttoProps.f1=endValue.f1;\r\n\t\t\t\t\ttoProps.f2=endValue.f2;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\titem.value.f1=startValue.f1;\r\n\t\t\t\t\ttoProps.f1=endValue.f1;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\titem.value.i=startValue.i;\r\n\t\t\t\t\ttoProps.i=endValue.i;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 12:\r\n\t\t\t\t\titem.value.f1=startValue.f1;\r\n\t\t\t\t\titem.value.f2=startValue.f2;\r\n\t\t\t\t\titem.value.f3=startValue.f3;\r\n\t\t\t\t\titem.value.f4=startValue.f4;\r\n\t\t\t\t\ttoProps.f1=endValue.f1;\r\n\t\t\t\t\ttoProps.f2=endValue.f2;\r\n\t\t\t\t\ttoProps.f3=endValue.f3;\r\n\t\t\t\t\ttoProps.f4=endValue.f4;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\ttoProps.dummy=0;\r\n\t\t}\r\n\r\n\t\t__proto.startTween=function(item){\r\n\t\t\tvar toProps={};\r\n\t\t\tthis.prepareValue(item,toProps,this._reversed);\r\n\t\t\tthis.applyValue(item,item.value);\r\n\t\t\tvar completeHandler;\r\n\t\t\tif(item.repeat!=0){\r\n\t\t\t\titem.tweenTimes=0;\r\n\t\t\t\tcompleteHandler=Handler.create(this,this.__tweenRepeatComplete,[item]);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tcompleteHandler=Handler.create(this,this.__tweenComplete,[item]);\r\n\t\t\tthis._totalTasks++;\r\n\t\t\titem.completed=false;\r\n\t\t\titem.tweener=Tween.to(item.value,\r\n\t\t\ttoProps,\r\n\t\t\titem.duration*1000,\r\n\t\t\titem.easeType,\r\n\t\t\tcompleteHandler);\r\n\t\t\titem.tweener.update=Handler.create(this,this.__tweenUpdate,[item],false);\r\n\t\t\tif(item.hook !=null)\r\n\t\t\t\titem.hook.run();\r\n\t\t}\r\n\r\n\t\t__proto.__delayCall=function(item){\r\n\t\t\titem.tweener=null;\r\n\t\t\tthis._totalTasks--;\r\n\t\t\tthis.startTween(item);\r\n\t\t}\r\n\r\n\t\t__proto.__delayCall2=function(item){\r\n\t\t\titem.tweener=null;\r\n\t\t\tthis._totalTasks--;\r\n\t\t\titem.completed=true;\r\n\t\t\tthis.applyValue(item,item.value);\r\n\t\t\tif(item.hook !=null)\r\n\t\t\t\titem.hook.run();\r\n\t\t\tthis.checkAllComplete();\r\n\t\t}\r\n\r\n\t\t__proto.__tweenUpdate=function(item){\r\n\t\t\tthis.applyValue(item,item.value);\r\n\t\t}\r\n\r\n\t\t__proto.__tweenComplete=function(item){\r\n\t\t\titem.tweener=null;\r\n\t\t\tthis._totalTasks--;\r\n\t\t\titem.completed=true;\r\n\t\t\tif(item.hook2 !=null)\r\n\t\t\t\titem.hook2.run();\r\n\t\t\tthis.checkAllComplete();\r\n\t\t}\r\n\r\n\t\t__proto.__tweenRepeatComplete=function(item){\r\n\t\t\titem.tweenTimes++;\r\n\t\t\tif(item.repeat==-1 || item.tweenTimes < item.repeat+1){\r\n\t\t\t\tvar toProps={};\r\n\t\t\t\tvar reversed=false;\r\n\t\t\t\tif(item.yoyo){\r\n\t\t\t\t\tif(this._reversed)\r\n\t\t\t\t\t\treversed=item.tweenTimes % 2==0;\r\n\t\t\t\t\telse\r\n\t\t\t\t\treversed=item.tweenTimes % 2==1;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\treversed=this._reversed;\r\n\t\t\t\tthis.prepareValue(item,toProps,reversed);\r\n\t\t\t\titem.tweener=Tween.to(item.value,\r\n\t\t\t\ttoProps,\r\n\t\t\t\titem.duration *1000,\r\n\t\t\t\titem.easeType,\r\n\t\t\t\tHandler.create(this,this.__tweenRepeatComplete,[item]));\r\n\t\t\t\titem.tweener.update=Handler.create(this,this.__tweenUpdate,[item],false);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tthis.__tweenComplete(item);\r\n\t\t}\r\n\r\n\t\t__proto.__playTransComplete=function(item){\r\n\t\t\tthis._totalTasks--;\r\n\t\t\titem.completed=true;\r\n\t\t\tthis.checkAllComplete();\r\n\t\t}\r\n\r\n\t\t__proto.checkAllComplete=function(){\r\n\t\t\tif(this._playing && this._totalTasks==0){\r\n\t\t\t\tif(this._totalTimes < 0){\r\n\t\t\t\t\tLaya.timer.callLater(this,this.internalPlay);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis._totalTimes--;\r\n\t\t\t\t\tif(this._totalTimes > 0)\r\n\t\t\t\t\t\tLaya.timer.callLater(this,this.internalPlay);\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis._playing=false;\r\n\t\t\t\t\t\tthis._owner.internalVisible--;\r\n\t\t\t\t\t\tvar cnt=this._items.length;\r\n\t\t\t\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\t\t\t\tvar item=this._items[i];\r\n\t\t\t\t\t\t\tif (item.target !=null){\r\n\t\t\t\t\t\t\t\tif((this._options & this.OPTION_IGNORE_DISPLAY_CONTROLLER)!=0 && item.target!=this._owner)\r\n\t\t\t\t\t\t\t\t\titem.target.internalVisible--;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (item.filterCreated){\r\n\t\t\t\t\t\t\t\titem.filterCreated=false;\r\n\t\t\t\t\t\t\t\titem.target.filters=null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(this._onComplete !=null){\r\n\t\t\t\t\t\t\tvar handler=this._onComplete;\r\n\t\t\t\t\t\t\tthis._onComplete=null;\r\n\t\t\t\t\t\t\thandler.run();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.applyValue=function(item,value){\r\n\t\t\titem.target._gearLocked=true;\r\n\t\t\tswitch(item.type){\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tif(item.target==this._owner){\r\n\t\t\t\t\t\tvar f1=0,f2=0;\r\n\t\t\t\t\t\tif(!value.b1)\r\n\t\t\t\t\t\t\tf1=item.target.x;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tf1=value.f1+this._ownerBaseX;\r\n\t\t\t\t\t\tif(!value.b2)\r\n\t\t\t\t\t\t\tf2=item.target.y;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tf2=value.f2+this._ownerBaseY;\r\n\t\t\t\t\t\titem.target.setXY(f1,f2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif(!value.b1)\r\n\t\t\t\t\t\t\tvalue.f1=item.target.x;\r\n\t\t\t\t\t\tif(!value.b2)\r\n\t\t\t\t\t\t\tvalue.f2=item.target.y;\r\n\t\t\t\t\t\titem.target.setXY(value.f1,value.f2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tif(!value.b1)\r\n\t\t\t\t\t\tvalue.f1=item.target.width;\r\n\t\t\t\t\tif(!value.b2)\r\n\t\t\t\t\t\tvalue.f2=item.target.height;\r\n\t\t\t\t\titem.target.setSize(value.f1,value.f2);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\titem.target.setPivot(value.f1,value.f2);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\titem.target.alpha=value.f1;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\titem.target.rotation=value.i;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\titem.target.setScale(value.f1,value.f2);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\titem.target.setSkew(value.f1,value.f2);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\t(item.target).color=value.s;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tif(!value.b1)\r\n\t\t\t\t\t\tvalue.i=(item.target).frame;\r\n\t\t\t\t\t(item.target).frame=value.i;\r\n\t\t\t\t\t(item.target).playing=value.b;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\titem.target.visible=value.b;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 10:;\r\n\t\t\t\t\tvar trans=(item.target).getTransition(value.s);\r\n\t\t\t\t\tif(trans !=null){\r\n\t\t\t\t\t\tif(value.i==0)\r\n\t\t\t\t\t\t\ttrans.stop(false,true);\r\n\t\t\t\t\t\telse if(trans.playing)\r\n\t\t\t\t\t\ttrans._totalTimes=value.i==-1?Number.MAX_VALUE:value.i;\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\titem.completed=false;\r\n\t\t\t\t\t\t\tthis._totalTasks++;\r\n\t\t\t\t\t\t\tif(this._reversed)\r\n\t\t\t\t\t\t\t\ttrans.playReverse(Handler.create(this,this.__playTransComplete,[item]),item.value.i);\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\ttrans.play(Handler.create(this,this.__playTransComplete,[item]),item.value.i);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 9:;\r\n\t\t\t\t\tvar pi=UIPackage.getItemByURL(value.s);\r\n\t\t\t\t\tif(pi)\r\n\t\t\t\t\t\tGRoot.inst.playOneShotSound(pi.owner.getItemAssetURL(pi));\r\n\t\t\t\t\telse\r\n\t\t\t\t\tGRoot.inst.playOneShotSound(value.s);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 11:\r\n\t\t\t\t\titem.startValue.f1=0;\r\n\t\t\t\t\titem.startValue.f2=0;\r\n\t\t\t\t\titem.startValue.f3=item.value.f2;\r\n\t\t\t\t\titem.startValue.i=Laya.timer.currTimer;\r\n\t\t\t\t\tLaya.timer.frameLoop(1,item,item.__shake,[this]);\r\n\t\t\t\t\tthis._totalTasks++;\r\n\t\t\t\t\titem.completed=false;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 12:;\r\n\t\t\t\t\tvar arr=item.target.filters;\r\n\t\t\t\t\tif(!arr || !(((arr[0])instanceof laya.filters.ColorFilter )))\r\n\t\t\t\t\t\titem.filterCreated=true;\r\n\t\t\t\t\tvar cm=new ColorMatrix();\r\n\t\t\t\t\tcm.adjustBrightness(value.f1);\r\n\t\t\t\t\tcm.adjustContrast(value.f2);\r\n\t\t\t\t\tcm.adjustSaturation(value.f3);\r\n\t\t\t\t\tcm.adjustHue(value.f4);\r\n\t\t\t\t\tarr=[new ColorFilter(cm)];\r\n\t\t\t\t\titem.target.filters=arr;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\titem.target._gearLocked=false;\r\n\t\t}\r\n\r\n\t\t__proto.__shakeItem=function(item){\r\n\t\t\tvar r=Math.ceil(item.value.f1 *item.startValue.f3 / item.value.f2);\r\n\t\t\tvar rx=(Math.random()*2-1)*r;\r\n\t\t\tvar ry=(Math.random()*2-1)*r;\r\n\t\t\trx=rx > 0 ? Math.ceil(rx):Math.floor(rx);\r\n\t\t\try=ry > 0 ? Math.ceil(ry):Math.floor(ry);\r\n\t\t\titem.target._gearLocked=true;\r\n\t\t\titem.target.setXY(item.target.x-item.startValue.f1+rx,item.target.y-item.startValue.f2+ry);\r\n\t\t\titem.target._gearLocked=false;\r\n\t\t\titem.startValue.f1=rx;\r\n\t\t\titem.startValue.f2=ry;\r\n\t\t\tvar t=Laya.timer.currTimer;\r\n\t\t\titem.startValue.f3-=(t-item.startValue.i)/ 1000;\r\n\t\t\titem.startValue.i=t;\r\n\t\t\tif(item.startValue.f3 <=0){\r\n\t\t\t\titem.target._gearLocked=true;\r\n\t\t\t\titem.target.setXY(item.target.x-item.startValue.f1,item.target.y-item.startValue.f2);\r\n\t\t\t\titem.target._gearLocked=false;\r\n\t\t\t\titem.completed=true;\r\n\t\t\t\tthis._totalTasks--;\r\n\t\t\t\tLaya.timer.clear(item,item.__shake);\r\n\t\t\t\tthis.checkAllComplete();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setup=function(xml){\r\n\t\t\tthis.name=xml.getAttribute(\"name\");\r\n\t\t\tvar str=xml.getAttribute(\"options\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis._options=parseInt(str);\r\n\t\t\tstr=xml.getAttribute(\"autoPlay\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis._autoPlay=str==\"true\";\r\n\t\t\tif(this._autoPlay){\r\n\t\t\t\tstr=xml.getAttribute(\"autoPlayRepeat\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tthis.autoPlayRepeat=parseInt(str);\r\n\t\t\t\tstr=xml.getAttribute(\"autoPlayDelay\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tthis.autoPlayDelay=parseFloat(str);\r\n\t\t\t};\r\n\t\t\tvar col=xml.childNodes;\r\n\t\t\tvar length1=col.length;\r\n\t\t\tfor(var i1=0;i1 < length1;i1++){\r\n\t\t\t\tvar cxml=col[i1];\r\n\t\t\t\tif(cxml.nodeName!=\"item\")\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tvar item=new TransitionItem();\r\n\t\t\t\tthis._items.push(item);\r\n\t\t\t\titem.time=parseInt(cxml.getAttribute(\"time\"))/ this.FRAME_RATE;\r\n\t\t\t\titem.targetId=cxml.getAttribute(\"target\");\r\n\t\t\t\tstr=cxml.getAttribute(\"type\");\r\n\t\t\t\tswitch(str){\r\n\t\t\t\t\tcase \"XY\":\r\n\t\t\t\t\t\titem.type=0;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"Size\":\r\n\t\t\t\t\t\titem.type=1;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"Scale\":\r\n\t\t\t\t\t\titem.type=2;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"Pivot\":\r\n\t\t\t\t\t\titem.type=3;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"Alpha\":\r\n\t\t\t\t\t\titem.type=4;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"Rotation\":\r\n\t\t\t\t\t\titem.type=5;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"Color\":\r\n\t\t\t\t\t\titem.type=6;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"Animation\":\r\n\t\t\t\t\t\titem.type=7;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"Visible\":\r\n\t\t\t\t\t\titem.type=8;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"Sound\":\r\n\t\t\t\t\t\titem.type=9;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"Transition\":\r\n\t\t\t\t\t\titem.type=10;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"Shake\":\r\n\t\t\t\t\t\titem.type=11;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"ColorFilter\":\r\n\t\t\t\t\t\titem.type=12;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase \"Skew\":\r\n\t\t\t\t\t\titem.type=13;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tdefault :\r\n\t\t\t\t\t\titem.type=14;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}\r\n\t\t\t\titem.tween=cxml.getAttribute(\"tween\")==\"true\";\r\n\t\t\t\titem.label=cxml.getAttribute(\"label\");\r\n\t\t\t\tif(item.tween){\r\n\t\t\t\t\titem.duration=parseInt(cxml.getAttribute(\"duration\"))/ this.FRAME_RATE;\r\n\t\t\t\t\tif(item.time+item.duration > this._maxTime)\r\n\t\t\t\t\t\tthis._maxTime=item.time+item.duration;\r\n\t\t\t\t\tstr=cxml.getAttribute(\"ease\");\r\n\t\t\t\t\tif(str)\r\n\t\t\t\t\t\titem.easeType=ToolSet.parseEaseType(str);\r\n\t\t\t\t\tstr=cxml.getAttribute(\"repeat\");\r\n\t\t\t\t\tif(str)\r\n\t\t\t\t\t\titem.repeat=parseInt(str);\r\n\t\t\t\t\titem.yoyo=cxml.getAttribute(\"yoyo\")==\"true\";\r\n\t\t\t\t\titem.label2=cxml.getAttribute(\"label2\");\r\n\t\t\t\t\tvar v=cxml.getAttribute(\"endValue\");\r\n\t\t\t\t\tif(v){\r\n\t\t\t\t\t\tthis.decodeValue(item.type,cxml.getAttribute(\"startValue\"),item.startValue);\r\n\t\t\t\t\t\tthis.decodeValue(item.type,v,item.endValue);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\titem.tween=false;\r\n\t\t\t\t\t\tthis.decodeValue(item.type,cxml.getAttribute(\"startValue\"),item.value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(item.time > this._maxTime)\r\n\t\t\t\t\t\tthis._maxTime=item.time;\r\n\t\t\t\t\tthis.decodeValue(item.type,cxml.getAttribute(\"value\"),item.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.decodeValue=function(type,str,value){\r\n\t\t\tvar arr;\r\n\t\t\tswitch(type){\r\n\t\t\t\tcase 0:\r\n\t\t\t\tcase 1:\r\n\t\t\t\tcase 3:\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\t\tif(arr[0]==\"-\"){\r\n\t\t\t\t\t\tvalue.b1=false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvalue.f1=parseFloat(arr[0]);\r\n\t\t\t\t\t\tvalue.b1=true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(arr[1]==\"-\"){\r\n\t\t\t\t\t\tvalue.b2=false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvalue.f2=parseFloat(arr[1]);\r\n\t\t\t\t\t\tvalue.b2=true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tvalue.f1=parseFloat(str);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tvalue.i=parseInt(str);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\t\tvalue.f1=parseFloat(arr[0]);\r\n\t\t\t\t\tvalue.f2=parseFloat(arr[1]);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tvalue.s=str;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\t\tif(arr[0]==\"-\"){\r\n\t\t\t\t\t\tvalue.b1=false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tvalue.i=parseInt(arr[0]);\r\n\t\t\t\t\t\tvalue.b1=true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalue.b=arr[1]==\"p\";\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\tvalue.b=str==\"true\";\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\t\tvalue.s=arr[0];\r\n\t\t\t\t\tif(arr.length > 1){\r\n\t\t\t\t\t\tvar intv=parseInt(arr[1]);\r\n\t\t\t\t\t\tif(intv==0 || intv==100)\r\n\t\t\t\t\t\t\tvalue.f1=1;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tvalue.f1=intv / 100;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\tvalue.f1=1;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 10:\r\n\t\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\t\tvalue.s=arr[0];\r\n\t\t\t\t\tif(arr.length > 1)\r\n\t\t\t\t\t\tvalue.i=parseInt(arr[1]);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tvalue.i=1;\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 11:\r\n\t\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\t\tvalue.f1=parseFloat(arr[0]);\r\n\t\t\t\t\tvalue.f2=parseFloat(arr[1]);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 12:\r\n\t\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\t\tvalue.f1=parseFloat(arr[0]);\r\n\t\t\t\t\tvalue.f2=parseFloat(arr[1]);\r\n\t\t\t\t\tvalue.f3=parseFloat(arr[2]);\r\n\t\t\t\t\tvalue.f4=parseFloat(arr[3]);\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'autoPlay',function(){\r\n\t\t\treturn this._autoPlay;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._autoPlay !=value){\r\n\t\t\t\tthis._autoPlay=value;\r\n\t\t\t\tif (this._autoPlay){\r\n\t\t\t\t\tif (this._owner.onStage)\r\n\t\t\t\t\t\tthis.play(null,this.autoPlayRepeat,this.autoPlayDelay);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif (!this._owner.onStage)\r\n\t\t\t\t\t\tthis.stop(false,true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'playing',function(){\r\n\t\t\treturn this._playing;\r\n\t\t});\r\n\r\n\t\tTransition.__init$=function(){\r\n\t\t\t//class TransitionActionType\r\n\t\t\tTransitionActionType=(function(){\r\n\t\t\t\tfunction TransitionActionType(){};\r\n\t\t\t\t__class(TransitionActionType,'');\r\n\t\t\t\tTransitionActionType.XY=0;\r\n\t\t\t\tTransitionActionType.Size=1;\r\n\t\t\t\tTransitionActionType.Scale=2;\r\n\t\t\t\tTransitionActionType.Pivot=3;\r\n\t\t\t\tTransitionActionType.Alpha=4;\r\n\t\t\t\tTransitionActionType.Rotation=5;\r\n\t\t\t\tTransitionActionType.Color=6;\r\n\t\t\t\tTransitionActionType.Animation=7;\r\n\t\t\t\tTransitionActionType.Visible=8;\r\n\t\t\t\tTransitionActionType.Sound=9;\r\n\t\t\t\tTransitionActionType.Transition=10;\r\n\t\t\t\tTransitionActionType.Shake=11;\r\n\t\t\t\tTransitionActionType.ColorFilter=12;\r\n\t\t\t\tTransitionActionType.Skew=13;\r\n\t\t\t\tTransitionActionType.Unknown=14;\r\n\t\t\t\treturn TransitionActionType;\r\n\t\t\t})()\r\n\t\t\t//class TransitionItem\r\n\t\t\tTransitionItem=(function(){\r\n\t\t\t\tfunction TransitionItem(){\r\n\t\t\t\t\tthis.time=0;\r\n\t\t\t\t\tthis.targetId=null;\r\n\t\t\t\t\tthis.type=0;\r\n\t\t\t\t\tthis.duration=0;\r\n\t\t\t\t\tthis.value=null;\r\n\t\t\t\t\tthis.startValue=null;\r\n\t\t\t\t\tthis.endValue=null;\r\n\t\t\t\t\tthis.easeType=null;\r\n\t\t\t\t\tthis.repeat=0;\r\n\t\t\t\t\tthis.yoyo=false;\r\n\t\t\t\t\tthis.tween=false;\r\n\t\t\t\t\tthis.label=null;\r\n\t\t\t\t\tthis.label2=null;\r\n\t\t\t\t\tthis.hook=null;\r\n\t\t\t\t\tthis.hook2=null;\r\n\t\t\t\t\tthis.tweenTimes=0;\r\n\t\t\t\t\tthis.tweener=null;\r\n\t\t\t\t\tthis.completed=false;\r\n\t\t\t\t\tthis.target=null;\r\n\t\t\t\t\tthis.filterCreated=false;\r\n\t\t\t\t\tthis.easeType=Ease.quadOut;\r\n\t\t\t\t\tthis.value=new TransitionValue();\r\n\t\t\t\t\tthis.startValue=new TransitionValue();\r\n\t\t\t\t\tthis.endValue=new TransitionValue();\r\n\t\t\t\t}\r\n\t\t\t\t__class(TransitionItem,'');\r\n\t\t\t\tvar __proto=TransitionItem.prototype;\r\n\t\t\t\t__proto.__shake=function(trans){\r\n\t\t\t\t\ttrans.__shakeItem(this);\r\n\t\t\t\t}\r\n\t\t\t\treturn TransitionItem;\r\n\t\t\t})()\r\n\t\t\t//class TransitionValue\r\n\t\t\tTransitionValue=(function(){\r\n\t\t\t\tfunction TransitionValue(){\r\n\t\t\t\t\tthis.f1=0;\r\n\t\t\t\t\tthis.f2=0;\r\n\t\t\t\t\tthis.f3=0;\r\n\t\t\t\t\tthis.f4=NaN;\r\n\t\t\t\t\tthis.i=0;\r\n\t\t\t\t\tthis.b=false;\r\n\t\t\t\t\tthis.s=null;\r\n\t\t\t\t\tthis.b1=true;\r\n\t\t\t\t\tthis.b2=true;\r\n\t\t\t\t}\r\n\t\t\t\t__class(TransitionValue,'');\r\n\t\t\t\treturn TransitionValue;\r\n\t\t\t})()\r\n\t\t}\r\n\r\n\t\treturn Transition;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.UIConfig\r\n\tvar UIConfig1=(function(){\r\n\t\tfunction UIConfig(){}\r\n\t\t__class(UIConfig,'fairygui.UIConfig',null,'UIConfig1');\r\n\t\tUIConfig.defaultFont=\"宋体\";\r\n\t\tUIConfig.windowModalWaiting=null\r\n\t\tUIConfig.globalModalWaiting=null\r\n\t\tUIConfig.modalLayerColor=\"rgba(33,33,33,0.2)\";\r\n\t\tUIConfig.buttonSound=null\r\n\t\tUIConfig.buttonSoundVolumeScale=1;\r\n\t\tUIConfig.horizontalScrollBar=null\r\n\t\tUIConfig.verticalScrollBar=null\r\n\t\tUIConfig.defaultScrollSpeed=25;\r\n\t\tUIConfig.defaultTouchScrollSpeedRatio=1;\r\n\t\tUIConfig.defaultScrollBarDisplay=1;\r\n\t\tUIConfig.defaultScrollTouchEffect=true;\r\n\t\tUIConfig.defaultScrollBounceEffect=true;\r\n\t\tUIConfig.popupMenu=null\r\n\t\tUIConfig.popupMenu_seperator=null\r\n\t\tUIConfig.loaderErrorSign=null\r\n\t\tUIConfig.tooltipsWin=null\r\n\t\tUIConfig.defaultComboBoxVisibleItemCount=10;\r\n\t\tUIConfig.touchScrollSensitivity=20;\r\n\t\tUIConfig.touchDragSensitivity=10;\r\n\t\tUIConfig.clickDragSensitivity=2;\r\n\t\tUIConfig.bringWindowToFrontOnClick=true;\r\n\t\tUIConfig.frameTimeForAsyncUIConstruction=2;\r\n\t\treturn UIConfig;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.UIObjectFactory\r\n\tvar UIObjectFactory=(function(){\r\n\t\tfunction UIObjectFactory(){}\r\n\t\t__class(UIObjectFactory,'fairygui.UIObjectFactory');\r\n\t\tUIObjectFactory.setPackageItemExtension=function(url,type){\r\n\t\t\tfairygui.UIObjectFactory.packageItemExtensions[url.substring(5)]=type;\r\n\t\t}\r\n\r\n\t\tUIObjectFactory.setLoaderExtension=function(type){\r\n\t\t\tfairygui.UIObjectFactory.loaderExtension=type;\r\n\t\t}\r\n\r\n\t\tUIObjectFactory.newObject=function(pi){\r\n\t\t\tswitch (pi.type){\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\treturn new GImage();\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\treturn new GMovieClip();\r\n\t\t\t\tcase 4:{\r\n\t\t\t\t\t\tvar cls=fairygui.UIObjectFactory.packageItemExtensions[pi.owner.id+pi.id];\r\n\t\t\t\t\t\tif(cls)\r\n\t\t\t\t\t\t\treturn new cls();\r\n\t\t\t\t\t\tvar xml=pi.owner.getItemAsset(pi);\r\n\t\t\t\t\t\tvar extention=xml.getAttribute(\"extention\");\r\n\t\t\t\t\t\tif(extention !=null){\r\n\t\t\t\t\t\tswitch(extention){\r\n\t\t\t\t\t\t\tcase \"Button\":\r\n\t\t\t\t\t\t\t\treturn new GButton();\r\n\t\t\t\t\t\t\tcase \"Label\":\r\n\t\t\t\t\t\t\t\treturn new GLabel();\r\n\t\t\t\t\t\t\tcase \"ProgressBar\":\r\n\t\t\t\t\t\t\t\treturn new GProgressBar();\r\n\t\t\t\t\t\t\tcase \"Slider\":\r\n\t\t\t\t\t\t\t\treturn new GSlider();\r\n\t\t\t\t\t\t\tcase \"ScrollBar\":\r\n\t\t\t\t\t\t\t\treturn new GScrollBar();\r\n\t\t\t\t\t\t\tcase \"ComboBox\":\r\n\t\t\t\t\t\t\t\treturn new GComboBox();\r\n\t\t\t\t\t\t\tdefault :\r\n\t\t\t\t\t\t\t\treturn new GComponent();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\treturn new GComponent();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tUIObjectFactory.newObject2=function(type){\r\n\t\t\tswitch (type){\r\n\t\t\t\tcase \"image\":\r\n\t\t\t\t\treturn new GImage();\r\n\t\t\t\tcase \"movieclip\":\r\n\t\t\t\t\treturn new GMovieClip();\r\n\t\t\t\tcase \"component\":\r\n\t\t\t\t\treturn new GComponent();\r\n\t\t\t\tcase \"text\":\r\n\t\t\t\t\treturn new GBasicTextField();\r\n\t\t\t\tcase \"richtext\":\r\n\t\t\t\t\treturn new GRichTextField();\r\n\t\t\t\tcase \"inputtext\":\r\n\t\t\t\t\treturn new GTextInput();\r\n\t\t\t\tcase \"group\":\r\n\t\t\t\t\treturn new GGroup();\r\n\t\t\t\tcase \"list\":\r\n\t\t\t\t\treturn new GList();\r\n\t\t\t\tcase \"graph\":\r\n\t\t\t\t\treturn new GGraph();\r\n\t\t\t\tcase \"loader\":\r\n\t\t\t\t\tif (fairygui.UIObjectFactory.loaderExtension !=null)\r\n\t\t\t\t\t\treturn new fairygui.UIObjectFactory.loaderExtension();\r\n\t\t\t\t\telse\r\n\t\t\t\t\treturn new GLoader();\r\n\t\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tUIObjectFactory.packageItemExtensions={};\r\n\t\tUIObjectFactory.loaderExtension=null\r\n\t\treturn UIObjectFactory;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.UIPackage\r\n\tvar UIPackage=(function(){\r\n\t\tvar AtlasSprite;\r\n\t\tfunction UIPackage(){\r\n\t\t\tthis._id=null;\r\n\t\t\tthis._name=null;\r\n\t\t\tthis._basePath=null;\r\n\t\t\tthis._items=null;\r\n\t\t\tthis._itemsById=null;\r\n\t\t\tthis._itemsByName=null;\r\n\t\t\tthis._resKey=null;\r\n\t\t\tthis._resData=null;\r\n\t\t\tthis._customId=null;\r\n\t\t\tthis._sprites=null;\r\n\t\t\tthis._hitTestDatas=null;\r\n\t\t\tthis._items=[];\r\n\t\t\tthis._sprites={};\r\n\t\t\tthis._hitTestDatas={};\r\n\t\t}\r\n\r\n\t\t__class(UIPackage,'fairygui.UIPackage');\r\n\t\tvar __proto=UIPackage.prototype;\r\n\t\t__proto.create=function(resKey){\r\n\t\t\tthis._resKey=resKey;\r\n\t\t\tthis.loadPackage();\r\n\t\t}\r\n\r\n\t\t__proto.loadPackage=function(){\r\n\t\t\tvar str;\r\n\t\t\tvar arr;\r\n\t\t\tthis.decompressPackage(AssetProxy.inst.getRes(this._resKey+\".fui\"));\r\n\t\t\tstr=this.getDesc(\"sprites.bytes\");\r\n\t\t\tarr=str.split(\"\\n\");\r\n\t\t\tvar cnt=arr.length;\r\n\t\t\tfor(var i=1;i < cnt;i++){\r\n\t\t\t\tstr=arr[i];\r\n\t\t\t\tif(!str)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tvar arr2=str.split(\" \");\r\n\t\t\t\tvar sprite=new AtlasSprite();\r\n\t\t\t\tvar itemId=arr2[0];\r\n\t\t\t\tvar binIndex=parseInt(arr2[1]);\r\n\t\t\t\tif(binIndex >=0)\r\n\t\t\t\t\tsprite.atlas=\"atlas\"+binIndex;\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar pos=itemId.indexOf(\"_\");\r\n\t\t\t\t\tif(pos==-1)\r\n\t\t\t\t\t\tsprite.atlas=\"atlas_\"+itemId;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tsprite.atlas=\"atlas_\"+itemId.substr(0,pos);\r\n\t\t\t\t}\r\n\t\t\t\tsprite.rect.x=parseInt(arr2[2]);\r\n\t\t\t\tsprite.rect.y=parseInt(arr2[3]);\r\n\t\t\t\tsprite.rect.width=parseInt(arr2[4]);\r\n\t\t\t\tsprite.rect.height=parseInt(arr2[5]);\r\n\t\t\t\tsprite.rotated=arr2[6]==\"1\";\r\n\t\t\t\tthis._sprites[itemId]=sprite;\r\n\t\t\t}\r\n\t\t\tstr=this.getDesc(\"hittest.bytes\");\r\n\t\t\tif(str!=null){\r\n\t\t\t\tvar ba=new Byte(ToolSet.bs2a(str));\r\n\t\t\t\tba.endian=\"bigEndian\";\r\n\t\t\t\twhile(ba.bytesAvailable){\r\n\t\t\t\t\tvar hitTestData=new PixelHitTestData();\r\n\t\t\t\t\tthis._hitTestDatas[ba.readUTFString()]=hitTestData;\r\n\t\t\t\t\thitTestData.load(ba);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstr=this.getDesc(\"package.xml\");\r\n\t\t\tvar xml=Utils.parseXMLFromString(str);\r\n\t\t\tvar rootNode=xml.firstChild;\r\n\t\t\tthis._id=rootNode.getAttribute(\"id\");\r\n\t\t\tthis._name=rootNode.getAttribute(\"name\");\r\n\t\t\tvar resources=ToolSet.findChildNode(rootNode,\"resources\").childNodes;\r\n\t\t\tthis._itemsById={};\r\n\t\t\tthis._itemsByName={};\r\n\t\t\tvar pi;\r\n\t\t\tvar cxml;\r\n\t\t\tvar length1=resources.length;\r\n\t\t\tfor(var i1=0;i1 < length1;i1++){\r\n\t\t\t\tcxml=resources[i1];\r\n\t\t\t\tif(cxml.nodeType!=1)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tpi=new PackageItem();\r\n\t\t\t\tpi.type=PackageItemType.parse(cxml.nodeName);\r\n\t\t\t\tpi.id=cxml.getAttribute(\"id\");\r\n\t\t\t\tpi.name=cxml.getAttribute(\"name\");\r\n\t\t\t\tpi.file=cxml.getAttribute(\"file\");\r\n\t\t\t\tstr=cxml.getAttribute(\"size\");\r\n\t\t\t\tif(str){\r\n\t\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\t\tpi.width=parseInt(arr[0]);\r\n\t\t\t\t\tpi.height=parseInt(arr[1]);\r\n\t\t\t\t}\r\n\t\t\t\tswitch(pi.type){\r\n\t\t\t\t\tcase 0:{\r\n\t\t\t\t\t\t\tstr=cxml.getAttribute(\"scale\");\r\n\t\t\t\t\t\t\tif(str==\"9grid\"){\r\n\t\t\t\t\t\t\t\tpi.scale9Grid=new laya.maths.Rectangle();\r\n\t\t\t\t\t\t\t\tstr=cxml.getAttribute(\"scale9grid\");\r\n\t\t\t\t\t\t\t\tif(str){\r\n\t\t\t\t\t\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\t\t\t\t\t\tpi.scale9Grid.x=parseInt(arr[0]);\r\n\t\t\t\t\t\t\t\t\tpi.scale9Grid.y=parseInt(arr[1]);\r\n\t\t\t\t\t\t\t\t\tpi.scale9Grid.width=parseInt(arr[2]);\r\n\t\t\t\t\t\t\t\t\tpi.scale9Grid.height=parseInt(arr[3]);\r\n\t\t\t\t\t\t\t\t\tstr=cxml.getAttribute(\"gridTile\");\r\n\t\t\t\t\t\t\t\t\tif(str)\r\n\t\t\t\t\t\t\t\t\t\tpi.tileGridIndice=parseInt(str);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if(str==\"tile\"){\r\n\t\t\t\t\t\t\t\tpi.scaleByTile=true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tstr=cxml.getAttribute(\"smoothing\");\r\n\t\t\t\t\t\t\tpi.smoothing=str !=\"false\";\r\n\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\tpi.owner=this;\r\n\t\t\t\tthis._items.push(pi);\r\n\t\t\t\tthis._itemsById[pi.id]=pi;\r\n\t\t\t\tif(pi.name !=null)\r\n\t\t\t\t\tthis._itemsByName[pi.name]=pi;\r\n\t\t\t}\r\n\t\t\tcnt=this._items.length;\r\n\t\t\tfor(i=0;i < cnt;i++){\r\n\t\t\t\tpi=this._items[i];\r\n\t\t\t\tif(pi.type==6){\r\n\t\t\t\t\tthis.loadFont(pi);\r\n\t\t\t\t\tfairygui.UIPackage._bitmapFonts[pi.bitmapFont.id]=pi.bitmapFont;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.decompressPackage=function(buf){\r\n\t\t\tthis._resData={};\r\n\t\t\tvar data;\r\n\t\t\tvar inflater=new Zlib.RawInflate(buf);data=inflater.decompress();;\r\n\t\t\tvar source=new Byte(data).readUTFBytes();\r\n\t\t\tvar curr=0;\r\n\t\t\tvar fn;\r\n\t\t\tvar size=NaN;\r\n\t\t\twhile(true){\r\n\t\t\t\tvar pos=source.indexOf(\"|\",curr);\r\n\t\t\t\tif(pos==-1)\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tfn=source.substring(curr,pos);\r\n\t\t\t\tcurr=pos+1;\r\n\t\t\t\tpos=source.indexOf(\"|\",curr);\r\n\t\t\t\tsize=parseInt(source.substring(curr,pos));\r\n\t\t\t\tcurr=pos+1;\r\n\t\t\t\tthis._resData[fn]=source.substr(curr,size);\r\n\t\t\t\tcurr+=size;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.dispose=function(){\r\n\t\t\tvar cnt=this._items.length;\r\n\t\t\tfor(var i=0;i < cnt;i++){\r\n\t\t\t\tvar pi=this._items[i];\r\n\t\t\t\tvar texture=pi.texture;\r\n\t\t\t\tif(pi.bitmapFont !=null){\r\n\t\t\t\t\tdelete fairygui.UIPackage._bitmapFonts[pi.bitmapFont.id];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.createObject=function(resName,userClass){\r\n\t\t\tvar pi=this._itemsByName[resName];\r\n\t\t\tif (pi)\r\n\t\t\t\treturn this.internalCreateObject(pi,userClass);\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.internalCreateObject=function(item,userClass){\r\n\t\t\tvar g;\r\n\t\t\tif (item.type==4){\r\n\t\t\t\tif (userClass !=null)\r\n\t\t\t\t\tg=new userClass();\r\n\t\t\t\telse\r\n\t\t\t\tg=UIObjectFactory.newObject(item);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tg=UIObjectFactory.newObject(item);\r\n\t\t\tif (g==null)\r\n\t\t\t\treturn null;\r\n\t\t\tfairygui.UIPackage._constructing++;\r\n\t\t\tg.packageItem=item;\r\n\t\t\tg.constructFromResource();\r\n\t\t\tfairygui.UIPackage._constructing--;\r\n\t\t\treturn g;\r\n\t\t}\r\n\r\n\t\t__proto.getItemById=function(itemId){\r\n\t\t\treturn this._itemsById[itemId];\r\n\t\t}\r\n\r\n\t\t__proto.getItemByName=function(resName){\r\n\t\t\treturn this._itemsByName[resName];\r\n\t\t}\r\n\r\n\t\t__proto.getItemAssetByName=function(resName){\r\n\t\t\tvar pi=this._itemsByName[resName];\r\n\t\t\tif (pi==null){\r\n\t\t\t\tthrow \"Resource not found -\"+resName;\r\n\t\t\t}\r\n\t\t\treturn this.getItemAsset(pi);\r\n\t\t}\r\n\r\n\t\t__proto.getItemAssetURL=function(item){\r\n\t\t\treturn this._resKey+\"@\"+item.file;;\r\n\t\t}\r\n\r\n\t\t__proto.getItemAsset=function(item){\r\n\t\t\tswitch (item.type){\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tif (!item.decoded){\r\n\t\t\t\t\t\titem.decoded=true;\r\n\t\t\t\t\t\tvar sprite=this._sprites[item.id];\r\n\t\t\t\t\t\tif (sprite !=null)\r\n\t\t\t\t\t\t\titem.texture=this.createSpriteTexture(sprite);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn item.texture;\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tif (!item.decoded){\r\n\t\t\t\t\t\titem.decoded=true;\r\n\t\t\t\t\t\tvar fileName=(item.file !=null && item.file.length > 0)? item.file :(item.id+\".png\");\r\n\t\t\t\t\t\titem.texture=AssetProxy.inst.getRes(this._resKey+\"@\"+fileName);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn item.texture;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tif (!item.decoded){\r\n\t\t\t\t\t\titem.decoded=true;\r\n\t\t\t\t\t\titem.sound=AssetProxy.inst.getRes(this._resKey+\"@\"+item.file);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn item.sound;\r\n\t\t\t\tcase 6:\r\n\t\t\t\t\tif (!item.decoded){\r\n\t\t\t\t\t\titem.decoded=true;\r\n\t\t\t\t\t\tthis.loadFont(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn item.bitmapFont;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tif (!item.decoded){\r\n\t\t\t\t\t\titem.decoded=true;\r\n\t\t\t\t\t\tthis.loadMovieClip(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn item.frames;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tif (!item.decoded){\r\n\t\t\t\t\t\titem.decoded=true;\r\n\t\t\t\t\t\tvar str=this.getDesc(item.id+\".xml\");\r\n\t\t\t\t\t\tvar xml=Utils.parseXMLFromString(str);\r\n\t\t\t\t\t\titem.componentData=xml.firstChild;\r\n\t\t\t\t\t\tthis.loadComponentChildren(item);\r\n\t\t\t\t\t\tthis.translateComponent(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn item.componentData;\r\n\t\t\t\tdefault :\r\n\t\t\t\t\treturn AssetProxy.inst.getRes(this._resKey+\"@\"+item.id);\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.getDesc=function(fn){\r\n\t\t\treturn this._resData[fn];\r\n\t\t}\r\n\r\n\t\t__proto.getPixelHitTestData=function(itemId){\r\n\t\t\treturn this._hitTestDatas[itemId];\r\n\t\t}\r\n\r\n\t\t__proto.loadComponentChildren=function(item){\r\n\t\t\tvar listNode=ToolSet.findChildNode(item.componentData,\"displayList\");\r\n\t\t\tif (listNode !=null){\r\n\t\t\t\tvar col=listNode.childNodes;\r\n\t\t\t\tvar dcnt=col.length;\r\n\t\t\t\titem.displayList=__newvec(dcnt);\r\n\t\t\t\tvar di;\r\n\t\t\t\tfor (var i=0;i < dcnt;i++){\r\n\t\t\t\t\tvar cxml=col[i];\r\n\t\t\t\t\tvar tagName=cxml.nodeName;\r\n\t\t\t\t\tvar src=cxml.getAttribute(\"src\");\r\n\t\t\t\t\tif (src){\r\n\t\t\t\t\t\tvar pkgId=cxml.getAttribute(\"pkg\");\r\n\t\t\t\t\t\tvar pkg;\r\n\t\t\t\t\t\tif (pkgId && pkgId !=item.owner.id)\r\n\t\t\t\t\t\t\tpkg=fairygui.UIPackage.getById(pkgId);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tpkg=item.owner;\r\n\t\t\t\t\t\tvar pi=pkg !=null ? pkg.getItemById(src):null;\r\n\t\t\t\t\t\tif (pi !=null)\r\n\t\t\t\t\t\t\tdi=new DisplayListItem(pi,null);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tdi=new DisplayListItem(null,tagName);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tif (tagName==\"text\" && cxml.getAttribute(\"input\")==\"true\")\r\n\t\t\t\t\t\t\tdi=new DisplayListItem(null,\"inputtext\");\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tdi=new DisplayListItem(null,tagName);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdi.desc=cxml;\r\n\t\t\t\t\titem.displayList[i]=di;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\titem.displayList=__newvec(0,null);\r\n\t\t}\r\n\r\n\t\t__proto.translateComponent=function(item){\r\n\t\t\tif(fairygui.UIPackage._stringsSource==null)\r\n\t\t\t\treturn;\r\n\t\t\tvar strings=fairygui.UIPackage._stringsSource[this.id+item.id];\r\n\t\t\tif(strings==null)\r\n\t\t\t\treturn;\r\n\t\t\tvar length1=item.displayList.length;\r\n\t\t\tvar length2=NaN;\r\n\t\t\tvar value;\r\n\t\t\tvar cxml,dxml,exml;\r\n\t\t\tvar ename;\r\n\t\t\tvar elementId;\r\n\t\t\tvar items;\r\n\t\t\tvar i1=NaN,i2=NaN,j=NaN;\r\n\t\t\tvar str;\r\n\t\t\tfor (i1=0;i1 < length1;i1++){\r\n\t\t\t\tcxml=item.displayList[i1].desc;\r\n\t\t\t\tename=cxml.nodeName;\r\n\t\t\t\telementId=cxml.getAttribute(\"id\");\r\n\t\t\t\tstr=cxml.getAttribute(\"tooltips\");\r\n\t\t\t\tif(str){\r\n\t\t\t\t\tvalue=strings[elementId+\"-tips\"];\r\n\t\t\t\t\tif(value!=undefined)\r\n\t\t\t\t\t\tcxml.setAttribute(\"tooltips\",value);\r\n\t\t\t\t}\r\n\t\t\t\tdxml=ToolSet.findChildNode(cxml,\"gearText\");\r\n\t\t\t\tif(dxml){\r\n\t\t\t\t\tvalue=strings[elementId+\"-texts\"];\r\n\t\t\t\t\tif(value!=undefined)\r\n\t\t\t\t\t\tdxml.setAttribute(\"values\",value);\r\n\t\t\t\t\tvalue=strings[elementId+\"-texts_def\"];\r\n\t\t\t\t\tif(value!=undefined)\r\n\t\t\t\t\t\tdxml.setAttribute(\"default\",value);\r\n\t\t\t\t}\r\n\t\t\t\tif(ename==\"text\" || ename==\"richtext\"){\r\n\t\t\t\t\tvalue=strings[elementId];\r\n\t\t\t\t\tif(value!=undefined)\r\n\t\t\t\t\t\tcxml.setAttribute(\"text\",value);\r\n\t\t\t\t\tvalue=strings[elementId+\"-prompt\"];\r\n\t\t\t\t\tif(value!=undefined)\r\n\t\t\t\t\t\tcxml.setAttribute(\"prompt\",value);\r\n\t\t\t\t}\r\n\t\t\t\telse if(ename==\"list\"){\r\n\t\t\t\t\titems=cxml.childNodes;\r\n\t\t\t\t\tlength2=items.length;\r\n\t\t\t\t\tj=0;\r\n\t\t\t\t\tfor (i2=0;i2 < length2;i2++){\r\n\t\t\t\t\t\texml=items[i2];\r\n\t\t\t\t\t\tif(exml.nodeName!=\"item\")\r\n\t\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t\tvalue=strings[elementId+\"-\"+j];\r\n\t\t\t\t\t\tif(value!=undefined)\r\n\t\t\t\t\t\t\texml.setAttribute(\"title\",value);\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(ename==\"component\"){\r\n\t\t\t\t\tdxml=ToolSet.findChildNode(cxml,\"Button\");\r\n\t\t\t\t\tif(dxml){\r\n\t\t\t\t\t\tvalue=strings[elementId];\r\n\t\t\t\t\t\tif(value!=undefined)\r\n\t\t\t\t\t\t\tdxml.setAttribute(\"title\",value);\r\n\t\t\t\t\t\tvalue=strings[elementId+\"-0\"];\r\n\t\t\t\t\t\tif(value!=undefined)\r\n\t\t\t\t\t\t\tdxml.setAttribute(\"selectedTitle\",value);\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdxml=ToolSet.findChildNode(cxml,\"Label\");\r\n\t\t\t\t\tif(dxml){\r\n\t\t\t\t\t\tvalue=strings[elementId];\r\n\t\t\t\t\t\tif(value!=undefined)\r\n\t\t\t\t\t\t\tdxml.setAttribute(\"title\",value);\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdxml=ToolSet.findChildNode(cxml,\"ComboBox\");\r\n\t\t\t\t\tif(dxml){\r\n\t\t\t\t\t\tvalue=strings[elementId];\r\n\t\t\t\t\t\tif(value!=undefined)\r\n\t\t\t\t\t\t\tdxml.setAttribute(\"title\",value);\r\n\t\t\t\t\t\titems=dxml.childNodes;\r\n\t\t\t\t\t\tlength2=items.length;\r\n\t\t\t\t\t\tj=0;\r\n\t\t\t\t\t\tfor (i2=0;i2 < length2;i2++){\r\n\t\t\t\t\t\t\texml=items[i2];\r\n\t\t\t\t\t\t\tif(exml.nodeName!=\"item\")\r\n\t\t\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t\t\tvalue=strings[elementId+\"-\"+j];\r\n\t\t\t\t\t\t\tif(value!=undefined)\r\n\t\t\t\t\t\t\t\texml.setAttribute(\"title\",value);\r\n\t\t\t\t\t\t\tj++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.createSpriteTexture=function(sprite){\r\n\t\t\tvar atlasItem=this._itemsById[sprite.atlas];\r\n\t\t\tif (atlasItem !=null){\r\n\t\t\t\tvar atlasTexture=(this.getItemAsset(atlasItem));\r\n\t\t\t\tif(atlasTexture==null)\r\n\t\t\t\t\treturn null;\r\n\t\t\t\telse\r\n\t\t\t\treturn this.createSubTexture(atlasTexture,sprite.rect);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.createSubTexture=function(atlasTexture,clipRect){\r\n\t\t\tvar texture=Texture.createFromTexture(atlasTexture,\r\n\t\t\tclipRect.x,clipRect.y,clipRect.width,clipRect.height);\r\n\t\t\treturn texture;\r\n\t\t}\r\n\r\n\t\t__proto.loadMovieClip=function(item){\r\n\t\t\tvar xml=Utils.parseXMLFromString(this.getDesc(item.id+\".xml\")).firstChild;\r\n\t\t\tvar str;\r\n\t\t\tvar arr;\r\n\t\t\tstr=xml.getAttribute(\"interval\");\r\n\t\t\tif (str)\r\n\t\t\t\titem.interval=parseInt(str);\r\n\t\t\tstr=xml.getAttribute(\"swing\");\r\n\t\t\tif (str)\r\n\t\t\t\titem.swing=str==\"true\";\r\n\t\t\tstr=xml.getAttribute(\"repeatDelay\");\r\n\t\t\tif (str)\r\n\t\t\t\titem.repeatDelay=parseInt(str);\r\n\t\t\tvar frameCount=parseInt(xml.getAttribute(\"frameCount\"));\r\n\t\t\titem.frames=[];\r\n\t\t\tvar frameNodes=ToolSet.findChildNode(xml,\"frames\").childNodes;\r\n\t\t\tvar i=0;\r\n\t\t\tvar len=frameNodes.length;\r\n\t\t\tfor(var k=0;k < len;k++){\r\n\t\t\t\tvar frameNode=frameNodes[k];\r\n\t\t\t\tif(frameNode.nodeName!=\"frame\")\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tvar frame=new Frame();\r\n\t\t\t\tstr=frameNode.getAttribute(\"rect\");\r\n\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\tframe.rect=new Rectangle(parseInt(arr[0]),parseInt(arr[1]),parseInt(arr[2]),parseInt(arr[3]));\r\n\t\t\t\tstr=frameNode.getAttribute(\"addDelay\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tframe.addDelay=parseInt(str);\r\n\t\t\t\titem.frames[i]=frame;\r\n\t\t\t\tif (frame.rect.width==0)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tstr=frameNode.getAttribute(\"sprite\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tstr=item.id+\"_\"+str;\r\n\t\t\t\telse\r\n\t\t\t\tstr=item.id+\"_\"+i;\r\n\t\t\t\tvar sprite=this._sprites[str];\r\n\t\t\t\tif(sprite !=null)\r\n\t\t\t\t\tframe.texture=this.createSpriteTexture(sprite);\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.loadFont=function(item){\r\n\t\t\tvar font=new BitmapFont1();\r\n\t\t\tfont.id=\"ui://\"+this.id+item.id;\r\n\t\t\tvar str=this.getDesc(item.id+\".fnt\");\r\n\t\t\tvar lines=str.split(\"\\n\");\r\n\t\t\tvar lineCount=lines.length;\r\n\t\t\tvar i=0;\r\n\t\t\tvar kv={};\r\n\t\t\tvar ttf=false;\r\n\t\t\tvar size=0;\r\n\t\t\tvar xadvance=0;\r\n\t\t\tvar resizable=false;\r\n\t\t\tvar atlasOffsetX=0,atlasOffsetY=0;\r\n\t\t\tvar charImg;\r\n\t\t\tvar mainTexture;\r\n\t\t\tvar lineHeight=0;\r\n\t\t\tfor (i=0;i < lineCount;i++){\r\n\t\t\t\tstr=lines[i];\r\n\t\t\t\tif (str.length==0)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tstr=ToolSet.trim(str);\r\n\t\t\t\tvar arr=str.split(\" \");\r\n\t\t\t\tfor (var j=1;j < arr.length;j++){\r\n\t\t\t\t\tvar arr2=arr[j].split(\"=\");\r\n\t\t\t\t\tkv[arr2[0]]=arr2[1];\r\n\t\t\t\t}\r\n\t\t\t\tstr=arr[0];\r\n\t\t\t\tif (str==\"char\"){\r\n\t\t\t\t\tvar bg=new BMGlyph();\r\n\t\t\t\t\tbg.x=isNaN(kv.x)? 0 :parseInt(kv.x);\r\n\t\t\t\t\tbg.y=isNaN(kv.y)? 0 :parseInt(kv.y);\r\n\t\t\t\t\tbg.offsetX=isNaN(kv.xoffset)? 0 :parseInt(kv.xoffset);\r\n\t\t\t\t\tbg.offsetY=isNaN(kv.yoffset)? 0 :parseInt(kv.yoffset);\r\n\t\t\t\t\tbg.width=isNaN(kv.width)? 0 :parseInt(kv.width);\r\n\t\t\t\t\tbg.height=isNaN(kv.height)? 0 :parseInt(kv.height);\r\n\t\t\t\t\tbg.advance=isNaN(kv.xadvance)? 0 :parseInt(kv.xadvance);\r\n\t\t\t\t\tif (kv.chnl !=undefined){\r\n\t\t\t\t\t\tbg.channel=parseInt(kv.chnl);\r\n\t\t\t\t\t\tif (bg.channel==15)\r\n\t\t\t\t\t\t\tbg.channel=4;\r\n\t\t\t\t\t\telse if (bg.channel==1)\r\n\t\t\t\t\t\tbg.channel=3;\r\n\t\t\t\t\t\telse if (bg.channel==2)\r\n\t\t\t\t\t\tbg.channel=2;\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tbg.channel=1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!ttf){\r\n\t\t\t\t\t\tif (kv.img){\r\n\t\t\t\t\t\t\tcharImg=this._itemsById[kv.img];\r\n\t\t\t\t\t\t\tif (charImg !=null){\r\n\t\t\t\t\t\t\t\tcharImg.load();\r\n\t\t\t\t\t\t\t\tbg.width=charImg.width;\r\n\t\t\t\t\t\t\t\tbg.height=charImg.height;\r\n\t\t\t\t\t\t\t\tbg.texture=charImg.texture;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (mainTexture !=null){\r\n\t\t\t\t\t\tbg.texture=this.createSubTexture(mainTexture,new Rectangle(bg.x+atlasOffsetX,bg.y+atlasOffsetY,bg.width,bg.height));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (ttf)\r\n\t\t\t\t\t\tbg.lineHeight=lineHeight;\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif(bg.advance==0){\r\n\t\t\t\t\t\t\tif(xadvance==0)\r\n\t\t\t\t\t\t\t\tbg.advance=bg.offsetX+bg.width;\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tbg.advance=xadvance;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbg.lineHeight=bg.offsetY < 0 ? bg.height :(bg.offsetY+bg.height);\r\n\t\t\t\t\t\tif(size>0 && bg.lineHeight<size)\r\n\t\t\t\t\t\t\tbg.lineHeight=size;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfont.glyphs[String.fromCharCode(kv.id)]=bg;\r\n\t\t\t\t}\r\n\t\t\t\telse if (str==\"info\"){\r\n\t\t\t\t\tttf=kv.face !=null;\r\n\t\t\t\t\tif(!isNaN(kv.size))\r\n\t\t\t\t\t\tsize=parseInt(kv.size);\r\n\t\t\t\t\tresizable=kv.resizable==\"true\";\r\n\t\t\t\t\tif (ttf){\r\n\t\t\t\t\t\tvar sprite=this._sprites[item.id];\r\n\t\t\t\t\t\tif (sprite !=null){\r\n\t\t\t\t\t\t\tatlasOffsetX=sprite.rect.x;\r\n\t\t\t\t\t\t\tatlasOffsetY=sprite.rect.y;\r\n\t\t\t\t\t\t\tvar atlasItem=this._itemsById[sprite.atlas];\r\n\t\t\t\t\t\t\tif(atlasItem !=null)\r\n\t\t\t\t\t\t\t\tmainTexture=(this.getItemAsset(atlasItem));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (str==\"common\"){\r\n\t\t\t\t\tif(!isNaN(kv.lineHeight))\r\n\t\t\t\t\t\tlineHeight=parseInt(kv.lineHeight);\r\n\t\t\t\t\tif(size==0)\r\n\t\t\t\t\t\tsize=lineHeight;\r\n\t\t\t\t\telse if(lineHeight==0)\r\n\t\t\t\t\tlineHeight=size;\r\n\t\t\t\t\tif(!isNaN(kv.xadvance))\r\n\t\t\t\t\t\txadvance=parseInt(kv.xadvance);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (size==0 && bg)\r\n\t\t\t\tsize=bg.height;\r\n\t\t\tfont.ttf=ttf;\r\n\t\t\tfont.size=size;\r\n\t\t\tfont.resizable=resizable;\r\n\t\t\titem.bitmapFont=font;\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'id',function(){\r\n\t\t\treturn this._id;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'name',function(){\r\n\t\t\treturn this._name;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'customId',function(){\r\n\t\t\treturn this._customId;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._customId !=null)\r\n\t\t\t\tdelete fairygui.UIPackage._packageInstById[this._customId];\r\n\t\t\tthis._customId=value;\r\n\t\t\tif (this._customId !=null)\r\n\t\t\t\tfairygui.UIPackage._packageInstById[this._customId]=this;\r\n\t\t});\r\n\r\n\t\tUIPackage.getById=function(id){\r\n\t\t\treturn fairygui.UIPackage._packageInstById[id];\r\n\t\t}\r\n\r\n\t\tUIPackage.getByName=function(name){\r\n\t\t\treturn fairygui.UIPackage._packageInstByName[name];\r\n\t\t}\r\n\r\n\t\tUIPackage.addPackage=function(resKey){\r\n\t\t\tvar pkg=new UIPackage();\r\n\t\t\tpkg.create(resKey);\r\n\t\t\tfairygui.UIPackage._packageInstById[pkg.id]=pkg;\r\n\t\t\tfairygui.UIPackage._packageInstByName[pkg.name]=pkg;\r\n\t\t\tpkg.customId=resKey;\r\n\t\t\treturn pkg;\r\n\t\t}\r\n\r\n\t\tUIPackage.removePackage=function(packageId){\r\n\t\t\tvar pkg=fairygui.UIPackage._packageInstById[packageId];\r\n\t\t\tpkg.dispose();\r\n\t\t\tdelete fairygui.UIPackage._packageInstById[pkg.id];\r\n\t\t\tif(pkg._customId !=null)\r\n\t\t\t\tdelete fairygui.UIPackage._packageInstById[pkg._customId];\r\n\t\t\tdelete fairygui.UIPackage._packageInstByName[pkg.name];\r\n\t\t}\r\n\r\n\t\tUIPackage.createObject=function(pkgName,resName,userClass){\r\n\t\t\tvar pkg=fairygui.UIPackage.getByName(pkgName);\r\n\t\t\tif(pkg)\r\n\t\t\t\treturn pkg.createObject(resName,userClass);\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tUIPackage.createObjectFromURL=function(url,userClass){\r\n\t\t\tvar pi=fairygui.UIPackage.getItemByURL(url);\r\n\t\t\tif(pi)\r\n\t\t\t\treturn pi.owner.internalCreateObject(pi,userClass);\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tUIPackage.getItemURL=function(pkgName,resName){\r\n\t\t\tvar pkg=fairygui.UIPackage.getByName(pkgName);\r\n\t\t\tif(!pkg)\r\n\t\t\t\treturn null;\r\n\t\t\tvar pi=pkg._itemsByName[resName];\r\n\t\t\tif(!pi)\r\n\t\t\t\treturn null;\r\n\t\t\treturn \"ui://\"+pkg.id+pi.id;\r\n\t\t}\r\n\r\n\t\tUIPackage.getItemByURL=function(url){\r\n\t\t\tif(ToolSet.startsWith(url,\"ui://\")){\r\n\t\t\t\tvar pkgId=url.substr(5,8);\r\n\t\t\t\tvar srcId=url.substr(13);\r\n\t\t\t\tvar pkg=fairygui.UIPackage.getById(pkgId);\r\n\t\t\t\tif(pkg)\r\n\t\t\t\t\treturn pkg.getItemById(srcId);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tUIPackage.getBitmapFontByURL=function(url){\r\n\t\t\treturn fairygui.UIPackage._bitmapFonts[url];\r\n\t\t}\r\n\r\n\t\tUIPackage.setStringsSource=function(source){\r\n\t\t\tfairygui.UIPackage._stringsSource={};\r\n\t\t\tvar xml=Utils.parseXMLFromString(source);\r\n\t\t\tvar resNode=ToolSet.findChildNode(xml,\"resources\");\r\n\t\t\tvar nodes=resNode.childNodes;\r\n\t\t\tvar length1=nodes.length;\r\n\t\t\tfor (var i1=0;i1 < length1;i1++){\r\n\t\t\t\tvar cxml=nodes[i1];\r\n\t\t\t\tif (cxml.nodeName==\"string\"){\r\n\t\t\t\t\tvar key=cxml.getAttribute(\"name\");\r\n\t\t\t\t\tvar text=cxml.textContent;\r\n\t\t\t\t\tvar i=key.indexOf(\"-\");\r\n\t\t\t\t\tif(i==-1)\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\tvar key2=key.substr(0,i);\r\n\t\t\t\t\tvar key3=key.substr(i+1);\r\n\t\t\t\t\tvar col=fairygui.UIPackage._stringsSource[key2];\r\n\t\t\t\t\tif(!col){\r\n\t\t\t\t\t\tcol={};\r\n\t\t\t\t\t\tfairygui.UIPackage._stringsSource[key2]=col;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcol[key3]=text;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tUIPackage._constructing=0;\r\n\t\tUIPackage._packageInstById={};\r\n\t\tUIPackage._packageInstByName={};\r\n\t\tUIPackage._bitmapFonts={};\r\n\t\tUIPackage._stringsSource=null;\r\n\t\tUIPackage.sep0=\",\";\r\n\t\tUIPackage.sep1=\"\\n\";\r\n\t\tUIPackage.sep2=\" \";\r\n\t\tUIPackage.sep3=\"=\";\r\n\t\tUIPackage.__init$=function(){\r\n\t\t\t//class AtlasSprite\r\n\t\t\tAtlasSprite=(function(){\r\n\t\t\t\tfunction AtlasSprite(){\r\n\t\t\t\t\tthis.atlas=null;\r\n\t\t\t\t\tthis.rect=null;\r\n\t\t\t\t\tthis.rotated=false;\r\n\t\t\t\t\tthis.rect=new Rectangle();\r\n\t\t\t\t}\r\n\t\t\t\t__class(AtlasSprite,'');\r\n\t\t\t\treturn AtlasSprite;\r\n\t\t\t})()\r\n\t\t}\r\n\r\n\t\treturn UIPackage;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.utils.PixelHitTestData\r\n\tvar PixelHitTestData=(function(){\r\n\t\tfunction PixelHitTestData(){\r\n\t\t\tthis.pixelWidth=0;\r\n\t\t\tthis.scale=NaN;\r\n\t\t\tthis.pixels=null;\r\n\t\t}\r\n\r\n\t\t__class(PixelHitTestData,'fairygui.utils.PixelHitTestData');\r\n\t\tvar __proto=PixelHitTestData.prototype;\r\n\t\t__proto.load=function(ba){\r\n\t\t\tba.getInt32();\r\n\t\t\tthis.pixelWidth=ba.getInt32();\r\n\t\t\tthis.scale=1/ba.readByte();\r\n\t\t\tvar len=ba.getInt32();\r\n\t\t\tthis.pixels=__newvec(len);\r\n\t\t\tfor(var i=0;i<len;i++){\r\n\t\t\t\tvar j=ba.readByte();\r\n\t\t\t\tif(j<0)\r\n\t\t\t\t\tj+=256;\r\n\t\t\t\tthis.pixels[i]=j;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn PixelHitTestData;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.utils.ToolSet\r\n\tvar ToolSet=(function(){\r\n\t\tfunction ToolSet(){}\r\n\t\t__class(ToolSet,'fairygui.utils.ToolSet');\r\n\t\tToolSet.getFileName=function(source){\r\n\t\t\tvar i=source.lastIndexOf(\"/\");\r\n\t\t\tif (i !=-1)\r\n\t\t\t\tsource=source.substr(i+1);\r\n\t\t\ti=source.lastIndexOf(\"\\\\\");\r\n\t\t\tif (i !=-1)\r\n\t\t\t\tsource=source.substr(i+1);\r\n\t\t\ti=source.lastIndexOf(\".\");\r\n\t\t\tif (i !=-1)\r\n\t\t\t\treturn source.substring(0,i);\r\n\t\t\telse\r\n\t\t\treturn source;\r\n\t\t}\r\n\r\n\t\tToolSet.startsWith=function(source,str,ignoreCase){\r\n\t\t\t(ignoreCase===void 0)&& (ignoreCase=false);\r\n\t\t\tif (!source)\r\n\t\t\t\treturn false;\r\n\t\t\telse if (source.length < str.length)\r\n\t\t\treturn false;\r\n\t\t\telse {\r\n\t\t\t\tsource=source.substring(0,str.length);\r\n\t\t\t\tif (!ignoreCase)\r\n\t\t\t\t\treturn source==str;\r\n\t\t\t\telse\r\n\t\t\t\treturn source.toLowerCase()==str.toLowerCase();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tToolSet.endsWith=function(source,str,ignoreCase){\r\n\t\t\t(ignoreCase===void 0)&& (ignoreCase=false);\r\n\t\t\tif (!source)\r\n\t\t\t\treturn false;\r\n\t\t\telse if (source.length < str.length)\r\n\t\t\treturn false;\r\n\t\t\telse {\r\n\t\t\t\tsource=source.substring(source.length-str.length);\r\n\t\t\t\tif (!ignoreCase)\r\n\t\t\t\t\treturn source==str;\r\n\t\t\t\telse\r\n\t\t\t\treturn source.toLowerCase()==str.toLowerCase();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tToolSet.trim=function(targetString){\r\n\t\t\treturn fairygui.utils.ToolSet.trimLeft(fairygui.utils.ToolSet.trimRight(targetString));\r\n\t\t}\r\n\r\n\t\tToolSet.trimLeft=function(targetString){\r\n\t\t\tvar tempChar=\"\";\r\n\t\t\tfor (var i=0;i < targetString.length;i++){\r\n\t\t\t\ttempChar=targetString.charAt(i);\r\n\t\t\t\tif (tempChar !=\" \" && tempChar !=\"\\n\" && tempChar !=\"\\r\"){\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn targetString.substr(i);\r\n\t\t}\r\n\r\n\t\tToolSet.trimRight=function(targetString){\r\n\t\t\tvar tempChar=\"\";\r\n\t\t\tfor (var i=targetString.length-1;i >=0;i--){\r\n\t\t\t\ttempChar=targetString.charAt(i);\r\n\t\t\t\tif (tempChar !=\" \" && tempChar !=\"\\n\" && tempChar !=\"\\r\"){\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn targetString.substring(0,i+1);\r\n\t\t}\r\n\r\n\t\tToolSet.convertToHtmlColor=function(argb,hasAlpha){\r\n\t\t\t(hasAlpha===void 0)&& (hasAlpha=false);\r\n\t\t\tvar alpha;\r\n\t\t\tif (hasAlpha)\r\n\t\t\t\talpha=(argb >> 24 & 0xFF).toString(16);\r\n\t\t\telse\r\n\t\t\talpha=\"\";\r\n\t\t\tvar red=(argb >> 16 & 0xFF).toString(16);\r\n\t\t\tvar green=(argb >> 8 & 0xFF).toString(16);\r\n\t\t\tvar blue=(argb & 0xFF).toString(16);\r\n\t\t\tif (alpha.length==1)\r\n\t\t\t\talpha=\"0\"+alpha;\r\n\t\t\tif (red.length==1)\r\n\t\t\t\tred=\"0\"+red;\r\n\t\t\tif (green.length==1)\r\n\t\t\t\tgreen=\"0\"+green;\r\n\t\t\tif (blue.length==1)\r\n\t\t\t\tblue=\"0\"+blue;\r\n\t\t\treturn \"#\"+alpha+red+green+blue;\r\n\t\t}\r\n\r\n\t\tToolSet.convertFromHtmlColor=function(str,hasAlpha){\r\n\t\t\t(hasAlpha===void 0)&& (hasAlpha=false);\r\n\t\t\tif (str.length < 1)\r\n\t\t\t\treturn 0;\r\n\t\t\tif (str.charAt(0)==\"#\")\r\n\t\t\t\tstr=str.substr(1);\r\n\t\t\tif (str.length==8)\r\n\t\t\t\treturn (parseInt(str.substr(0,2),16)<< 24)+parseInt(str.substr(2),16);\r\n\t\t\telse if (hasAlpha)\r\n\t\t\treturn 0xFF000000+parseInt(str,16);\r\n\t\t\telse\r\n\t\t\treturn parseInt(str,16);\r\n\t\t}\r\n\r\n\t\tToolSet.displayObjectToGObject=function(obj){\r\n\t\t\twhile (obj !=null && !((obj instanceof laya.display.Stage ))){\r\n\t\t\t\tif (obj[\"$owner\"])\r\n\t\t\t\t\treturn obj[\"$owner\"];\r\n\t\t\t\tobj=obj.parent;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tToolSet.findChildNode=function(xml,name){\r\n\t\t\tvar col=xml.childNodes;\r\n\t\t\tvar length1=col.length;\r\n\t\t\tif (length1>0){\r\n\t\t\t\tfor (var i1=0;i1 < length1;i1++){\r\n\t\t\t\t\tvar cxml=col[i1];\r\n\t\t\t\t\tif (cxml.nodeName==name){\r\n\t\t\t\t\t\treturn cxml;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tToolSet.encodeHTML=function(str){\r\n\t\t\tif (!str)\r\n\t\t\t\treturn \"\";\r\n\t\t\telse\r\n\t\t\treturn str.replace(\"&\",\"&amp;\").replace(\"<\",\"&lt;\").replace(\">\",\"&gt;\").replace(\"'\",\"&apos;\");\r\n\t\t}\r\n\r\n\t\tToolSet.parseUBB=function(text){\r\n\t\t\treturn fairygui.utils.ToolSet.defaultUBBParser.parse(text);\r\n\t\t}\r\n\r\n\t\tToolSet.removeUBB=function(text){\r\n\t\t\treturn fairygui.utils.ToolSet.defaultUBBParser.parse(text,true);\r\n\t\t}\r\n\r\n\t\tToolSet.parseEaseType=function(value){\r\n\t\t\tvar ret=ToolSet.EaseMap[value];\r\n\t\t\tif (!ret)\r\n\t\t\t\tret=Ease.quartOut;\r\n\t\t\treturn ret;\r\n\t\t}\r\n\r\n\t\tToolSet.clamp=function(value,min,max){\r\n\t\t\tif(value<min)\r\n\t\t\t\tvalue=min;\r\n\t\t\telse if(value>max)\r\n\t\t\tvalue=max;\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\tToolSet.clamp01=function(value){\r\n\t\t\tif(value>1)\r\n\t\t\t\tvalue=1;\r\n\t\t\telse if(value<0)\r\n\t\t\tvalue=0;\r\n\t\t\treturn value;\r\n\t\t}\r\n\r\n\t\tToolSet.bs2a=function(bstr){\r\n\t\t\tvar ba=Browser.window.atob(bstr);\r\n\t\t\tvar n=ba.length;\r\n\t\t\tvar u8arr=new Uint8Array(n);\r\n\t\t\twhile (n--)\r\n\t\t\tu8arr[n]=ba.charCodeAt(n);\r\n\t\t\treturn u8arr;\r\n\t\t}\r\n\r\n\t\t__static(ToolSet,\r\n\t\t['defaultUBBParser',function(){return this.defaultUBBParser=new UBBParser();},'EaseMap',function(){return this.EaseMap={\r\n\t\t\t\t\"Linear\":Ease.linearNone,\r\n\t\t\t\t\"Elastic.In\":Ease.elasticIn,\r\n\t\t\t\t\"Elastic.Out\":Ease.elasticOut,\r\n\t\t\t\t\"Elastic.InOut\":Ease.elasticInOut,\r\n\t\t\t\t\"Quad.In\":Ease.quadIn,\r\n\t\t\t\t\"Quad.Out\":Ease.quadOut,\r\n\t\t\t\t\"Quad.InOut\":Ease.quadInOut,\r\n\t\t\t\t\"Cube.In\":Ease.cubicIn,\r\n\t\t\t\t\"Cube.Out\":Ease.cubicOut,\r\n\t\t\t\t\"Cube.InOut\":Ease.cubicInOut,\r\n\t\t\t\t\"Quart.In\":Ease.quartIn,\r\n\t\t\t\t\"Quart.Out\":Ease.quartOut,\r\n\t\t\t\t\"Quart.InOut\":Ease.quartInOut,\r\n\t\t\t\t\"Quint.In\":Ease.quintIn,\r\n\t\t\t\t\"Quint.Out\":Ease.quintOut,\r\n\t\t\t\t\"Quint.InOut\":Ease.quintInOut,\r\n\t\t\t\t\"Sine.In\":Ease.sineIn,\r\n\t\t\t\t\"Sine.Out\":Ease.sineOut,\r\n\t\t\t\t\"Sine.InOut\":Ease.sineInOut,\r\n\t\t\t\t\"Bounce.In\":Ease.bounceIn,\r\n\t\t\t\t\"Bounce.Out\":Ease.bounceOut,\r\n\t\t\t\t\"Bounce.InOut\":Ease.bounceInOut,\r\n\t\t\t\t\"Circ.In\":Ease.circIn,\r\n\t\t\t\t\"Circ.Out\":Ease.circOut,\r\n\t\t\t\t\"Circ.InOut\":Ease.circInOut,\r\n\t\t\t\t\"Expo.In\":Ease.quartIn,\r\n\t\t\t\t\"Expo.Out\":Ease.quartOut,\r\n\t\t\t\t\"Expo.InOut\":Ease.quartInOut,\r\n\t\t\t\t\"Back.In\":Ease.backIn,\r\n\t\t\t\t\"Back.Out\":Ease.backOut,\r\n\t\t\t\t\"Back.InOut\":Ease.backInOut\r\n\t\t};}\r\n\r\n\t\t]);\r\n\t\treturn ToolSet;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.utils.UBBParser\r\n\tvar UBBParser=(function(){\r\n\t\tfunction UBBParser(){\r\n\t\t\tthis._text=null;\r\n\t\t\tthis._readPos=0;\r\n\t\t\tthis._handlers=null;\r\n\t\t\tthis.smallFontSize=12;\r\n\t\t\tthis.normalFontSize=14;\r\n\t\t\tthis.largeFontSize=16;\r\n\t\t\tthis.defaultImgWidth=0;\r\n\t\t\tthis.defaultImgHeight=0;\r\n\t\t\tthis._handlers={};\r\n\t\t\tthis._handlers[\"url\"]=this.onTag_URL;\r\n\t\t\tthis._handlers[\"img\"]=this.onTag_IMG;\r\n\t\t\tthis._handlers[\"b\"]=this.onTag_Simple;\r\n\t\t\tthis._handlers[\"i\"]=this.onTag_Simple;\r\n\t\t\tthis._handlers[\"u\"]=this.onTag_Simple;\r\n\t\t\tthis._handlers[\"sup\"]=this.onTag_Simple;\r\n\t\t\tthis._handlers[\"sub\"]=this.onTag_Simple;\r\n\t\t\tthis._handlers[\"color\"]=this.onTag_COLOR;\r\n\t\t\tthis._handlers[\"font\"]=this.onTag_FONT;\r\n\t\t\tthis._handlers[\"size\"]=this.onTag_SIZE;\r\n\t\t}\r\n\r\n\t\t__class(UBBParser,'fairygui.utils.UBBParser');\r\n\t\tvar __proto=UBBParser.prototype;\r\n\t\t__proto.onTag_URL=function(tagName,end,attr){\r\n\t\t\tif (!end){\r\n\t\t\t\tif (attr !=null)\r\n\t\t\t\t\treturn \"<a href=\\\"\"+attr+\"\\\" target=\\\"_blank\\\">\";\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar href=this.getTagText();\r\n\t\t\t\t\treturn \"<a href=\\\"\"+href+\"\\\" target=\\\"_blank\\\">\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\treturn \"</a>\";\r\n\t\t}\r\n\r\n\t\t__proto.onTag_IMG=function(tagName,end,attr){\r\n\t\t\tif (!end){\r\n\t\t\t\tvar src=this.getTagText(true);\r\n\t\t\t\tif (!src)\r\n\t\t\t\t\treturn null;\r\n\t\t\t\tif (this.defaultImgWidth)\r\n\t\t\t\t\treturn \"<img src=\\\"\"+src+\"\\\" width=\\\"\"+this.defaultImgWidth+\"\\\" height=\\\"\"+this.defaultImgHeight+\"\\\"/>\";\r\n\t\t\t\telse\r\n\t\t\t\treturn \"<img src=\\\"\"+src+\"\\\"/>\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.onTag_Simple=function(tagName,end,attr){\r\n\t\t\treturn end ? (\"</\"+tagName+\">\"):(\"<\"+tagName+\">\");\r\n\t\t}\r\n\r\n\t\t__proto.onTag_COLOR=function(tagName,end,attr){\r\n\t\t\tif (!end)\r\n\t\t\t\treturn \"<font color=\\\"\"+attr+\"\\\">\";\r\n\t\t\telse\r\n\t\t\treturn \"</font>\";\r\n\t\t}\r\n\r\n\t\t__proto.onTag_FONT=function(tagName,end,attr){\r\n\t\t\tif (!end)\r\n\t\t\t\treturn \"<font face=\\\"\"+attr+\"\\\">\";\r\n\t\t\telse\r\n\t\t\treturn \"</font>\";\r\n\t\t}\r\n\r\n\t\t__proto.onTag_SIZE=function(tagName,end,attr){\r\n\t\t\tif (!end){\r\n\t\t\t\tif (attr==\"normal\")\r\n\t\t\t\t\tattr=\"\"+this.normalFontSize;\r\n\t\t\t\telse if (attr==\"small\")\r\n\t\t\t\tattr=\"\"+this.smallFontSize;\r\n\t\t\t\telse if (attr==\"large\")\r\n\t\t\t\tattr=\"\"+this.largeFontSize;\r\n\t\t\t\telse if (attr.length && attr.charAt(0)==\"+\")\r\n\t\t\t\tattr=\"\"+(this.smallFontSize+parseInt(attr.substr(1)));\r\n\t\t\t\telse if (attr.length && attr.charAt(0)==\"-\")\r\n\t\t\t\tattr=\"\"+(this.smallFontSize-parseInt(attr.substr(1)));\r\n\t\t\t\treturn \"<font size=\\\"\"+attr+\"\\\">\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\treturn \"</font>\";\r\n\t\t}\r\n\r\n\t\t__proto.getTagText=function(remove){\r\n\t\t\t(remove===void 0)&& (remove=false);\r\n\t\t\tvar pos=this._text.indexOf(\"[\",this._readPos);\r\n\t\t\tif (pos==-1)\r\n\t\t\t\treturn null;\r\n\t\t\tvar ret=this._text.substring(this._readPos,pos);\r\n\t\t\tif (remove)\r\n\t\t\t\tthis._readPos=pos;\r\n\t\t\treturn ret;\r\n\t\t}\r\n\r\n\t\t__proto.parse=function(text,remove){\r\n\t\t\t(remove===void 0)&& (remove=false);\r\n\t\t\tthis._text=text;\r\n\t\t\tvar pos1=0,pos2=NaN,pos3=0;\r\n\t\t\tvar end=false;\r\n\t\t\tvar tag,attr;\r\n\t\t\tvar repl;\r\n\t\t\tvar func;\r\n\t\t\twhile ((pos2=this._text.indexOf(\"[\",pos1))!=-1){\r\n\t\t\t\tpos1=pos2;\r\n\t\t\t\tpos2=this._text.indexOf(\"]\",pos1);\r\n\t\t\t\tif (pos2==-1)\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tend=this._text.charAt(pos1+1)=='/';\r\n\t\t\t\ttag=this._text.substring(end ? pos1+2 :pos1+1,pos2);\r\n\t\t\t\tpos2++;\r\n\t\t\t\tthis._readPos=pos2;\r\n\t\t\t\tattr=null;\r\n\t\t\t\trepl=null;\r\n\t\t\t\tpos3=tag.indexOf(\"=\");\r\n\t\t\t\tif (pos3 !=-1){\r\n\t\t\t\t\tattr=tag.substring(pos3+1);\r\n\t\t\t\t\ttag=tag.substring(0,pos3);\r\n\t\t\t\t}\r\n\t\t\t\ttag=tag.toLowerCase();\r\n\t\t\t\tfunc=this._handlers[tag];\r\n\t\t\t\tif (func !=null){\r\n\t\t\t\t\tif(!remove){\r\n\t\t\t\t\t\trepl=func.call(this,tag,end,attr);\r\n\t\t\t\t\t\tif (repl==null)\r\n\t\t\t\t\t\t\trepl=\"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\trepl=\"\";\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tpos1=pos2;\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\t\tthis._text=this._text.substring(0,pos1)+repl+this._text.substring(this._readPos);\r\n\t\t\t}\r\n\t\t\treturn this._text;\r\n\t\t}\r\n\r\n\t\t__static(UBBParser,\r\n\t\t['inst',function(){return this.inst=new UBBParser();}\r\n\t\t]);\r\n\t\treturn UBBParser;\r\n\t})()\r\n\r\n\r\n\t//class fairygui.utils.ColorMatrix extends Array\r\n\tvar ColorMatrix=(function(_super){\r\n\t\t// initialization:\r\n\t\tfunction ColorMatrix(){\r\n\t\t\tColorMatrix.__super.call(this);\r\n\t\t\tthis.reset();\r\n\t\t}\r\n\r\n\t\t__class(ColorMatrix,'fairygui.utils.ColorMatrix',Array);\r\n\t\tvar __proto=ColorMatrix.prototype;\r\n\t\t// public methods:\r\n\t\t__proto.reset=function(){\r\n\t\t\tfor (var i=0;i<ColorMatrix.LENGTH;i++){\r\n\t\t\t\tthis[i]=ColorMatrix.IDENTITY_MATRIX[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.invert=function(){\r\n\t\t\tthis.multiplyMatrix([-1,0,0,0,255,\r\n\t\t\t0,-1,0,0,255,\r\n\t\t\t0,0,-1,0,255,\r\n\t\t\t0,0,0,1,0]);\r\n\t\t}\r\n\r\n\t\t__proto.adjustColor=function(p_brightness,p_contrast,p_saturation,p_hue){\r\n\t\t\tthis.adjustHue(p_hue);\r\n\t\t\tthis.adjustContrast(p_contrast);\r\n\t\t\tthis.adjustBrightness(p_brightness);\r\n\t\t\tthis.adjustSaturation(p_saturation);\r\n\t\t}\r\n\r\n\t\t__proto.adjustBrightness=function(p_val){\r\n\t\t\tp_val=this.cleanValue(p_val,1)*255;\r\n\t\t\tthis.multiplyMatrix([\r\n\t\t\t1,0,0,0,p_val,\r\n\t\t\t0,1,0,0,p_val,\r\n\t\t\t0,0,1,0,p_val,\r\n\t\t\t0,0,0,1,0]);\r\n\t\t}\r\n\r\n\t\t__proto.adjustContrast=function(p_val){\r\n\t\t\tp_val=this.cleanValue(p_val,1);\r\n\t\t\tvar s=p_val+1;\r\n\t\t\tvar o=128 *(1-s);\r\n\t\t\tthis.multiplyMatrix([\r\n\t\t\ts,0,0,0,o,\r\n\t\t\t0,s,0,0,o,\r\n\t\t\t0,0,s,0,o,\r\n\t\t\t0,0,0,1,0]);\r\n\t\t}\r\n\r\n\t\t__proto.adjustSaturation=function(p_val){\r\n\t\t\tp_val=this.cleanValue(p_val,1);\r\n\t\t\tp_val+=1;\r\n\t\t\tvar invSat=1-p_val;\r\n\t\t\tvar invLumR=invSat *0.299;\r\n\t\t\tvar invLumG=invSat *0.587;\r\n\t\t\tvar invLumB=invSat *0.114;\r\n\t\t\tthis.multiplyMatrix([\r\n\t\t\t(invLumR+p_val),invLumG,invLumB,0,0,\r\n\t\t\tinvLumR,(invLumG+p_val),invLumB,0,0,\r\n\t\t\tinvLumR,invLumG,(invLumB+p_val),0,0,\r\n\t\t\t0,0,0,1,0]);\r\n\t\t}\r\n\r\n\t\t__proto.adjustHue=function(p_val){\r\n\t\t\tp_val=this.cleanValue(p_val,1);\r\n\t\t\tp_val *=Math.PI;\r\n\t\t\tvar cos=Math.cos(p_val);\r\n\t\t\tvar sin=Math.sin(p_val);\r\n\t\t\tthis.multiplyMatrix([\r\n\t\t\t((0.299+(cos *(1-0.299)))+(sin *-(0.299))),((0.587+(cos *-(0.587)))+(sin *-(0.587))),((0.114+(cos *-(0.114)))+(sin *(1-0.114))),0,0,\r\n\t\t\t((0.299+(cos *-(0.299)))+(sin *0.143)),((0.587+(cos *(1-0.587)))+(sin *0.14)),((0.114+(cos *-(0.114)))+(sin *-0.283)),0,0,\r\n\t\t\t((0.299+(cos *-(0.299)))+(sin *-((1-0.299)))),((0.587+(cos *-(0.587)))+(sin *0.587)),((0.114+(cos *(1-0.114)))+(sin *0.114)),0,0,\r\n\t\t\t0,0,0,1,0]);\r\n\t\t}\r\n\r\n\t\t__proto.concat=function(p_matrix){\r\n\t\t\tif (p_matrix.length !=ColorMatrix.LENGTH){return;}\r\n\t\t\t\tthis.multiplyMatrix(p_matrix);\r\n\t\t}\r\n\r\n\t\t__proto.clone=function(){\r\n\t\t\tvar result=new ColorMatrix();\r\n\t\t\tresult.copyMatrix(this);\r\n\t\t\treturn result;\r\n\t\t}\r\n\r\n\t\t__proto.copyMatrix=function(p_matrix){\r\n\t\t\tvar l=ColorMatrix.LENGTH;\r\n\t\t\tfor (var i=0;i<l;i++){\r\n\t\t\t\tthis[i]=p_matrix[i];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.multiplyMatrix=function(p_matrix){\r\n\t\t\tvar col=[];\r\n\t\t\tvar i=0;\r\n\t\t\tfor (var y=0;y<4;++y){\r\n\t\t\t\tfor (var x=0;x<5;++x){\r\n\t\t\t\t\tcol[i+x]=p_matrix[i] *this[x]+\r\n\t\t\t\t\tp_matrix[i+1] *this[x+5]+\r\n\t\t\t\t\tp_matrix[i+2] *this[x+10]+\r\n\t\t\t\t\tp_matrix[i+3] *this[x+15]+\r\n\t\t\t\t\t(x==4 ? p_matrix[i+4] :0);\r\n\t\t\t\t}\r\n\t\t\t\ti+=5;\r\n\t\t\t}\r\n\t\t\tthis.copyMatrix(col);\r\n\t\t}\r\n\r\n\t\t__proto.cleanValue=function(p_val,p_limit){\r\n\t\t\treturn Math.min(p_limit,Math.max(-p_limit,p_val));\r\n\t\t}\r\n\r\n\t\tColorMatrix.create=function(p_brightness,p_contrast,p_saturation,p_hue){\r\n\t\t\tvar ret=new ColorMatrix();\r\n\t\t\tret.adjustColor(p_brightness,p_contrast,p_saturation,p_hue);\r\n\t\t\treturn ret;\r\n\t\t}\r\n\r\n\t\tColorMatrix.LUMA_R=0.299;\r\n\t\tColorMatrix.LUMA_G=0.587;\r\n\t\tColorMatrix.LUMA_B=0.114;\r\n\t\t__static(ColorMatrix,\r\n\t\t['IDENTITY_MATRIX',function(){return this.IDENTITY_MATRIX=[\r\n\t\t\t1,0,0,0,0,\r\n\t\t\t0,1,0,0,0,\r\n\t\t\t0,0,1,0,0,\r\n\t\t\t0,0,0,1,0];},'LENGTH',function(){return this.LENGTH=ColorMatrix.IDENTITY_MATRIX.length;}\r\n\t\t]);\r\n\t\treturn ColorMatrix;\r\n\t})(Array)\r\n\r\n\r\n\t//class fairygui.Controller extends laya.events.EventDispatcher\r\n\tvar Controller=(function(_super){\r\n\t\tvar PageTransition;\r\n\t\tfunction Controller(){\r\n\t\t\tthis._name=null;\r\n\t\t\tthis._selectedIndex=0;\r\n\t\t\tthis._previousIndex=0;\r\n\t\t\tthis._pageIds=null;\r\n\t\t\tthis._pageNames=null;\r\n\t\t\tthis._pageTransitions=null;\r\n\t\t\tthis._playingTransition=null;\r\n\t\t\tthis._parent=null;\r\n\t\t\tthis._autoRadioGroupDepth=false;\r\n\t\t\tController.__super.call(this);\r\n\t\t\tthis._pageIds=[];\r\n\t\t\tthis._pageNames=[];\r\n\t\t\tthis._selectedIndex=-1;\r\n\t\t\tthis._previousIndex=-1;\r\n\t\t}\r\n\r\n\t\t__class(Controller,'fairygui.Controller',_super);\r\n\t\tvar __proto=Controller.prototype;\r\n\t\t//功能和设置selectedIndex一样，但不会触发事件\r\n\t\t__proto.setSelectedIndex=function(value){\r\n\t\t\t(value===void 0)&& (value=0);\r\n\t\t\tif (this._selectedIndex !=value){\r\n\t\t\t\tif(value > this._pageIds.length-1)\r\n\t\t\t\t\tthrow \"index out of bounds: \"+value;\r\n\t\t\t\tthis._previousIndex=this._selectedIndex;\r\n\t\t\t\tthis._selectedIndex=value;\r\n\t\t\t\tthis._parent.applyController(this);\r\n\t\t\t\tif(this._playingTransition){\r\n\t\t\t\t\tthis._playingTransition.stop();\r\n\t\t\t\t\tthis._playingTransition=null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//功能和设置selectedPage一样，但不会触发事件\r\n\t\t__proto.setSelectedPage=function(value){\r\n\t\t\tvar i=this._pageNames.indexOf(value);\r\n\t\t\tif (i==-1)\r\n\t\t\t\ti=0;\r\n\t\t\tthis.setSelectedIndex(i);\r\n\t\t}\r\n\r\n\t\t__proto.getPageName=function(index){\r\n\t\t\t(index===void 0)&& (index=0);\r\n\t\t\treturn this._pageNames[index];\r\n\t\t}\r\n\r\n\t\t__proto.addPage=function(name){\r\n\t\t\t(name===void 0)&& (name=\"\");\r\n\t\t\tthis.addPageAt(name,this._pageIds.length);\r\n\t\t}\r\n\r\n\t\t__proto.addPageAt=function(name,index){\r\n\t\t\t(index===void 0)&& (index=0);\r\n\t\t\tvar nid=\"\"+(fairygui.Controller._nextPageId++);\r\n\t\t\tif (index==this._pageIds.length){\r\n\t\t\t\tthis._pageIds.push(nid);\r\n\t\t\t\tthis._pageNames.push(name);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis._pageIds.splice(index,0,nid);\r\n\t\t\t\tthis._pageNames.splice(index,0,name);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.removePage=function(name){\r\n\t\t\tvar i=this._pageNames.indexOf(name);\r\n\t\t\tif (i !=-1){\r\n\t\t\t\tthis._pageIds.splice(i,1);\r\n\t\t\t\tthis._pageNames.splice(i,1);\r\n\t\t\t\tif (this._selectedIndex >=this._pageIds.length)\r\n\t\t\t\t\tthis.selectedIndex=this._selectedIndex-1;\r\n\t\t\t\telse\r\n\t\t\t\tthis._parent.applyController(this);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.removePageAt=function(index){\r\n\t\t\t(index===void 0)&& (index=0);\r\n\t\t\tthis._pageIds.splice(index,1);\r\n\t\t\tthis._pageNames.splice(index,1);\r\n\t\t\tif (this._selectedIndex >=this._pageIds.length)\r\n\t\t\t\tthis.selectedIndex=this._selectedIndex-1;\r\n\t\t\telse\r\n\t\t\tthis._parent.applyController(this);\r\n\t\t}\r\n\r\n\t\t__proto.clearPages=function(){\r\n\t\t\tthis._pageIds.length=0;\r\n\t\t\tthis._pageNames.length=0;\r\n\t\t\tif (this._selectedIndex !=-1)\r\n\t\t\t\tthis.selectedIndex=-1;\r\n\t\t\telse\r\n\t\t\tthis._parent.applyController(this);\r\n\t\t}\r\n\r\n\t\t__proto.hasPage=function(aName){\r\n\t\t\treturn this._pageNames.indexOf(aName)!=-1;\r\n\t\t}\r\n\r\n\t\t__proto.getPageIndexById=function(aId){\r\n\t\t\treturn this._pageIds.indexOf(aId);\r\n\t\t}\r\n\r\n\t\t__proto.getPageIdByName=function(aName){\r\n\t\t\tvar i=this._pageNames.indexOf(aName);\r\n\t\t\tif(i !=-1)\r\n\t\t\t\treturn this._pageIds[i];\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.getPageNameById=function(aId){\r\n\t\t\tvar i=this._pageIds.indexOf(aId);\r\n\t\t\tif(i !=-1)\r\n\t\t\t\treturn this._pageNames[i];\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.getPageId=function(index){\r\n\t\t\t(index===void 0)&& (index=0);\r\n\t\t\treturn this._pageIds[index];\r\n\t\t}\r\n\r\n\t\t__proto.setup=function(xml){\r\n\t\t\tthis._name=xml.getAttribute(\"name\");\r\n\t\t\tthis._autoRadioGroupDepth=xml.getAttribute(\"autoRadioGroupDepth\")==\"true\";\r\n\t\t\tvar i=0;\r\n\t\t\tvar k=0;\r\n\t\t\tvar str=xml.getAttribute(\"pages\");\r\n\t\t\tif (str){\r\n\t\t\t\tvar arr=str.split(\",\");\r\n\t\t\t\tvar cnt=arr.length;\r\n\t\t\t\tfor (i=0;i < cnt;i+=2){\r\n\t\t\t\t\tthis._pageIds.push(arr[i]);\r\n\t\t\t\t\tthis._pageNames.push(arr[i+1]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstr=xml.getAttribute(\"transitions\");\r\n\t\t\tif(str){\r\n\t\t\t\tthis._pageTransitions=[];\r\n\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\tcnt=arr.length;\r\n\t\t\t\tfor(i=0;i < cnt;i++){\r\n\t\t\t\t\tstr=arr[i];\r\n\t\t\t\t\tif(!str)\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\tvar pt=new PageTransition();\r\n\t\t\t\t\tk=str.indexOf(\"=\");\r\n\t\t\t\t\tpt.transitionName=str.substr(k+1);\r\n\t\t\t\t\tstr=str.substring(0,k);\r\n\t\t\t\t\tk=str.indexOf(\"-\");\r\n\t\t\t\t\tpt.toIndex=parseInt(str.substring(k+1));\r\n\t\t\t\t\tstr=str.substring(0,k);\r\n\t\t\t\t\tif(str==\"*\")\r\n\t\t\t\t\t\tpt.fromIndex=-1;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tpt.fromIndex=parseInt(str);\r\n\t\t\t\t\tthis._pageTransitions.push(pt);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this._parent && this._pageIds.length > 0)\r\n\t\t\t\tthis._selectedIndex=0;\r\n\t\t\telse\r\n\t\t\tthis._selectedIndex=-1;\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'oppositePageId',null,function(val){\r\n\t\t\tvar i=this._pageIds.indexOf(val);\r\n\t\t\tif(i > 0)\r\n\t\t\t\tthis.selectedIndex=0;\r\n\t\t\telse if(this._pageIds.length > 1)\r\n\t\t\tthis.selectedIndex=1;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'name',function(){\r\n\t\t\treturn this._name;\r\n\t\t\t},function(value){\r\n\t\t\tthis._name=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'pageCount',function(){\r\n\t\t\treturn this._pageIds.length;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'parent',function(){\r\n\t\t\treturn this._parent;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'selectedIndex',function(){\r\n\t\t\treturn this._selectedIndex;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._selectedIndex !=value){\r\n\t\t\t\tif(value > this._pageIds.length-1)\r\n\t\t\t\t\tthrow \"index out of bounds: \"+value;\r\n\t\t\t\tthis._previousIndex=this._selectedIndex;\r\n\t\t\t\tthis._selectedIndex=value;\r\n\t\t\t\tthis._parent.applyController(this);\r\n\t\t\t\tthis.event(\"fui_state_changed\");\r\n\t\t\t\tif(this._playingTransition){\r\n\t\t\t\t\tthis._playingTransition.stop();\r\n\t\t\t\t\tthis._playingTransition=null;\r\n\t\t\t\t}\r\n\t\t\t\tif(this._pageTransitions){\r\n\t\t\t\t\tvar len=this._pageTransitions.length;\r\n\t\t\t\t\tfor(var i=0;i < len;i++){\r\n\t\t\t\t\t\tvar pt=this._pageTransitions[i];\r\n\t\t\t\t\t\tif(pt.toIndex==this._selectedIndex && (pt.fromIndex==-1 || pt.fromIndex==this._previousIndex)){\r\n\t\t\t\t\t\t\tthis._playingTransition=this.parent.getTransition(pt.transitionName);\r\n\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(this._playingTransition)\r\n\t\t\t\t\t\tthis._playingTransition.play(Handler.create(this,function(){this._playingTransition=null;}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'selectedPage',function(){\r\n\t\t\tif (this._selectedIndex==-1)\r\n\t\t\t\treturn null;\r\n\t\t\telse\r\n\t\t\treturn this._pageNames[this._selectedIndex];\r\n\t\t\t},function(val){\r\n\t\t\tvar i=this._pageNames.indexOf(val);\r\n\t\t\tif (i==-1)\r\n\t\t\t\ti=0;\r\n\t\t\tthis.selectedIndex=i;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'previsousIndex',function(){\r\n\t\t\treturn this._previousIndex;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'previousPage',function(){\r\n\t\t\tif (this._previousIndex==-1)\r\n\t\t\t\treturn null;\r\n\t\t\telse\r\n\t\t\treturn this._pageNames[this._previousIndex];\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'selectedPageId',function(){\r\n\t\t\tif (this._selectedIndex==-1)\r\n\t\t\t\treturn null;\r\n\t\t\telse\r\n\t\t\treturn this._pageIds[this._selectedIndex];\r\n\t\t\t},function(val){\r\n\t\t\tvar i=this._pageIds.indexOf(val);\r\n\t\t\tthis.selectedIndex=i;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'previousPageId',function(){\r\n\t\t\tif(this._previousIndex==-1)\r\n\t\t\t\treturn null;\r\n\t\t\telse\r\n\t\t\treturn this._pageIds[this._previousIndex];\r\n\t\t});\r\n\r\n\t\tController._nextPageId=0;\r\n\t\tController.__init$=function(){\r\n\t\t\t//class PageTransition\r\n\t\t\tPageTransition=(function(){\r\n\t\t\t\tfunction PageTransition(){\r\n\t\t\t\t\tthis.transitionName=null;\r\n\t\t\t\t\tthis.fromIndex=0;\r\n\t\t\t\t\tthis.toIndex=0;\r\n\t\t\t\t}\r\n\t\t\t\t__class(PageTransition,'');\r\n\t\t\t\treturn PageTransition;\r\n\t\t\t})()\r\n\t\t}\r\n\r\n\t\treturn Controller;\r\n\t})(EventDispatcher)\r\n\r\n\r\n\t//class fairygui.utils.PixelHitTest extends laya.utils.HitArea\r\n\tvar PixelHitTest=(function(_super){\r\n\t\tfunction PixelHitTest(data,offsetX,offsetY){\r\n\t\t\tthis._data=null;\r\n\t\t\tthis.offsetX=0;\r\n\t\t\tthis.offsetY=0;\r\n\t\t\tthis.scaleX=NaN;\r\n\t\t\tthis.scaleY=NaN;\r\n\t\t\tPixelHitTest.__super.call(this);\r\n\t\t\t(offsetX===void 0)&& (offsetX=0);\r\n\t\t\t(offsetY===void 0)&& (offsetY=0);\r\n\t\t\tthis._data=data;\r\n\t\t\tthis.offsetX=offsetX;\r\n\t\t\tthis.offsetY=offsetY;\r\n\t\t\tthis.scaleX=1;\r\n\t\t\tthis.scaleY=1;\r\n\t\t}\r\n\r\n\t\t__class(PixelHitTest,'fairygui.utils.PixelHitTest',_super);\r\n\t\tvar __proto=PixelHitTest.prototype;\r\n\t\t__proto.isHit=function(x,y){\r\n\t\t\tx=Math.floor((x / this.scaleX-this.offsetX)*this._data.scale);\r\n\t\t\ty=Math.floor((y / this.scaleY-this.offsetY)*this._data.scale);\r\n\t\t\tif (x < 0 || y < 0 || x >=this._data.pixelWidth)\r\n\t\t\t\treturn false;\r\n\t\t\tvar pos=y *this._data.pixelWidth+x;\r\n\t\t\tvar pos2=Math.floor(pos / 8);\r\n\t\t\tvar pos3=pos % 8;\r\n\t\t\tif (pos2 >=0 && pos2 < this._data.pixels.length)\r\n\t\t\t\treturn ((this._data.pixels[pos2] >> pos3)& 0x1)==1;\r\n\t\t\telse\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn PixelHitTest;\r\n\t})(HitArea)\r\n\r\n\r\n\t//class fairygui.GTextField extends fairygui.GObject\r\n\tvar GTextField=(function(_super){\r\n\t\tfunction GTextField(){\r\n\t\t\tthis._gearColor=null;\r\n\t\t\tGTextField.__super.call(this);\r\n\t\t\tthis._gearColor=new GearColor(this);\r\n\t\t}\r\n\r\n\t\t__class(GTextField,'fairygui.GTextField',_super);\r\n\t\tvar __proto=GTextField.prototype;\r\n\t\tLaya.imps(__proto,{\"fairygui.IColorGear\":true})\r\n\t\t__proto.handleControllerChanged=function(c){\r\n\t\t\t_super.prototype.handleControllerChanged.call(this,c);\r\n\t\t\tif(this._gearColor.controller==c)\r\n\t\t\t\tthis._gearColor.apply();\r\n\t\t}\r\n\r\n\t\t__proto.setup_beforeAdd=function(xml){\r\n\t\t\t_super.prototype.setup_beforeAdd.call(this,xml);\r\n\t\t\tvar str;\r\n\t\t\tstr=xml.getAttribute(\"font\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis.font=str;\r\n\t\t\tstr=xml.getAttribute(\"fontSize\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis.fontSize=parseInt(str);\r\n\t\t\tstr=xml.getAttribute(\"color\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis.color=str;\r\n\t\t\tstr=xml.getAttribute(\"align\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis.align=str;\r\n\t\t\tstr=xml.getAttribute(\"vAlign\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis.valign=str;\r\n\t\t\tstr=xml.getAttribute(\"leading\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis.leading=parseInt(str);\r\n\t\t\telse\r\n\t\t\tthis.leading=3;\r\n\t\t\tstr=xml.getAttribute(\"letterSpacing\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis.letterSpacing=parseInt(str);\r\n\t\t\tthis.ubbEnabled=xml.getAttribute(\"ubb\")==\"true\";\r\n\t\t\tthis.italic=xml.getAttribute(\"italic\")==\"true\";\r\n\t\t\tthis.bold=xml.getAttribute(\"bold\")==\"true\";\r\n\t\t\tthis.underline=xml.getAttribute(\"underline\")==\"true\";\r\n\t\t\tthis.singleLine=xml.getAttribute(\"singleLine\")==\"true\";\r\n\t\t\tstr=xml.getAttribute(\"strokeColor\");\r\n\t\t\tif (str){\r\n\t\t\t\tthis.strokeColor=str;\r\n\t\t\t\tstr=xml.getAttribute(\"strokeSize\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tthis.stroke=parseInt(str)+1;\r\n\t\t\t\telse\r\n\t\t\t\tthis.stroke=2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setup_afterAdd=function(xml){\r\n\t\t\t_super.prototype.setup_afterAdd.call(this,xml);\r\n\t\t\tvar str=xml.getAttribute(\"text\");\r\n\t\t\tif(str !=null && str.length > 0)\r\n\t\t\t\tthis.text=str;\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'color',function(){\r\n\t\t\treturn null;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'font',function(){\r\n\t\t\treturn null;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'leading',function(){\r\n\t\t\treturn 0;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'fontSize',function(){\r\n\t\t\treturn 0;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'bold',function(){\r\n\t\t\treturn false;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'letterSpacing',function(){\r\n\t\t\treturn 0;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'align',function(){\r\n\t\t\treturn null;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'valign',function(){\r\n\t\t\treturn null;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'italic',function(){\r\n\t\t\treturn false;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'underline',function(){\r\n\t\t\treturn false;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'singleLine',function(){\r\n\t\t\treturn false;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'stroke',function(){\r\n\t\t\treturn 0;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'strokeColor',function(){\r\n\t\t\treturn null;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'ubbEnabled',function(){\r\n\t\t\treturn false;\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'textWidth',function(){\r\n\t\t\treturn 0;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'gearColor',function(){\r\n\t\t\treturn this._gearColor;\r\n\t\t});\r\n\r\n\t\treturn GTextField;\r\n\t})(GObject)\r\n\r\n\r\n\t//class fairygui.GComponent extends fairygui.GObject\r\n\tvar GComponent=(function(_super){\r\n\t\tfunction GComponent(){\r\n\t\t\tthis._sortingChildCount=0;\r\n\t\t\tthis._opaque=false;\r\n\t\t\tthis._margin=null;\r\n\t\t\tthis._trackBounds=false;\r\n\t\t\tthis._boundsChanged=false;\r\n\t\t\tthis._buildingDisplayList=false;\r\n\t\t\tthis._children=null;\r\n\t\t\tthis._controllers=null;\r\n\t\t\tthis._transitions=null;\r\n\t\t\tthis._container=null;\r\n\t\t\tthis._scrollPane=null;\r\n\t\t\tthis._alignOffset=null;\r\n\t\t\tGComponent.__super.call(this);\r\n\t\t\tthis._children=[];\r\n\t\t\tthis._controllers=[];\r\n\t\t\tthis._transitions=[];\r\n\t\t\tthis._margin=new Margin();\r\n\t\t\tthis._alignOffset=new Point();\r\n\t\t}\r\n\r\n\t\t__class(GComponent,'fairygui.GComponent',_super);\r\n\t\tvar __proto=GComponent.prototype;\r\n\t\t__proto.createDisplayObject=function(){\r\n\t\t\t_super.prototype.createDisplayObject.call(this);\r\n\t\t\tthis._displayObject.mouseEnabled=true;\r\n\t\t\tthis._displayObject.mouseThrough=true;\r\n\t\t\tthis._container=this._displayObject;\r\n\t\t}\r\n\r\n\t\t__proto.dispose=function(){\r\n\t\t\tvar i=0;\r\n\t\t\tvar transCnt=this._transitions.length;\r\n\t\t\tfor (i=0;i < transCnt;++i){\r\n\t\t\t\tvar trans=this._transitions[i];\r\n\t\t\t\ttrans.dispose();\r\n\t\t\t};\r\n\t\t\tvar numChildren=this._children.length;\r\n\t\t\tfor(i=numChildren-1;i >=0;--i){\r\n\t\t\t\tvar obj=this._children[i];\r\n\t\t\t\tobj.parent=null;\r\n\t\t\t\tobj.dispose();\r\n\t\t\t}\r\n\t\t\tthis._boundsChanged=false;\r\n\t\t\t_super.prototype.dispose.call(this);\r\n\t\t}\r\n\r\n\t\t__proto.addChild=function(child){\r\n\t\t\tthis.addChildAt(child,this._children.length);\r\n\t\t\treturn child;\r\n\t\t}\r\n\r\n\t\t__proto.addChildAt=function(child,index){\r\n\t\t\t(index===void 0)&& (index=0);\r\n\t\t\tif(!child)\r\n\t\t\t\tthrow \"child is null\";\r\n\t\t\tvar numChildren=this._children.length;\r\n\t\t\tif(index >=0 && index <=numChildren){\r\n\t\t\t\tif(child.parent==this){\r\n\t\t\t\t\tthis.setChildIndex(child,index);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tchild.removeFromParent();\r\n\t\t\t\t\tchild.parent=this;\r\n\t\t\t\t\tvar cnt=this._children.length;\r\n\t\t\t\t\tif(child.sortingOrder !=0){\r\n\t\t\t\t\t\tthis._sortingChildCount++;\r\n\t\t\t\t\t\tindex=this.getInsertPosForSortingChild(child);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(this._sortingChildCount > 0){\r\n\t\t\t\t\t\tif(index > (cnt-this._sortingChildCount))\r\n\t\t\t\t\t\t\tindex=cnt-this._sortingChildCount;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(index==cnt)\r\n\t\t\t\t\t\tthis._children.push(child);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._children.splice(index,0,child);\r\n\t\t\t\t\tthis.childStateChanged(child);\r\n\t\t\t\t\tthis.setBoundsChangedFlag();\r\n\t\t\t\t}\r\n\t\t\t\treturn child;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow \"Invalid child index\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.getInsertPosForSortingChild=function(target){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tvar i=0;\r\n\t\t\tfor(i=0;i < cnt;i++){\r\n\t\t\t\tvar child=this._children[i];\r\n\t\t\t\tif(child==target)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tif(target.sortingOrder < child.sortingOrder)\r\n\t\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\t\treturn i;\r\n\t\t}\r\n\r\n\t\t__proto.removeChild=function(child,dispose){\r\n\t\t\t(dispose===void 0)&& (dispose=false);\r\n\t\t\tvar childIndex=this._children.indexOf(child);\r\n\t\t\tif(childIndex !=-1){\r\n\t\t\t\tthis.removeChildAt(childIndex,dispose);\r\n\t\t\t}\r\n\t\t\treturn child;\r\n\t\t}\r\n\r\n\t\t__proto.removeChildAt=function(index,dispose){\r\n\t\t\t(dispose===void 0)&& (dispose=false);\r\n\t\t\tif(index >=0 && index < this.numChildren){\r\n\t\t\t\tvar child=this._children[index];\r\n\t\t\t\tchild.parent=null;\r\n\t\t\t\tif(child.sortingOrder !=0)\r\n\t\t\t\t\tthis._sortingChildCount--;\r\n\t\t\t\tthis._children.splice(index,1);\r\n\t\t\t\tif(child.inContainer)\r\n\t\t\t\t\tthis._container.removeChild(child.displayObject);\r\n\t\t\t\tif(dispose)\r\n\t\t\t\t\tchild.dispose();\r\n\t\t\t\tthis.setBoundsChangedFlag();\r\n\t\t\t\treturn child;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthrow \"Invalid child index\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.removeChildren=function(beginIndex,endIndex,dispose){\r\n\t\t\t(beginIndex===void 0)&& (beginIndex=0);\r\n\t\t\t(endIndex===void 0)&& (endIndex=-1);\r\n\t\t\t(dispose===void 0)&& (dispose=false);\r\n\t\t\tif(endIndex < 0 || endIndex >=this.numChildren)\r\n\t\t\t\tendIndex=this.numChildren-1;\r\n\t\t\tfor(var i=beginIndex;i <=endIndex;++i)\r\n\t\t\tthis.removeChildAt(beginIndex,dispose);\r\n\t\t}\r\n\r\n\t\t__proto.getChildAt=function(index){\r\n\t\t\t(index===void 0)&& (index=0);\r\n\t\t\tif(index >=0 && index < this.numChildren)\r\n\t\t\t\treturn this._children[index];\r\n\t\t\telse\r\n\t\t\tthrow \"Invalid child index\";\r\n\t\t}\r\n\r\n\t\t__proto.getChild=function(name){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor(var i=0;i < cnt;++i){\r\n\t\t\t\tif(this._children[i].name==name)\r\n\t\t\t\t\treturn this._children[i];\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.getVisibleChild=function(name){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor(var i=0;i < cnt;++i){\r\n\t\t\t\tvar child=this._children[i];\r\n\t\t\t\tif(child.finalVisible && child.name==name)\r\n\t\t\t\t\treturn child;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.getChildInGroup=function(name,group){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor(var i=0;i < cnt;++i){\r\n\t\t\t\tvar child=this._children[i];\r\n\t\t\t\tif(child.group==group && child.name==name)\r\n\t\t\t\t\treturn child;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.getChildById=function(id){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor(var i=0;i < cnt;++i){\r\n\t\t\t\tif(this._children[i]._id==id)\r\n\t\t\t\t\treturn this._children[i];\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.getChildIndex=function(child){\r\n\t\t\treturn this._children.indexOf(child);\r\n\t\t}\r\n\r\n\t\t__proto.setChildIndex=function(child,index){\r\n\t\t\t(index===void 0)&& (index=0);\r\n\t\t\tvar oldIndex=this._children.indexOf(child);\r\n\t\t\tif(oldIndex==-1)\r\n\t\t\t\tthrow \"Not a child of this container\";\r\n\t\t\tif(child.sortingOrder !=0)\r\n\t\t\t\treturn;\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tif(this._sortingChildCount > 0){\r\n\t\t\t\tif(index > (cnt-this._sortingChildCount-1))\r\n\t\t\t\t\tindex=cnt-this._sortingChildCount-1;\r\n\t\t\t}\r\n\t\t\tthis._setChildIndex(child,oldIndex,index);\r\n\t\t}\r\n\r\n\t\t__proto.setChildIndexBefore=function(child,index){\r\n\t\t\tvar oldIndex=this._children.indexOf(child);\r\n\t\t\tif (oldIndex==-1)\r\n\t\t\t\tthrow \"Not a child of this container\";\r\n\t\t\tif(child.sortingOrder!=0)\r\n\t\t\t\treturn oldIndex;\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tif(this._sortingChildCount>0){\r\n\t\t\t\tif (index > (cnt-this._sortingChildCount-1))\r\n\t\t\t\t\tindex=cnt-this._sortingChildCount-1;\r\n\t\t\t}\r\n\t\t\tif (oldIndex < index)\r\n\t\t\t\treturn this._setChildIndex(child,oldIndex,index-1);\r\n\t\t\telse\r\n\t\t\treturn this._setChildIndex(child,oldIndex,index);\r\n\t\t}\r\n\r\n\t\t__proto._setChildIndex=function(child,oldIndex,index){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tif(index > cnt)\r\n\t\t\t\tindex=cnt;\r\n\t\t\tif(oldIndex==index)\r\n\t\t\t\treturn oldIndex;\r\n\t\t\tthis._children.splice(oldIndex,1);\r\n\t\t\tthis._children.splice(index,0,child);\r\n\t\t\tif(child.inContainer){\r\n\t\t\t\tvar displayIndex=0;\r\n\t\t\t\tfor(var i=0;i < index;i++){\r\n\t\t\t\t\tvar g=this._children[i];\r\n\t\t\t\t\tif(g.inContainer)\r\n\t\t\t\t\t\tdisplayIndex++;\r\n\t\t\t\t}\r\n\t\t\t\tif(displayIndex==this._container.numChildren)\r\n\t\t\t\t\tdisplayIndex--;\r\n\t\t\t\tthis._container.setChildIndex(child.displayObject,displayIndex);\r\n\t\t\t\tthis.setBoundsChangedFlag();\r\n\t\t\t}\r\n\t\t\treturn index;\r\n\t\t}\r\n\r\n\t\t__proto.swapChildren=function(child1,child2){\r\n\t\t\tvar index1=this._children.indexOf(child1);\r\n\t\t\tvar index2=this._children.indexOf(child2);\r\n\t\t\tif(index1==-1 || index2==-1)\r\n\t\t\t\tthrow \"Not a child of this container\";\r\n\t\t\tthis.swapChildrenAt(index1,index2);\r\n\t\t}\r\n\r\n\t\t__proto.swapChildrenAt=function(index1,index2){\r\n\t\t\t(index2===void 0)&& (index2=0);\r\n\t\t\tvar child1=this._children[index1];\r\n\t\t\tvar child2=this._children[index2];\r\n\t\t\tthis.setChildIndex(child1,index2);\r\n\t\t\tthis.setChildIndex(child2,index1);\r\n\t\t}\r\n\r\n\t\t__proto.isAncestorOf=function(child){\r\n\t\t\tif (child==null)\r\n\t\t\t\treturn false;\r\n\t\t\tvar p=child.parent;\r\n\t\t\twhile(p){\r\n\t\t\t\tif(p==this)\r\n\t\t\t\t\treturn true;\r\n\t\t\t\tp=p.parent;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t__proto.addController=function(controller){\r\n\t\t\tthis._controllers.push(controller);\r\n\t\t\tcontroller._parent=this;\r\n\t\t\tthis.applyController(controller);\r\n\t\t}\r\n\r\n\t\t__proto.getControllerAt=function(index){\r\n\t\t\treturn this._controllers[index];\r\n\t\t}\r\n\r\n\t\t__proto.getController=function(name){\r\n\t\t\tvar cnt=this._controllers.length;\r\n\t\t\tfor(var i=0;i < cnt;++i){\r\n\t\t\t\tvar c=this._controllers[i];\r\n\t\t\t\tif(c.name==name)\r\n\t\t\t\t\treturn c;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.removeController=function(c){\r\n\t\t\tvar index=this._controllers.indexOf(c);\r\n\t\t\tif(index==-1)\r\n\t\t\t\tthrow new Error(\"controller not exists\");\r\n\t\t\tc._parent=null;\r\n\t\t\tthis._controllers.splice(index,1);\r\n\t\t\tvar length=this._children.length;\r\n\t\t\tfor(var i=0;i < length;i++){\r\n\t\t\t\tvar child=this._children[i];\r\n\t\t\t\tchild.handleControllerChanged(c);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.childStateChanged=function(child){\r\n\t\t\tif(this._buildingDisplayList)\r\n\t\t\t\treturn;\r\n\t\t\tif((child instanceof fairygui.GGroup )){\r\n\t\t\t\tvar length=this._children.length;\r\n\t\t\t\tfor(var i=0;i < length;i++){\r\n\t\t\t\t\tvar g=this._children[i];\r\n\t\t\t\t\tif(g.group==child)\r\n\t\t\t\t\t\tthis.childStateChanged(g);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(!child.displayObject)\r\n\t\t\t\treturn;\r\n\t\t\tif(child.finalVisible && child.displayObject!=this._displayObject.mask){\r\n\t\t\t\tif(!child.displayObject.parent){\r\n\t\t\t\t\tvar index=0;\r\n\t\t\t\t\tvar length1=this._children.length;\r\n\t\t\t\t\tfor(var i1=0;i1 < length1;i1++){\r\n\t\t\t\t\t\tg=this._children[i1];\r\n\t\t\t\t\t\tif(g==child)\r\n\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\tif(g.displayObject && g.displayObject.parent)\r\n\t\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._container.addChildAt(child.displayObject,index);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(child.displayObject.parent)\r\n\t\t\t\t\tthis._container.removeChild(child.displayObject);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.applyController=function(c){\r\n\t\t\tvar child;\r\n\t\t\tvar length=this._children.length;\r\n\t\t\tfor(var i=0;i < length;i++){\r\n\t\t\t\tchild=this._children[i];\r\n\t\t\t\tchild.handleControllerChanged(c);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.applyAllControllers=function(){\r\n\t\t\tvar cnt=this._controllers.length;\r\n\t\t\tfor(var i=0;i < cnt;++i){\r\n\t\t\t\tthis.applyController(this._controllers[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.adjustRadioGroupDepth=function(obj,c){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tvar i=NaN;\r\n\t\t\tvar child;\r\n\t\t\tvar myIndex=-1,maxIndex=-1;\r\n\t\t\tfor(i=0;i < cnt;i++){\r\n\t\t\t\tchild=this._children[i];\r\n\t\t\t\tif(child==obj){\r\n\t\t\t\t\tmyIndex=i;\r\n\t\t\t\t}\r\n\t\t\t\telse if(((child instanceof fairygui.GButton ))\r\n\t\t\t\t&& (child).relatedController==c){\r\n\t\t\t\t\tif(i > maxIndex)\r\n\t\t\t\t\t\tmaxIndex=i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(myIndex < maxIndex)\r\n\t\t\t\tthis.swapChildrenAt(myIndex,maxIndex);\r\n\t\t}\r\n\r\n\t\t__proto.getTransitionAt=function(index){\r\n\t\t\treturn this._transitions[index];\r\n\t\t}\r\n\r\n\t\t__proto.getTransition=function(transName){\r\n\t\t\tvar cnt=this._transitions.length;\r\n\t\t\tfor(var i=0;i < cnt;++i){\r\n\t\t\t\tvar trans=this._transitions[i];\r\n\t\t\t\tif(trans.name==transName)\r\n\t\t\t\t\treturn trans;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.isChildInView=function(child){\r\n\t\t\tif(this._displayObject.scrollRect !=null){\r\n\t\t\t\treturn child.x+child.width >=0 && child.x <=this.width\r\n\t\t\t\t&& child.y+child.height >=0 && child.y <=this.height;\r\n\t\t\t}\r\n\t\t\telse if(this._scrollPane !=null){\r\n\t\t\t\treturn this._scrollPane.isChildInView(child);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t__proto.getFirstChildInView=function(){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor(var i=0;i < cnt;++i){\r\n\t\t\t\tvar child=this._children[i];\r\n\t\t\t\tif(this.isChildInView(child))\r\n\t\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t\treturn-1;\r\n\t\t}\r\n\r\n\t\t__proto.updateHitArea=function(){\r\n\t\t\tif((this._displayObject.hitArea instanceof fairygui.utils.PixelHitTest )){\r\n\t\t\t\tvar hitTest=(this._displayObject.hitArea);\r\n\t\t\t\tif(this.sourceWidth!=0)\r\n\t\t\t\t\thitTest.scaleX=this.width/this.sourceWidth;\r\n\t\t\t\tif(this.sourceHeight!=0)\r\n\t\t\t\t\thitTest.scaleY=this.height/this.sourceHeight;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif(this._displayObject.hitArea==null)\r\n\t\t\t\t\tthis._displayObject.hitArea=new Rectangle();\r\n\t\t\t\tthis._displayObject.hitArea.setTo(0,0,this.width,this.height);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.updateMask=function(){\r\n\t\t\tvar rect=this._displayObject.scrollRect;\r\n\t\t\tif(rect==null)\r\n\t\t\t\trect=new Rectangle();\r\n\t\t\trect.x=this._margin.left;\r\n\t\t\trect.y=this._margin.top;\r\n\t\t\trect.width=this.width-this._margin.right;\r\n\t\t\trect.height=this.height-this._margin.bottom;\r\n\t\t\tthis._displayObject.scrollRect=rect;\r\n\t\t}\r\n\r\n\t\t__proto.setupScroll=function(scrollBarMargin,scroll,scrollBarDisplay,flags,vtScrollBarRes,hzScrollBarRes){\r\n\t\t\tif (this._displayObject==this._container){\r\n\t\t\t\tthis._container=new Sprite();\r\n\t\t\t\tthis._displayObject.addChild(this._container);\r\n\t\t\t}\r\n\t\t\tthis._scrollPane=new ScrollPane(this,scroll,scrollBarMargin,scrollBarDisplay,flags,vtScrollBarRes,hzScrollBarRes);\r\n\t\t}\r\n\r\n\t\t__proto.setupOverflow=function(overflow){\r\n\t\t\tif(overflow==1){\r\n\t\t\t\tif (this._displayObject==this._container){\r\n\t\t\t\t\tthis._container=new Sprite();\r\n\t\t\t\t\tthis._displayObject.addChild(this._container);\r\n\t\t\t\t}\r\n\t\t\t\tthis.updateMask();\r\n\t\t\t\tthis._container.pos(this._margin.left,this._margin.top);\r\n\t\t\t}\r\n\t\t\telse if(this._margin.left !=0 || this._margin.top !=0){\r\n\t\t\t\tif (this._displayObject==this._container){\r\n\t\t\t\t\tthis._container=new Sprite();\r\n\t\t\t\t\tthis._displayObject.addChild(this._container);\r\n\t\t\t\t}\r\n\t\t\t\tthis._container.pos(this._margin.left,this._margin.top);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.handleSizeChanged=function(){\r\n\t\t\t_super.prototype.handleSizeChanged.call(this);\r\n\t\t\tif(this._scrollPane)\r\n\t\t\t\tthis._scrollPane.onOwnerSizeChanged();\r\n\t\t\telse if(this._displayObject.scrollRect !=null)\r\n\t\t\tthis.updateMask();\r\n\t\t\tif(this._displayObject.hitArea!=null)\r\n\t\t\t\tthis.updateHitArea();\r\n\t\t}\r\n\r\n\t\t__proto.handleGrayedChanged=function(){\r\n\t\t\tvar c=this.getController(\"grayed\");\r\n\t\t\tif(c !=null){\r\n\t\t\t\tc.selectedIndex=this.grayed ? 1 :0;\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tvar v=this.grayed;\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor(var i=0;i < cnt;++i){\r\n\t\t\t\tthis._children[i].grayed=v;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setBoundsChangedFlag=function(){\r\n\t\t\tif (!this._scrollPane && !this._trackBounds)\r\n\t\t\t\treturn;\r\n\t\t\tif (!this._boundsChanged){\r\n\t\t\t\tthis._boundsChanged=true;\r\n\t\t\t\tLaya.timer.callLater(this,this.__render);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__render=function(){\r\n\t\t\tif (this._boundsChanged)\r\n\t\t\t\tthis.updateBounds();\r\n\t\t}\r\n\r\n\t\t__proto.ensureBoundsCorrect=function(){\r\n\t\t\tif (this._boundsChanged)\r\n\t\t\t\tthis.updateBounds();\r\n\t\t}\r\n\r\n\t\t__proto.updateBounds=function(){\r\n\t\t\tvar ax=0,ay=0,aw=0,ah=0;\r\n\t\t\tvar len=this._children.length;\r\n\t\t\tif(len > 0){\r\n\t\t\t\tax=Number.POSITIVE_INFINITY,ay=Number.POSITIVE_INFINITY;\r\n\t\t\t\tvar ar=Number.NEGATIVE_INFINITY,ab=Number.NEGATIVE_INFINITY;\r\n\t\t\t\tvar tmp=0;\r\n\t\t\t\tvar i1=0;\r\n\t\t\t\tfor(i1=0;i1 < len;i1++){\r\n\t\t\t\t\tchild=this._children[i1];\r\n\t\t\t\t\tchild.ensureSizeCorrect();\r\n\t\t\t\t}\r\n\t\t\t\tfor(i1=0;i1 < len;i1++){\r\n\t\t\t\t\tvar child=this._children[i1];\r\n\t\t\t\t\ttmp=child.x;\r\n\t\t\t\t\tif(tmp < ax)\r\n\t\t\t\t\t\tax=tmp;\r\n\t\t\t\t\ttmp=child.y;\r\n\t\t\t\t\tif(tmp < ay)\r\n\t\t\t\t\t\tay=tmp;\r\n\t\t\t\t\ttmp=child.x+child.actualWidth;\r\n\t\t\t\t\tif(tmp > ar)\r\n\t\t\t\t\t\tar=tmp;\r\n\t\t\t\t\ttmp=child.y+child.actualHeight;\r\n\t\t\t\t\tif(tmp > ab)\r\n\t\t\t\t\t\tab=tmp;\r\n\t\t\t\t}\r\n\t\t\t\taw=ar-ax;\r\n\t\t\t\tah=ab-ay;\r\n\t\t\t}\r\n\t\t\tthis.setBounds(ax,ay,aw,ah);\r\n\t\t}\r\n\r\n\t\t__proto.setBounds=function(ax,ay,aw,ah){\r\n\t\t\tthis._boundsChanged=false;\r\n\t\t\tif (this._scrollPane)\r\n\t\t\t\tthis._scrollPane.setContentSize(Math.round(ax+aw),Math.round(ay+ah));\r\n\t\t}\r\n\r\n\t\t__proto.getSnappingPosition=function(xValue,yValue,resultPoint){\r\n\t\t\tif(!resultPoint)\r\n\t\t\t\tresultPoint=new Point();\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tif(cnt==0){\r\n\t\t\t\tresultPoint.x=0;\r\n\t\t\t\tresultPoint.y=0;\r\n\t\t\t\treturn resultPoint;\r\n\t\t\t}\r\n\t\t\tthis.ensureBoundsCorrect();\r\n\t\t\tvar obj=null;\r\n\t\t\tvar prev=null;\r\n\t\t\tvar i=0;\r\n\t\t\tif(yValue !=0){\r\n\t\t\t\tfor(;i < cnt;i++){\r\n\t\t\t\t\tobj=this._children[i];\r\n\t\t\t\t\tif(yValue < obj.y){\r\n\t\t\t\t\t\tif(i==0){\r\n\t\t\t\t\t\t\tyValue=0;\r\n\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tprev=this._children[i-1];\r\n\t\t\t\t\t\t\tif(yValue < prev.y+prev.actualHeight / 2)\r\n\t\t\t\t\t\t\t\tyValue=prev.y;\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tyValue=obj.y;\r\n\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(i==cnt)\r\n\t\t\t\t\tyValue=obj.y;\r\n\t\t\t}\r\n\t\t\tif(xValue !=0){\r\n\t\t\t\tif(i > 0)\r\n\t\t\t\t\ti--;\r\n\t\t\t\tfor(;i < cnt;i++){\r\n\t\t\t\t\tobj=this._children[i];\r\n\t\t\t\t\tif(xValue < obj.x){\r\n\t\t\t\t\t\tif(i==0){\r\n\t\t\t\t\t\t\txValue=0;\r\n\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tprev=this._children[i-1];\r\n\t\t\t\t\t\t\tif(xValue < prev.x+prev.actualWidth / 2)\r\n\t\t\t\t\t\t\t\txValue=prev.x;\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\txValue=obj.x;\r\n\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(i==cnt)\r\n\t\t\t\t\txValue=obj.x;\r\n\t\t\t}\r\n\t\t\tresultPoint.x=xValue;\r\n\t\t\tresultPoint.y=yValue;\r\n\t\t\treturn resultPoint;\r\n\t\t}\r\n\r\n\t\t__proto.childSortingOrderChanged=function(child,oldValue,newValue){\r\n\t\t\t(newValue===void 0)&& (newValue=0);\r\n\t\t\tif (newValue==0){\r\n\t\t\t\tthis._sortingChildCount--;\r\n\t\t\t\tthis.setChildIndex(child,this._children.length);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (oldValue==0)\r\n\t\t\t\t\tthis._sortingChildCount++;\r\n\t\t\t\tvar oldIndex=this._children.indexOf(child);\r\n\t\t\t\tvar index=this.getInsertPosForSortingChild(child);\r\n\t\t\t\tif (oldIndex < index)\r\n\t\t\t\t\tthis._setChildIndex(child,oldIndex,index-1);\r\n\t\t\t\telse\r\n\t\t\t\tthis._setChildIndex(child,oldIndex,index);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.constructFromResource=function(){\r\n\t\t\tthis.constructFromResource2(null,0);\r\n\t\t}\r\n\r\n\t\t__proto.constructFromResource2=function(objectPool,poolIndex){\r\n\t\t\tvar xml=this.packageItem.owner.getItemAsset(this.packageItem);\r\n\t\t\tthis._underConstruct=true;\r\n\t\t\tvar str;\r\n\t\t\tvar arr;\r\n\t\t\tstr=xml.getAttribute(\"size\");\r\n\t\t\tarr=str.split(\",\");\r\n\t\t\tthis._sourceWidth=parseInt(arr[0]);\r\n\t\t\tthis._sourceHeight=parseInt(arr[1]);\r\n\t\t\tthis._initWidth=this._sourceWidth;\r\n\t\t\tthis._initHeight=this._sourceHeight;\r\n\t\t\tthis.setSize(this._sourceWidth,this._sourceHeight);\r\n\t\t\tstr=xml.getAttribute(\"pivot\");\r\n\t\t\tif(str){\r\n\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\tstr=xml.getAttribute(\"anchor\");\r\n\t\t\t\tthis.internalSetPivot(parseFloat(arr[0]),parseFloat(arr[1]),str==\"true\");\r\n\t\t\t}\r\n\t\t\tstr=xml.getAttribute(\"opaque\");\r\n\t\t\tthis.opaque=str !=\"false\";\r\n\t\t\tstr=xml.getAttribute(\"hitTest\");\r\n\t\t\tif(str){\r\n\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\tvar hitTestData=this.packageItem.owner.getPixelHitTestData(arr[0]);\r\n\t\t\t\tif (hitTestData !=null){\r\n\t\t\t\t\tthis._displayObject.hitArea=new PixelHitTest(hitTestData,parseInt(arr[1]),parseInt(arr[2]));\r\n\t\t\t\t\tthis._displayObject.mouseThrough=false;\r\n\t\t\t\t\tthis._displayObject.hitTestPrior=true;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar overflow=0;\r\n\t\t\tstr=xml.getAttribute(\"overflow\");\r\n\t\t\tif (str)\r\n\t\t\t\toverflow=OverflowType.parse(str);\r\n\t\t\telse\r\n\t\t\toverflow=0;\r\n\t\t\tstr=xml.getAttribute(\"margin\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis._margin.parse(str);\r\n\t\t\tif(overflow==2){\r\n\t\t\t\tvar scroll=0;\r\n\t\t\t\tstr=xml.getAttribute(\"scroll\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tscroll=ScrollType.parse(str);\r\n\t\t\t\telse\r\n\t\t\t\tscroll=1;\r\n\t\t\t\tvar scrollBarDisplay=0;\r\n\t\t\t\tstr=xml.getAttribute(\"scrollBar\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tscrollBarDisplay=ScrollBarDisplayType.parse(str);\r\n\t\t\t\telse\r\n\t\t\t\tscrollBarDisplay=0;\r\n\t\t\t\tvar scrollBarFlags=NaN;\r\n\t\t\t\tstr=xml.getAttribute(\"scrollBarFlags\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tscrollBarFlags=parseInt(str);\r\n\t\t\t\telse\r\n\t\t\t\tscrollBarFlags=0;\r\n\t\t\t\tvar scrollBarMargin=new Margin();\r\n\t\t\t\tstr=xml.getAttribute(\"scrollBarMargin\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tscrollBarMargin.parse(str);\r\n\t\t\t\tvar vtScrollBarRes;\r\n\t\t\t\tvar hzScrollBarRes;\r\n\t\t\t\tstr=xml.getAttribute(\"scrollBarRes\");\r\n\t\t\t\tif(str){\r\n\t\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\t\tvtScrollBarRes=arr[0];\r\n\t\t\t\t\thzScrollBarRes=arr[1];\r\n\t\t\t\t}\r\n\t\t\t\tthis.setupScroll(scrollBarMargin,scroll,scrollBarDisplay,scrollBarFlags,vtScrollBarRes,hzScrollBarRes);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tthis.setupOverflow(overflow);\r\n\t\t\tthis._buildingDisplayList=true;\r\n\t\t\tvar col=xml.childNodes;\r\n\t\t\tvar length1=0;\r\n\t\t\tif(col)\r\n\t\t\t\tlength1=col.length;\r\n\t\t\tvar i=0;\r\n\t\t\tvar controller;\r\n\t\t\tfor(i=0;i < length1;i++){\r\n\t\t\t\tvar cxml=col[i];\r\n\t\t\t\tif(cxml.nodeName==\"controller\"){\r\n\t\t\t\t\tcontroller=new Controller();\r\n\t\t\t\t\tthis._controllers.push(controller);\r\n\t\t\t\t\tcontroller._parent=this;\r\n\t\t\t\t\tcontroller.setup(cxml);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar child;\r\n\t\t\tvar displayList=this.packageItem.displayList;\r\n\t\t\tvar childCount=displayList.length;\r\n\t\t\tfor (i=0;i < childCount;i++){\r\n\t\t\t\tvar di=displayList[i];\r\n\t\t\t\tif (objectPool !=null){\r\n\t\t\t\t\tchild=objectPool[poolIndex+i];\r\n\t\t\t\t}\r\n\t\t\t\telse if (di.packageItem){\r\n\t\t\t\t\tchild=UIObjectFactory.newObject(di.packageItem);\r\n\t\t\t\t\tchild.packageItem=di.packageItem;\r\n\t\t\t\t\tchild.constructFromResource();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\tchild=UIObjectFactory.newObject2(di.type);\r\n\t\t\t\tchild._underConstruct=true;\r\n\t\t\t\tchild.setup_beforeAdd(di.desc);\r\n\t\t\t\tchild.parent=this;\r\n\t\t\t\tthis._children.push(child);\r\n\t\t\t}\r\n\t\t\tthis.relations.setup(xml);\r\n\t\t\tfor (i=0;i < childCount;i++)\r\n\t\t\tthis._children[i].relations.setup(displayList[i].desc);\r\n\t\t\tfor (i=0;i < childCount;i++){\r\n\t\t\t\tchild=this._children[i];\r\n\t\t\t\tchild.setup_afterAdd(displayList[i].desc);\r\n\t\t\t\tchild._underConstruct=false;\r\n\t\t\t}\r\n\t\t\tstr=xml.getAttribute(\"mask\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis.mask=this.getChildById(str).displayObject;\r\n\t\t\tvar trans;\r\n\t\t\tfor(i=0;i < length1;i++){\r\n\t\t\t\tcxml=col[i];\r\n\t\t\t\tif(cxml.nodeName==\"transition\"){\r\n\t\t\t\t\ttrans=new Transition(this);\r\n\t\t\t\t\tthis._transitions.push(trans);\r\n\t\t\t\t\ttrans.setup(cxml);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(this._transitions.length>0){\r\n\t\t\t\tthis.displayObject.on(\"display\",this,this.___added);\r\n\t\t\t\tthis.displayObject.on(\"undisplay\",this,this.___removed);\r\n\t\t\t}\r\n\t\t\tthis.applyAllControllers();\r\n\t\t\tthis._buildingDisplayList=false;\r\n\t\t\tthis._underConstruct=false;\r\n\t\t\tlength1=this._children.length;\r\n\t\t\tvar mm=this._displayObject.mask;\r\n\t\t\tfor (i=0;i < length1;i++){\r\n\t\t\t\tchild=this._children[i];\r\n\t\t\t\tif (child.displayObject !=null && child.displayObject!=mm && child.finalVisible)\r\n\t\t\t\t\tthis._container.addChild(child.displayObject);\r\n\t\t\t}\r\n\t\t\tthis.setBoundsChangedFlag();\r\n\t\t\tthis.constructFromXML(xml);\r\n\t\t}\r\n\r\n\t\t__proto.constructFromXML=function(xml){}\r\n\t\t__proto.___added=function(){\r\n\t\t\tvar cnt=this._transitions.length;\r\n\t\t\tfor(var i=0;i < cnt;++i){\r\n\t\t\t\tvar trans=this._transitions[i];\r\n\t\t\t\tif(trans.autoPlay)\r\n\t\t\t\t\ttrans.play(null,trans.autoPlayRepeat,trans.autoPlayDelay);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.___removed=function(){\r\n\t\t\tvar cnt=this._transitions.length;\r\n\t\t\tfor(var i=0;i < cnt;++i){\r\n\t\t\t\tvar trans=this._transitions[i];\r\n\t\t\t\ttrans.stop(false,false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'viewWidth',function(){\r\n\t\t\tif (this._scrollPane !=null)\r\n\t\t\t\treturn this._scrollPane.viewWidth;\r\n\t\t\telse\r\n\t\t\treturn this.width-this._margin.left-this._margin.right;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._scrollPane !=null)\r\n\t\t\t\tthis._scrollPane.viewWidth=value;\r\n\t\t\telse\r\n\t\t\tthis.width=value+this._margin.left+this._margin.right;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'numChildren',function(){\r\n\t\t\treturn this._children.length;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'displayListContainer',function(){\r\n\t\t\treturn this._container;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'opaque',function(){\r\n\t\t\treturn this._displayObject.hitArea!=null;\r\n\t\t\t},function(value){\r\n\t\t\tif (value){\r\n\t\t\t\tthis.updateHitArea();\r\n\t\t\t\tthis._displayObject.mouseThrough=false;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis._displayObject.hitArea=null;\r\n\t\t\t\tthis._displayObject.mouseThrough=true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'controllers',function(){\r\n\t\t\treturn this._controllers;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'scrollPane',function(){\r\n\t\t\treturn this._scrollPane;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'viewHeight',function(){\r\n\t\t\tif (this._scrollPane !=null)\r\n\t\t\t\treturn this._scrollPane.viewHeight;\r\n\t\t\telse\r\n\t\t\treturn this.height-this._margin.top-this._margin.bottom;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._scrollPane !=null)\r\n\t\t\t\tthis._scrollPane.viewHeight=value;\r\n\t\t\telse\r\n\t\t\tthis.height=value+this._margin.top+this._margin.bottom;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'margin',function(){\r\n\t\t\treturn this._margin;\r\n\t\t\t},function(value){\r\n\t\t\tthis._margin.copy(value);\r\n\t\t\tif(this._displayObject.scrollRect!=null){\r\n\t\t\t\tthis._container.pos(this._margin.left+this._alignOffset.x,this._margin.top+this._alignOffset.y);\r\n\t\t\t}\r\n\t\t\tthis.handleSizeChanged();\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'mask',function(){\r\n\t\t\treturn this._displayObject.mask;\r\n\t\t\t},function(value){\r\n\t\t\tthis._displayObject.mask=value;\r\n\t\t});\r\n\r\n\t\treturn GComponent;\r\n\t})(GObject)\r\n\r\n\r\n\t//class fairygui.GearAnimation extends fairygui.GearBase\r\n\tvar GearAnimation=(function(_super){\r\n\t\tvar GearAnimationValue;\r\n\t\tfunction GearAnimation(owner){\r\n\t\t\tthis._storage=null;\r\n\t\t\tthis._default=null;\r\n\t\t\tGearAnimation.__super.call(this,owner);\r\n\t\t}\r\n\r\n\t\t__class(GearAnimation,'fairygui.GearAnimation',_super);\r\n\t\tvar __proto=GearAnimation.prototype;\r\n\t\t__proto.init=function(){\r\n\t\t\tthis._default=new GearAnimationValue((this._owner).playing,\r\n\t\t\t(this._owner).frame);\r\n\t\t\tthis._storage={};\r\n\t\t}\r\n\r\n\t\t__proto.addStatus=function(pageId,value){\r\n\t\t\tif(value==\"-\")\r\n\t\t\t\treturn;\r\n\t\t\tvar gv;\r\n\t\t\tif (pageId==null)\r\n\t\t\t\tgv=this._default;\r\n\t\t\telse {\r\n\t\t\t\tgv=new GearAnimationValue();\r\n\t\t\t\tthis._storage[pageId]=gv;\r\n\t\t\t};\r\n\t\t\tvar arr=value.split(\",\");\r\n\t\t\tgv.frame=parseInt(arr[0]);\r\n\t\t\tgv.playing=arr[1]==\"p\";\r\n\t\t}\r\n\r\n\t\t__proto.apply=function(){\r\n\t\t\tthis._owner._gearLocked=true;\r\n\t\t\tvar gv=this._storage[this._controller.selectedPageId];\r\n\t\t\tif (!gv)\r\n\t\t\t\tgv=this._default;\r\n\t\t\t(this._owner).frame=gv.frame;\r\n\t\t\t(this._owner).playing=gv.playing;\r\n\t\t\tthis._owner._gearLocked=false;\r\n\t\t}\r\n\r\n\t\t__proto.updateState=function(){\r\n\t\t\tif (this._controller==null || this._owner._gearLocked || this._owner._underConstruct)\r\n\t\t\t\treturn;\r\n\t\t\tvar mc=(this._owner);\r\n\t\t\tvar gv=this._storage[this._controller.selectedPageId];\r\n\t\t\tif(!gv){\r\n\t\t\t\tgv=new GearAnimationValue();\r\n\t\t\t\tthis._storage[this._controller.selectedPageId]=gv;\r\n\t\t\t}\r\n\t\t\tgv.frame=mc.frame;\r\n\t\t\tgv.playing=mc.playing;\r\n\t\t}\r\n\r\n\t\tGearAnimation.__init$=function(){\r\n\t\t\t//class GearAnimationValue\r\n\t\t\tGearAnimationValue=(function(){\r\n\t\t\t\tfunction GearAnimationValue(playing,frame){\r\n\t\t\t\t\tthis.playing=false;\r\n\t\t\t\t\tthis.frame=NaN;\r\n\t\t\t\t\t(playing===void 0)&& (playing=true);\r\n\t\t\t\t\t(frame===void 0)&& (frame=0);\r\n\t\t\t\t\tthis.playing=playing;\r\n\t\t\t\t\tthis.frame=frame;\r\n\t\t\t\t}\r\n\t\t\t\t__class(GearAnimationValue,'');\r\n\t\t\t\treturn GearAnimationValue;\r\n\t\t\t})()\r\n\t\t}\r\n\r\n\t\treturn GearAnimation;\r\n\t})(GearBase)\r\n\r\n\r\n\t//class fairygui.GearColor extends fairygui.GearBase\r\n\tvar GearColor=(function(_super){\r\n\t\tfunction GearColor(owner){\r\n\t\t\tthis._storage=null;\r\n\t\t\tthis._default=null;\r\n\t\t\tGearColor.__super.call(this,owner);\r\n\t\t}\r\n\r\n\t\t__class(GearColor,'fairygui.GearColor',_super);\r\n\t\tvar __proto=GearColor.prototype;\r\n\t\t__proto.init=function(){\r\n\t\t\tthis._default=(this._owner).color;\r\n\t\t\tthis._storage={};\r\n\t\t}\r\n\r\n\t\t__proto.addStatus=function(pageId,value){\r\n\t\t\tif(value==\"-\")\r\n\t\t\t\treturn;\r\n\t\t\tif (pageId==null)\r\n\t\t\t\tthis._default=value;\r\n\t\t\telse\r\n\t\t\tthis._storage[pageId]=value;\r\n\t\t}\r\n\r\n\t\t__proto.apply=function(){\r\n\t\t\tthis._owner._gearLocked=true;\r\n\t\t\tvar data=this._storage[this._controller.selectedPageId];\r\n\t\t\tif (data !=undefined)\r\n\t\t\t\t(this._owner).color=data;\r\n\t\t\telse\r\n\t\t\t(this._owner).color=this._default;\r\n\t\t\tthis._owner._gearLocked=false;\r\n\t\t}\r\n\r\n\t\t__proto.updateState=function(){\r\n\t\t\tif (this._controller==null || this._owner._gearLocked || this._owner._underConstruct)\r\n\t\t\t\treturn;\r\n\t\t\tthis._storage[this._controller.selectedPageId]=(this._owner).color;\r\n\t\t}\r\n\r\n\t\treturn GearColor;\r\n\t})(GearBase)\r\n\r\n\r\n\t//class fairygui.GearDisplay extends fairygui.GearBase\r\n\tvar GearDisplay=(function(_super){\r\n\t\tfunction GearDisplay(owner){\r\n\t\t\tthis.pages=null;\r\n\t\t\tGearDisplay.__super.call(this,owner);\r\n\t\t}\r\n\r\n\t\t__class(GearDisplay,'fairygui.GearDisplay',_super);\r\n\t\tvar __proto=GearDisplay.prototype;\r\n\t\t__proto.init=function(){\r\n\t\t\tthis.pages=null;\r\n\t\t}\r\n\r\n\t\t__proto.apply=function(){\r\n\t\t\tif(!this._controller || this.pages==null || this.pages.length==0\r\n\t\t\t\t|| this.pages.indexOf(this._controller.selectedPageId)!=-1)\r\n\t\t\tthis._owner.internalVisible++;\r\n\t\t\telse\r\n\t\t\tthis._owner.internalVisible=0;\r\n\t\t}\r\n\r\n\t\treturn GearDisplay;\r\n\t})(GearBase)\r\n\r\n\r\n\t//class fairygui.GearIcon extends fairygui.GearBase\r\n\tvar GearIcon=(function(_super){\r\n\t\tfunction GearIcon(owner){\r\n\t\t\tthis._storage=null;\r\n\t\t\tthis._default=null;\r\n\t\t\tGearIcon.__super.call(this,owner);\r\n\t\t}\r\n\r\n\t\t__class(GearIcon,'fairygui.GearIcon',_super);\r\n\t\tvar __proto=GearIcon.prototype;\r\n\t\t__proto.init=function(){\r\n\t\t\tthis._default=this._owner.icon;\r\n\t\t\tthis._storage={};\r\n\t\t}\r\n\r\n\t\t__proto.addStatus=function(pageId,value){\r\n\t\t\tif(pageId==null)\r\n\t\t\t\tthis._default=value;\r\n\t\t\telse\r\n\t\t\tthis._storage[pageId]=value;\r\n\t\t}\r\n\r\n\t\t__proto.apply=function(){\r\n\t\t\tthis._owner._gearLocked=true;\r\n\t\t\tvar data=this._storage[this._controller.selectedPageId];\r\n\t\t\tif(data!=undefined)\r\n\t\t\t\tthis._owner.icon=String(data);\r\n\t\t\telse\r\n\t\t\tthis._owner.icon=this._default;\r\n\t\t\tthis._owner._gearLocked=false;\r\n\t\t}\r\n\r\n\t\t__proto.updateState=function(){\r\n\t\t\tif (this._controller==null || this._owner._gearLocked || this._owner._underConstruct)\r\n\t\t\t\treturn;\r\n\t\t\tthis._storage[this._controller.selectedPageId]=this._owner.icon;\r\n\t\t}\r\n\r\n\t\treturn GearIcon;\r\n\t})(GearBase)\r\n\r\n\r\n\t//class fairygui.GearLook extends fairygui.GearBase\r\n\tvar GearLook=(function(_super){\r\n\t\tvar GearLookValue;\r\n\t\tfunction GearLook(owner){\r\n\t\t\tthis.tweener=null;\r\n\t\t\tthis._storage=null;\r\n\t\t\tthis._default=null;\r\n\t\t\tthis._tweenValue=null;\r\n\t\t\tthis._tweenTarget=null;\r\n\t\t\tGearLook.__super.call(this,owner);\r\n\t\t}\r\n\r\n\t\t__class(GearLook,'fairygui.GearLook',_super);\r\n\t\tvar __proto=GearLook.prototype;\r\n\t\t__proto.init=function(){\r\n\t\t\tthis._default=new GearLookValue(this._owner.alpha,this._owner.rotation,this._owner.grayed);\r\n\t\t\tthis._storage={};\r\n\t\t}\r\n\r\n\t\t__proto.addStatus=function(pageId,value){\r\n\t\t\tif(value==\"-\")\r\n\t\t\t\treturn;\r\n\t\t\tvar arr=value.split(\",\");\r\n\t\t\tvar gv;\r\n\t\t\tif(pageId==null)\r\n\t\t\t\tgv=this._default;\r\n\t\t\telse {\r\n\t\t\t\tgv=new GearLookValue();\r\n\t\t\t\tthis._storage[pageId]=gv;\r\n\t\t\t}\r\n\t\t\tgv.alpha=parseFloat(arr[0]);\r\n\t\t\tgv.rotation=parseInt(arr[1]);\r\n\t\t\tgv.grayed=arr[2]==\"1\" ? true :false;\r\n\t\t}\r\n\r\n\t\t__proto.apply=function(){\r\n\t\t\tvar gv=this._storage[this._controller.selectedPageId];\r\n\t\t\tif(!gv)\r\n\t\t\t\tgv=this._default;\r\n\t\t\tif(this._tween && !UIPackage._constructing && !GearBase.disableAllTweenEffect){\r\n\t\t\t\tthis._owner._gearLocked=true;\r\n\t\t\t\tthis._owner.grayed=gv.grayed;\r\n\t\t\t\tthis._owner._gearLocked=false;\r\n\t\t\t\tif (this.tweener !=null){\r\n\t\t\t\t\tif (this._tweenTarget.alpha !=gv.alpha || this._tweenTarget.rotation !=gv.rotation){\r\n\t\t\t\t\t\tthis.tweener.complete();\r\n\t\t\t\t\t\tthis.tweener=null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\treturn;\r\n\t\t\t\t};\r\n\t\t\t\tvar a=gv.alpha !=this._owner.alpha;\r\n\t\t\t\tvar b=gv.rotation !=this._owner.rotation;\r\n\t\t\t\tif(a || b){\r\n\t\t\t\t\tthis._owner.internalVisible++;\r\n\t\t\t\t\tthis._tweenTarget=gv;\r\n\t\t\t\t\tif(this._tweenValue==null)\r\n\t\t\t\t\t\tthis._tweenValue=new Point();\r\n\t\t\t\t\tthis._tweenValue.x=this._owner.alpha;\r\n\t\t\t\t\tthis._tweenValue.y=this._owner.rotation;\r\n\t\t\t\t\tthis.tweener=Tween.to(this._tweenValue,\r\n\t\t\t\t\t{x:gv.alpha,y:gv.rotation },\r\n\t\t\t\t\tthis._tweenTime*1000,\r\n\t\t\t\t\tthis._easeType,\r\n\t\t\t\t\tHandler.create(this,this.__tweenComplete),\r\n\t\t\t\t\tthis._delay*1000);\r\n\t\t\t\t\tthis.tweener.update=Handler.create(this,this.__tweenUpdate,[a,b],false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis._owner._gearLocked=true;\r\n\t\t\t\tthis._owner.grayed=gv.grayed;\r\n\t\t\t\tthis._owner.alpha=gv.alpha;\r\n\t\t\t\tthis._owner.rotation=gv.rotation;\r\n\t\t\t\tthis._owner._gearLocked=false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__tweenUpdate=function(a,b){\r\n\t\t\tthis._owner._gearLocked=true;\r\n\t\t\tif(a)\r\n\t\t\t\tthis._owner.alpha=this._tweenValue.x;\r\n\t\t\tif(b)\r\n\t\t\t\tthis._owner.rotation=this._tweenValue.y;\r\n\t\t\tthis._owner._gearLocked=false;\r\n\t\t}\r\n\r\n\t\t__proto.__tweenComplete=function(){\r\n\t\t\tthis._owner.internalVisible--;\r\n\t\t\tthis.tweener=null;\r\n\t\t\tthis._owner.displayObject.event(\"fui_gear_stop\");\r\n\t\t}\r\n\r\n\t\t__proto.updateState=function(){\r\n\t\t\tif (this._controller==null || this._owner._gearLocked || this._owner._underConstruct)\r\n\t\t\t\treturn;\r\n\t\t\tvar gv=this._storage[this._controller.selectedPageId];\r\n\t\t\tif(!gv){\r\n\t\t\t\tgv=new GearLookValue();\r\n\t\t\t\tthis._storage[this._controller.selectedPageId]=gv;\r\n\t\t\t}\r\n\t\t\tgv.alpha=this._owner.alpha;\r\n\t\t\tgv.rotation=this._owner.rotation;\r\n\t\t\tgv.grayed=this._owner.grayed;\r\n\t\t}\r\n\r\n\t\tGearLook.__init$=function(){\r\n\t\t\t//class GearLookValue\r\n\t\t\tGearLookValue=(function(){\r\n\t\t\t\tfunction GearLookValue(alpha,rotation,grayed){\r\n\t\t\t\t\tthis.alpha=NaN;\r\n\t\t\t\t\tthis.rotation=NaN;\r\n\t\t\t\t\tthis.grayed=false;\r\n\t\t\t\t\t(alpha===void 0)&& (alpha=0);\r\n\t\t\t\t\t(rotation===void 0)&& (rotation=0);\r\n\t\t\t\t\t(grayed===void 0)&& (grayed=false);\r\n\t\t\t\t\tthis.alpha=alpha;\r\n\t\t\t\t\tthis.rotation=rotation;\r\n\t\t\t\t\tthis.grayed=grayed;\r\n\t\t\t\t}\r\n\t\t\t\t__class(GearLookValue,'');\r\n\t\t\t\treturn GearLookValue;\r\n\t\t\t})()\r\n\t\t}\r\n\r\n\t\treturn GearLook;\r\n\t})(GearBase)\r\n\r\n\r\n\t//class fairygui.GGraph extends fairygui.GObject\r\n\tvar GGraph=(function(_super){\r\n\t\tfunction GGraph(){\r\n\t\t\tthis._type=NaN;\r\n\t\t\tthis._lineSize=NaN;\r\n\t\t\tthis._lineColor=null;\r\n\t\t\tthis._fillColor=null;\r\n\t\t\tGGraph.__super.call(this);\r\n\t\t\tthis._type=0;\r\n\t\t\tthis._lineSize=1;\r\n\t\t\tthis._lineColor=\"#000000\"\r\n\t\t\tthis._fillColor=\"#FFFFFF\";\r\n\t\t}\r\n\r\n\t\t__class(GGraph,'fairygui.GGraph',_super);\r\n\t\tvar __proto=GGraph.prototype;\r\n\t\t__proto.drawRect=function(lineSize,lineColor,fillColor){\r\n\t\t\tthis._type=1;\r\n\t\t\tthis._lineSize=lineSize;\r\n\t\t\tthis._lineColor=lineColor;\r\n\t\t\tthis._fillColor=fillColor;\r\n\t\t\tthis.drawCommon();\r\n\t\t}\r\n\r\n\t\t__proto.drawEllipse=function(lineSize,lineColor,fillColor){\r\n\t\t\tthis._type=2;\r\n\t\t\tthis._lineSize=lineSize;\r\n\t\t\tthis._lineColor=lineColor;\r\n\t\t\tthis._fillColor=fillColor;\r\n\t\t\tthis.drawCommon();\r\n\t\t}\r\n\r\n\t\t__proto.drawCommon=function(){\r\n\t\t\tthis._displayObject.mouseEnabled=this.touchable;\r\n\t\t\tvar gr=this._displayObject.graphics;\r\n\t\t\tgr.clear();\r\n\t\t\tvar w=this.width;\r\n\t\t\tvar h=this.height;\r\n\t\t\tif(w==0 || h==0)\r\n\t\t\t\treturn;\r\n\t\t\tvar fillColor=this._fillColor;\r\n\t\t\tvar lineColor=this._lineColor;\r\n\t\t\tif(Render.isWebGL && ToolSet.startsWith(fillColor,\"rgba\")){\r\n\t\t\t\tvar arr=fillColor.substring(5,fillColor.lastIndexOf(\")\")).split(\",\");\r\n\t\t\t\tvar a=parseFloat(arr[3]);\r\n\t\t\t\tif(a==0)\r\n\t\t\t\t\tfillColor=null;\r\n\t\t\t\telse {\r\n\t\t\t\t\tfillColor=Utils.toHexColor((parseInt(arr[0])<<16)+(parseInt(arr[1])<<8)+parseInt(arr[2]));\r\n\t\t\t\t\tthis.alpha=a;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this._type==1)\r\n\t\t\t\tgr.drawRect(0,0,w,h,fillColor,this._lineSize>0?lineColor:null,this._lineSize);\r\n\t\t\telse\r\n\t\t\tgr.drawCircle(w/2,h/2,w/2,fillColor,this._lineSize>0?lineColor:null,this._lineSize);\r\n\t\t\tthis._displayObject.repaint();\r\n\t\t}\r\n\r\n\t\t__proto.replaceMe=function(target){\r\n\t\t\tif (!this._parent)\r\n\t\t\t\tthrow \"parent not set\";\r\n\t\t\ttarget.name=this.name;\r\n\t\t\ttarget.alpha=this.alpha;\r\n\t\t\ttarget.rotation=this.rotation;\r\n\t\t\ttarget.visible=this.visible;\r\n\t\t\ttarget.touchable=this.touchable;\r\n\t\t\ttarget.grayed=this.grayed;\r\n\t\t\ttarget.setXY(this.x,this.y);\r\n\t\t\ttarget.setSize(this.width,this.height);\r\n\t\t\tvar index=this._parent.getChildIndex(this);\r\n\t\t\tthis._parent.addChildAt(target,index);\r\n\t\t\ttarget.relations.copyFrom(this.relations);\r\n\t\t\tthis._parent.removeChild(this,true);\r\n\t\t}\r\n\r\n\t\t__proto.addBeforeMe=function(target){\r\n\t\t\tif (this._parent==null)\r\n\t\t\t\tthrow \"parent not set\";\r\n\t\t\tvar index=this._parent.getChildIndex(this);\r\n\t\t\tthis._parent.addChildAt(target,index);\r\n\t\t}\r\n\r\n\t\t__proto.addAfterMe=function(target){\r\n\t\t\tif (this._parent==null)\r\n\t\t\t\tthrow \"parent not set\";\r\n\t\t\tvar index=this._parent.getChildIndex(this);\r\n\t\t\tindex++;\r\n\t\t\tthis._parent.addChildAt(target,index);\r\n\t\t}\r\n\r\n\t\t__proto.setNativeObject=function(obj){\r\n\t\t\tthis._type=0;\r\n\t\t\tthis._displayObject.mouseEnabled=this.touchable;\r\n\t\t\tthis._displayObject.graphics.clear();\r\n\t\t\tthis._displayObject.addChild(obj);\r\n\t\t}\r\n\r\n\t\t__proto.createDisplayObject=function(){\r\n\t\t\t_super.prototype.createDisplayObject.call(this);\r\n\t\t\tthis._displayObject.mouseEnabled=false;\r\n\t\t}\r\n\r\n\t\t__proto.handleSizeChanged=function(){\r\n\t\t\t_super.prototype.handleSizeChanged.call(this);\r\n\t\t\tif(this._type !=0)\r\n\t\t\t\tthis.drawCommon();\r\n\t\t}\r\n\r\n\t\t__proto.setup_beforeAdd=function(xml){\r\n\t\t\t_super.prototype.setup_beforeAdd.call(this,xml);\r\n\t\t\tvar type=xml.getAttribute(\"type\");\r\n\t\t\tif (type && type!=\"empty\"){\r\n\t\t\t\tvar str;\r\n\t\t\t\tstr=xml.getAttribute(\"lineSize\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tthis._lineSize=parseInt(str);\r\n\t\t\t\tstr=xml.getAttribute(\"lineColor\");\r\n\t\t\t\tif (str){\r\n\t\t\t\t\tvar c=ToolSet.convertFromHtmlColor(str,true);\r\n\t\t\t\t\tvar a=((c >> 24)& 0xFF)/ 0xFF;\r\n\t\t\t\t\tif(a!=1)\r\n\t\t\t\t\t\tthis._lineColor=\"rgba(\"+((c>>16)& 0xFF)+\",\"+((c>>8)& 0xFF)+\",\"+(c & 0xFF)+\",\"+a+\")\";\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._lineColor=Utils.toHexColor(c & 0xFFFFFF);\r\n\t\t\t\t}\r\n\t\t\t\tstr=xml.getAttribute(\"fillColor\");\r\n\t\t\t\tif (str){\r\n\t\t\t\t\tc=ToolSet.convertFromHtmlColor(str,true);\r\n\t\t\t\t\ta=((c >> 24)& 0xFF)/ 0xFF;\r\n\t\t\t\t\tif(a!=1)\r\n\t\t\t\t\t\tthis._fillColor=\"rgba(\"+((c>>16)& 0xFF)+\",\"+((c>>8)& 0xFF)+\",\"+(c & 0xFF)+\",\"+a+\")\";\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._fillColor=Utils.toHexColor(c & 0xFFFFFF);\r\n\t\t\t\t}\r\n\t\t\t\tif (type==\"rect\")\r\n\t\t\t\t\tthis._type=1;\r\n\t\t\t\telse\r\n\t\t\t\tthis._type=2;\r\n\t\t\t\tthis.drawCommon();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn GGraph;\r\n\t})(GObject)\r\n\r\n\r\n\t//class fairygui.GGroup extends fairygui.GObject\r\n\tvar GGroup=(function(_super){\r\n\t\tfunction GGroup(){\r\n\t\t\tthis._updating=false;\r\n\t\t\tthis._empty=false;\r\n\t\t\tGGroup.__super.call(this);\r\n\t\t}\r\n\r\n\t\t__class(GGroup,'fairygui.GGroup',_super);\r\n\t\tvar __proto=GGroup.prototype;\r\n\t\t__proto.updateBounds=function(){\r\n\t\t\tif (this._updating || !this.parent)\r\n\t\t\t\treturn;\r\n\t\t\tvar cnt=this._parent.numChildren;\r\n\t\t\tvar i=0;\r\n\t\t\tvar child;\r\n\t\t\tvar ax=Number.POSITIVE_INFINITY,ay=Number.POSITIVE_INFINITY;\r\n\t\t\tvar ar=Number.NEGATIVE_INFINITY,ab=Number.NEGATIVE_INFINITY;\r\n\t\t\tvar tmp=0;\r\n\t\t\tthis._empty=true;\r\n\t\t\tfor (i=0;i < cnt;i++){\r\n\t\t\t\tchild=this._parent.getChildAt(i);\r\n\t\t\t\tif (child.group==this){\r\n\t\t\t\t\ttmp=child.x;\r\n\t\t\t\t\tif (tmp < ax)\r\n\t\t\t\t\t\tax=tmp;\r\n\t\t\t\t\ttmp=child.y;\r\n\t\t\t\t\tif (tmp < ay)\r\n\t\t\t\t\t\tay=tmp;\r\n\t\t\t\t\ttmp=child.x+child.width;\r\n\t\t\t\t\tif (tmp > ar)\r\n\t\t\t\t\t\tar=tmp;\r\n\t\t\t\t\ttmp=child.y+child.height;\r\n\t\t\t\t\tif (tmp > ab)\r\n\t\t\t\t\t\tab=tmp;\r\n\t\t\t\t\tthis._empty=false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._updating=true;\r\n\t\t\tif (!this._empty){\r\n\t\t\t\tthis.setXY(ax,ay);\r\n\t\t\t\tthis.setSize(ar-ax,ab-ay);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tthis.setSize(0,0);\r\n\t\t\tthis._updating=false;\r\n\t\t}\r\n\r\n\t\t__proto.moveChildren=function(dx,dy){\r\n\t\t\tif (this._updating || !this.parent)\r\n\t\t\t\treturn;\r\n\t\t\tthis._updating=true;\r\n\t\t\tvar cnt=this._parent.numChildren;\r\n\t\t\tvar i=0;\r\n\t\t\tvar child;\r\n\t\t\tfor (i=0;i < cnt;i++){\r\n\t\t\t\tchild=this._parent.getChildAt(i);\r\n\t\t\t\tif (child.group==this){\r\n\t\t\t\t\tchild.setXY(child.x+dx,child.y+dy);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._updating=false;\r\n\t\t}\r\n\r\n\t\t__proto.updateAlpha=function(){\r\n\t\t\t_super.prototype.updateAlpha.call(this);\r\n\t\t\tif(this._underConstruct)\r\n\t\t\t\treturn;\r\n\t\t\tvar cnt=this._parent.numChildren;\r\n\t\t\tvar i=NaN;\r\n\t\t\tvar child;\r\n\t\t\tfor(i=0;i<cnt;i++){\r\n\t\t\t\tchild=this._parent.getChildAt(i);\r\n\t\t\t\tif(child.group==this)\r\n\t\t\t\t\tchild.alpha=this.alpha;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn GGroup;\r\n\t})(GObject)\r\n\r\n\r\n\t//class fairygui.GearSize extends fairygui.GearBase\r\n\tvar GearSize=(function(_super){\r\n\t\tvar GearSizeValue;\r\n\t\tfunction GearSize(owner){\r\n\t\t\tthis.tweener=null;\r\n\t\t\tthis._storage=null;\r\n\t\t\tthis._default=null;\r\n\t\t\tthis._tweenValue=null;\r\n\t\t\tthis._tweenTarget=null;\r\n\t\t\tGearSize.__super.call(this,owner);\r\n\t\t}\r\n\r\n\t\t__class(GearSize,'fairygui.GearSize',_super);\r\n\t\tvar __proto=GearSize.prototype;\r\n\t\t__proto.init=function(){\r\n\t\t\tthis._default=new GearSizeValue(this._owner.width,this._owner.height,\r\n\t\t\tthis._owner.scaleX,this._owner.scaleY);\r\n\t\t\tthis._storage={};\r\n\t\t}\r\n\r\n\t\t__proto.addStatus=function(pageId,value){\r\n\t\t\tif(value==\"-\")\r\n\t\t\t\treturn;\r\n\t\t\tvar arr=value.split(\",\");\r\n\t\t\tvar gv;\r\n\t\t\tif (pageId==null)\r\n\t\t\t\tgv=this._default;\r\n\t\t\telse {\r\n\t\t\t\tgv=new GearSizeValue();\r\n\t\t\t\tthis._storage[pageId]=gv;\r\n\t\t\t}\r\n\t\t\tgv.width=parseInt(arr[0]);\r\n\t\t\tgv.height=parseInt(arr[1]);\r\n\t\t\tif(arr.length>2){\r\n\t\t\t\tgv.scaleX=parseFloat(arr[2]);\r\n\t\t\t\tgv.scaleY=parseFloat(arr[3]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.apply=function(){\r\n\t\t\tvar gv=this._storage[this._controller.selectedPageId];\r\n\t\t\tif (!gv)\r\n\t\t\t\tgv=this._default;\r\n\t\t\tif(this._tween && !UIPackage._constructing && !GearBase.disableAllTweenEffect){\r\n\t\t\t\tif(this.tweener!=null){\r\n\t\t\t\t\tif (this._tweenTarget.width !=gv.width || this._tweenTarget.height !=gv.height\r\n\t\t\t\t\t\t|| this._tweenTarget.scaleX !=gv.scaleX || this._tweenTarget.scaleY !=gv.scaleY){\r\n\t\t\t\t\t\tthis.tweener.complete();\r\n\t\t\t\t\t\tthis.tweener=null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\treturn;\r\n\t\t\t\t};\r\n\t\t\t\tvar a=gv.width !=this._owner.width || gv.height !=this._owner.height;\r\n\t\t\t\tvar b=gv.scaleX !=this._owner.scaleX || gv.scaleY !=this._owner.scaleY;\r\n\t\t\t\tif(a || b){\r\n\t\t\t\t\tthis._owner.internalVisible++;\r\n\t\t\t\t\tthis._tweenTarget=gv;\r\n\t\t\t\t\tif(this._tweenValue==null)\r\n\t\t\t\t\t\tthis._tweenValue=new GearSizeValue();\r\n\t\t\t\t\tthis._tweenValue.width=this._owner.width;\r\n\t\t\t\t\tthis._tweenValue.height=this._owner.height;\r\n\t\t\t\t\tthis._tweenValue.scaleX=this._owner.scaleX;\r\n\t\t\t\t\tthis._tweenValue.scaleY=this._owner.scaleY;\r\n\t\t\t\t\tthis.tweener=Tween.to(this._tweenValue,\r\n\t\t\t\t\t{width:gv.width,height:gv.height,scaleX:gv.scaleX,scaleY:gv.scaleY },\r\n\t\t\t\t\tthis._tweenTime*1000,\r\n\t\t\t\t\tthis._easeType,\r\n\t\t\t\t\tHandler.create(this,this.__tweenComplete),\r\n\t\t\t\t\tthis._delay*1000);\r\n\t\t\t\t\tthis.tweener.update=Handler.create(this,this.__tweenUpdate,[a,b],false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis._owner._gearLocked=true;\r\n\t\t\t\tthis._owner.setSize(gv.width,gv.height,this._owner.gearXY.controller==this._controller);\r\n\t\t\t\tthis._owner.setScale(gv.scaleX,gv.scaleY);\r\n\t\t\t\tthis._owner._gearLocked=false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__tweenUpdate=function(a,b){\r\n\t\t\tthis._owner._gearLocked=true;\r\n\t\t\tif(a)\r\n\t\t\t\tthis._owner.setSize(this._tweenValue.width,this._tweenValue.height,this._owner.gearXY.controller==this._controller);\r\n\t\t\tif(b)\r\n\t\t\t\tthis._owner.setScale(this._tweenValue.scaleX,this._tweenValue.scaleY);\r\n\t\t\tthis._owner._gearLocked=false;\r\n\t\t}\r\n\r\n\t\t__proto.__tweenComplete=function(){\r\n\t\t\tthis._owner.internalVisible--;\r\n\t\t\tthis.tweener=null;\r\n\t\t\tthis._owner.displayObject.event(\"fui_gear_stop\");\r\n\t\t}\r\n\r\n\t\t__proto.updateState=function(){\r\n\t\t\tif (this._controller==null || this._owner._gearLocked || this._owner._underConstruct)\r\n\t\t\t\treturn;\r\n\t\t\tvar gv=this._storage[this._controller.selectedPageId];\r\n\t\t\tif(!gv){\r\n\t\t\t\tgv=new GearSizeValue();\r\n\t\t\t\tthis._storage[this._controller.selectedPageId]=gv;\r\n\t\t\t}\r\n\t\t\tgv.width=this._owner.width;\r\n\t\t\tgv.height=this._owner.height;\r\n\t\t\tgv.scaleX=this._owner.scaleX;\r\n\t\t\tgv.scaleY=this._owner.scaleY;\r\n\t\t}\r\n\r\n\t\t__proto.updateFromRelations=function(dx,dy){\r\n\t\t\tif(this._controller==null || this._storage==null)\r\n\t\t\t\treturn;\r\n\t\t\tfor(var key in this._storage){\r\n\t\t\t\tvar gv=this._storage[key];\r\n\t\t\t\tgv.width+=dx;\r\n\t\t\t\tgv.height+=dy;\r\n\t\t\t}\r\n\t\t\tthis._default.width+=dx;\r\n\t\t\tthis._default.height+=dy;\r\n\t\t\tthis.updateState();\r\n\t\t}\r\n\r\n\t\tGearSize.__init$=function(){\r\n\t\t\t//class GearSizeValue\r\n\t\t\tGearSizeValue=(function(){\r\n\t\t\t\tfunction GearSizeValue(width,height,scaleX,scaleY){\r\n\t\t\t\t\tthis.width=NaN;\r\n\t\t\t\t\tthis.height=NaN;\r\n\t\t\t\t\tthis.scaleX=NaN;\r\n\t\t\t\t\tthis.scaleY=NaN;\r\n\t\t\t\t\t(width===void 0)&& (width=0);\r\n\t\t\t\t\t(height===void 0)&& (height=0);\r\n\t\t\t\t\t(scaleX===void 0)&& (scaleX=0);\r\n\t\t\t\t\t(scaleY===void 0)&& (scaleY=0);\r\n\t\t\t\t\tthis.width=width;\r\n\t\t\t\t\tthis.height=height;\r\n\t\t\t\t\tthis.scaleX=scaleX;\r\n\t\t\t\t\tthis.scaleY=scaleY;\r\n\t\t\t\t}\r\n\t\t\t\t__class(GearSizeValue,'');\r\n\t\t\t\treturn GearSizeValue;\r\n\t\t\t})()\r\n\t\t}\r\n\r\n\t\treturn GearSize;\r\n\t})(GearBase)\r\n\r\n\r\n\t//class fairygui.GImage extends fairygui.GObject\r\n\tvar GImage=(function(_super){\r\n\t\tfunction GImage(){\r\n\t\t\tthis.image=null;\r\n\t\t\tthis._color=null;\r\n\t\t\tthis._flip=0;\r\n\t\t\tGImage.__super.call(this);\r\n\t\t\tthis._color=\"#FFFFFF\";\r\n\t\t}\r\n\r\n\t\t__class(GImage,'fairygui.GImage',_super);\r\n\t\tvar __proto=GImage.prototype;\r\n\t\tLaya.imps(__proto,{\"fairygui.IColorGear\":true})\r\n\t\t__proto.applyColor=function(){}\r\n\t\t__proto.createDisplayObject=function(){\r\n\t\t\tthis._displayObject=this.image=new Image1();\r\n\t\t\tthis.image.mouseEnabled=false;\r\n\t\t\tthis._displayObject[\"$owner\"]=this;\r\n\t\t}\r\n\r\n\t\t__proto.constructFromResource=function(){\r\n\t\t\tthis.packageItem.load();\r\n\t\t\tthis._sourceWidth=this.packageItem.width;\r\n\t\t\tthis._sourceHeight=this.packageItem.height;\r\n\t\t\tthis._initWidth=this._sourceWidth;\r\n\t\t\tthis._initHeight=this._sourceHeight;\r\n\t\t\tthis.image.scale9Grid=this.packageItem.scale9Grid;\r\n\t\t\tthis.image.scaleByTile=this.packageItem.scaleByTile;\r\n\t\t\tthis.image.tileGridIndice=this.packageItem.tileGridIndice;\r\n\t\t\tthis.image.tex=this.packageItem.texture;\r\n\t\t\tthis.setSize(this._sourceWidth,this._sourceHeight);\r\n\t\t}\r\n\r\n\t\t__proto.handleXYChanged=function(){\r\n\t\t\t_super.prototype.handleXYChanged.call(this);\r\n\t\t\tif(this._flip !=0){\r\n\t\t\t\tif(this.scaleX==-1)\r\n\t\t\t\t\tthis.image.x+=this.width;\r\n\t\t\t\tif(this.scaleY==-1)\r\n\t\t\t\t\tthis.image.y+=this.height;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.handleSizeChanged=function(){\r\n\t\t\tif(this.image.tex!=null){\r\n\t\t\t\tthis.image.scaleTexture(this.width/this._sourceWidth,this.height/this._sourceHeight);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setup_beforeAdd=function(xml){\r\n\t\t\t_super.prototype.setup_beforeAdd.call(this,xml);\r\n\t\t\tvar str;\r\n\t\t\tstr=xml.getAttribute(\"color\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis.color=str;\r\n\t\t\tstr=xml.getAttribute(\"flip\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis.flip=FlipType.parse(str);\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'color',function(){\r\n\t\t\treturn this._color;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._color !=value){\r\n\t\t\t\tthis._color=value;\r\n\t\t\t\tthis.updateGear(4);\r\n\t\t\t\tthis.applyColor();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//not supported yet\r\n\t\t__getset(0,__proto,'flip',function(){\r\n\t\t\treturn this._flip;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._flip!=value){\r\n\t\t\t\tthis._flip=value;\r\n\t\t\t\tvar sx=1,sy=1;\r\n\t\t\t\tif(this._flip==1 || this._flip==3)\r\n\t\t\t\t\tsx=-1;\r\n\t\t\t\tif(this._flip==2 || this._flip==3)\r\n\t\t\t\t\tsy=-1;\r\n\t\t\t\tthis.setScale(sx,sy);\r\n\t\t\t\tthis.handleXYChanged();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn GImage;\r\n\t})(GObject)\r\n\r\n\r\n\t//class fairygui.GearText extends fairygui.GearBase\r\n\tvar GearText=(function(_super){\r\n\t\tfunction GearText(owner){\r\n\t\t\tthis._storage=null;\r\n\t\t\tthis._default=null;\r\n\t\t\tGearText.__super.call(this,owner);\r\n\t\t}\r\n\r\n\t\t__class(GearText,'fairygui.GearText',_super);\r\n\t\tvar __proto=GearText.prototype;\r\n\t\t__proto.init=function(){\r\n\t\t\tthis._default=this._owner.text;\r\n\t\t\tthis._storage={};\r\n\t\t}\r\n\r\n\t\t__proto.addStatus=function(pageId,value){\r\n\t\t\tif(pageId==null)\r\n\t\t\t\tthis._default=value;\r\n\t\t\telse\r\n\t\t\tthis._storage[pageId]=value;\r\n\t\t}\r\n\r\n\t\t__proto.apply=function(){\r\n\t\t\tthis._owner._gearLocked=true;\r\n\t\t\tvar data=this._storage[this._controller.selectedPageId];\r\n\t\t\tif(data!=undefined)\r\n\t\t\t\tthis._owner.text=String(data);\r\n\t\t\telse\r\n\t\t\tthis._owner.text=this._default;\r\n\t\t\tthis._owner._gearLocked=false;\r\n\t\t}\r\n\r\n\t\t__proto.updateState=function(){\r\n\t\t\tif (this._controller==null || this._owner._gearLocked || this._owner._underConstruct)\r\n\t\t\t\treturn;\r\n\t\t\tthis._storage[this._controller.selectedPageId]=this._owner.text;\r\n\t\t}\r\n\r\n\t\treturn GearText;\r\n\t})(GearBase)\r\n\r\n\r\n\t//class fairygui.GearXY extends fairygui.GearBase\r\n\tvar GearXY=(function(_super){\r\n\t\tfunction GearXY(owner){\r\n\t\t\tthis.tweener=null;\r\n\t\t\tthis._storage=null;\r\n\t\t\tthis._default=null;\r\n\t\t\tthis._tweenValue=null;\r\n\t\t\tthis._tweenTarget=null;\r\n\t\t\tGearXY.__super.call(this,owner);\r\n\t\t}\r\n\r\n\t\t__class(GearXY,'fairygui.GearXY',_super);\r\n\t\tvar __proto=GearXY.prototype;\r\n\t\t__proto.init=function(){\r\n\t\t\tthis._default=new Point(this._owner.x,this._owner.y);\r\n\t\t\tthis._storage={};\r\n\t\t}\r\n\r\n\t\t__proto.addStatus=function(pageId,value){\r\n\t\t\tif(value==\"-\")\r\n\t\t\t\treturn;\r\n\t\t\tvar arr=value.split(\",\");\r\n\t\t\tvar pt;\r\n\t\t\tif (pageId==null)\r\n\t\t\t\tpt=this._default;\r\n\t\t\telse {\r\n\t\t\t\tpt=new Point();\r\n\t\t\t\tthis._storage[pageId]=pt;\r\n\t\t\t}\r\n\t\t\tpt.x=parseInt(arr[0]);\r\n\t\t\tpt.y=parseInt(arr[1]);\r\n\t\t}\r\n\r\n\t\t__proto.apply=function(){\r\n\t\t\tvar pt=this._storage[this._controller.selectedPageId];\r\n\t\t\tif (!pt)\r\n\t\t\t\tpt=this._default;\r\n\t\t\tif(this._tween && !UIPackage._constructing && !GearBase.disableAllTweenEffect){\r\n\t\t\t\tif(this.tweener){\r\n\t\t\t\t\tif(this._tweenTarget.x!=pt.x || this._tweenTarget.y!=pt.y){\r\n\t\t\t\t\t\tthis.tweener.complete();\r\n\t\t\t\t\t\tthis.tweener=null;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(this._owner.x !=pt.x || this._owner.y !=pt.y){\r\n\t\t\t\t\tthis._owner.internalVisible++;\r\n\t\t\t\t\tthis._tweenTarget=pt;\r\n\t\t\t\t\tif(this._tweenValue==null)\r\n\t\t\t\t\t\tthis._tweenValue=new Point();\r\n\t\t\t\t\tthis._tweenValue.x=this._owner.x;\r\n\t\t\t\t\tthis._tweenValue.y=this._owner.y;\r\n\t\t\t\t\tthis.tweener=Tween.to(this._tweenValue,\r\n\t\t\t\t\t{x:pt.x,y:pt.y },\r\n\t\t\t\t\tthis._tweenTime*1000,\r\n\t\t\t\t\tthis._easeType,\r\n\t\t\t\t\tHandler.create(this,this.__tweenComplete),\r\n\t\t\t\t\tthis._delay*1000);\r\n\t\t\t\t\tthis.tweener.update=Handler.create(this,this.__tweenUpdate,null,false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis._owner._gearLocked=true;\r\n\t\t\t\tthis._owner.setXY(pt.x,pt.y);\r\n\t\t\t\tthis._owner._gearLocked=false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__tweenUpdate=function(){\r\n\t\t\tthis._owner._gearLocked=true;\r\n\t\t\tthis._owner.setXY(this._tweenValue.x,this._tweenValue.y);\r\n\t\t\tthis._owner._gearLocked=false;\r\n\t\t}\r\n\r\n\t\t__proto.__tweenComplete=function(){\r\n\t\t\tthis._owner.internalVisible--;\r\n\t\t\tthis.tweener=null;\r\n\t\t\tthis._owner.displayObject.event(\"fui_gear_stop\");\r\n\t\t}\r\n\r\n\t\t__proto.updateState=function(){\r\n\t\t\tif (this._controller==null || this._owner._gearLocked || this._owner._underConstruct)\r\n\t\t\t\treturn;\r\n\t\t\tvar pt=this._storage[this._controller.selectedPageId];\r\n\t\t\tif(!pt){\r\n\t\t\t\tpt=new Point();\r\n\t\t\t\tthis._storage[this._controller.selectedPageId]=pt;\r\n\t\t\t}\r\n\t\t\tpt.x=this._owner.x;\r\n\t\t\tpt.y=this._owner.y;\r\n\t\t}\r\n\r\n\t\t__proto.updateFromRelations=function(dx,dy){\r\n\t\t\tif(this._controller==null || this._storage==null)\r\n\t\t\t\treturn;\r\n\t\t\tfor (var key in this._storage){\r\n\t\t\t\tvar pt=this._storage[key];\r\n\t\t\t\tpt.x+=dx;\r\n\t\t\t\tpt.y+=dy;\r\n\t\t\t}\r\n\t\t\tthis._default.x+=dx;\r\n\t\t\tthis._default.y+=dy;\r\n\t\t\tthis.updateState();\r\n\t\t}\r\n\r\n\t\treturn GearXY;\r\n\t})(GearBase)\r\n\r\n\r\n\t//class fairygui.GLoader extends fairygui.GObject\r\n\tvar GLoader=(function(_super){\r\n\t\tfunction GLoader(){\r\n\t\t\tthis._url=null;\r\n\t\t\tthis._align=null;\r\n\t\t\tthis._valign=null;\r\n\t\t\tthis._autoSize=false;\r\n\t\t\tthis._fill=0;\r\n\t\t\tthis._showErrorSign=false;\r\n\t\t\tthis._playing=false;\r\n\t\t\tthis._frame=0;\r\n\t\t\tthis._color=null;\r\n\t\t\tthis._contentItem=null;\r\n\t\t\tthis._contentSourceWidth=0;\r\n\t\t\tthis._contentSourceHeight=0;\r\n\t\t\tthis._contentWidth=0;\r\n\t\t\tthis._contentHeight=0;\r\n\t\t\tthis._content=null;\r\n\t\t\tthis._errorSign=null;\r\n\t\t\tthis._updatingLayout=false;\r\n\t\t\tGLoader.__super.call(this);\r\n\t\t\tthis._playing=true;\r\n\t\t\tthis._url=\"\";\r\n\t\t\tthis._fill=0;\r\n\t\t\tthis._align=\"left\";\r\n\t\t\tthis._valign=\"top\";\r\n\t\t\tthis._showErrorSign=true;\r\n\t\t\tthis._color=\"#FFFFFF\";\r\n\t\t}\r\n\r\n\t\t__class(GLoader,'fairygui.GLoader',_super);\r\n\t\tvar __proto=GLoader.prototype;\r\n\t\tLaya.imps(__proto,{\"fairygui.IAnimationGear\":true,\"fairygui.IColorGear\":true})\r\n\t\t__proto.createDisplayObject=function(){\r\n\t\t\t_super.prototype.createDisplayObject.call(this);\r\n\t\t\tthis._displayObject.mouseEnabled=true;\r\n\t\t}\r\n\r\n\t\t__proto.dispose=function(){\r\n\t\t\tif(this._contentItem==null && ((this._content instanceof fairygui.display.Image ))){\r\n\t\t\t\tvar texture=(this._content).tex;\r\n\t\t\t\tif(texture !=null)\r\n\t\t\t\t\tthis.freeExternal(texture);\r\n\t\t\t}\r\n\t\t\t_super.prototype.dispose.call(this);\r\n\t\t}\r\n\r\n\t\t__proto.applyColor=function(){}\r\n\t\t__proto.loadContent=function(){\r\n\t\t\tthis.clearContent();\r\n\t\t\tif (!this._url)\r\n\t\t\t\treturn;\r\n\t\t\tif(ToolSet.startsWith(this._url,\"ui://\"))\r\n\t\t\t\tthis.loadFromPackage(this._url);\r\n\t\t\telse\r\n\t\t\tthis.loadExternal();\r\n\t\t}\r\n\r\n\t\t__proto.loadFromPackage=function(itemURL){\r\n\t\t\tthis._contentItem=UIPackage.getItemByURL(itemURL);\r\n\t\t\tif(this._contentItem !=null){\r\n\t\t\t\tthis._contentItem.load();\r\n\t\t\t\tif(this._contentItem.type==0){\r\n\t\t\t\t\tif(this._contentItem.texture==null){\r\n\t\t\t\t\t\tthis.setErrorState();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif(!((this._content instanceof fairygui.display.Image ))){\r\n\t\t\t\t\t\t\tthis._content=new Image1();\r\n\t\t\t\t\t\t\tthis._displayObject.addChild(this._content);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tthis._displayObject.addChild(this._content);\r\n\t\t\t\t\t\t(this._content).tex=this._contentItem.texture;\r\n\t\t\t\t\t\t(this._content).scale9Grid=this._contentItem.scale9Grid;\r\n\t\t\t\t\t\t(this._content).scaleByTile=this._contentItem.scaleByTile;\r\n\t\t\t\t\t\t(this._content).tileGridIndice=this._contentItem.tileGridIndice;\r\n\t\t\t\t\t\tthis._contentSourceWidth=this._contentItem.width;\r\n\t\t\t\t\t\tthis._contentSourceHeight=this._contentItem.height;\r\n\t\t\t\t\t\tthis.updateLayout();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(this._contentItem.type==2){\r\n\t\t\t\t\tif(!((this._content instanceof fairygui.display.MovieClip ))){\r\n\t\t\t\t\t\tthis._content=new MovieClip1();\r\n\t\t\t\t\t\tthis._displayObject.addChild(this._content);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis._displayObject.addChild(this._content);\r\n\t\t\t\t\tthis._contentSourceWidth=this._contentItem.width;\r\n\t\t\t\t\tthis._contentSourceHeight=this._contentItem.height;\r\n\t\t\t\t\t(this._content).interval=this._contentItem.interval;\r\n\t\t\t\t\t(this._content).swing=this._contentItem.swing;\r\n\t\t\t\t\t(this._content).repeatDelay=this._contentItem.repeatDelay;\r\n\t\t\t\t\t(this._content).frames=this._contentItem.frames;\r\n\t\t\t\t\t(this._content).boundsRect=new Rectangle(0,0,this._contentSourceWidth,this._contentSourceHeight);\r\n\t\t\t\t\tthis.updateLayout();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\tthis.setErrorState();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tthis.setErrorState();\r\n\t\t}\r\n\r\n\t\t__proto.loadExternal=function(){\r\n\t\t\tAssetProxy.inst.load(this._url,Handler.create(this,this.__getResCompleted));\r\n\t\t}\r\n\r\n\t\t__proto.freeExternal=function(texture){}\r\n\t\t__proto.onExternalLoadSuccess=function(texture){\r\n\t\t\tif(!((this._content instanceof fairygui.display.Image ))){\r\n\t\t\t\tthis._content=new Image1();\r\n\t\t\t\tthis._displayObject.addChild(this._content);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tthis._displayObject.addChild(this._content);\r\n\t\t\t(this._content).tex=texture;\r\n\t\t\t(this._content).scale9Grid=null;\r\n\t\t\t(this._content).scaleByTile=false;\r\n\t\t\tthis._contentSourceWidth=texture.width;\r\n\t\t\tthis._contentSourceHeight=texture.height;\r\n\t\t\tthis.updateLayout();\r\n\t\t}\r\n\r\n\t\t__proto.onExternalLoadFailed=function(){\r\n\t\t\tthis.setErrorState();\r\n\t\t}\r\n\r\n\t\t__proto.__getResCompleted=function(tex){\r\n\t\t\tif(tex!=null)\r\n\t\t\t\tthis.onExternalLoadSuccess(tex);\r\n\t\t\telse\r\n\t\t\tthis.onExternalLoadFailed();\r\n\t\t}\r\n\r\n\t\t__proto.setErrorState=function(){\r\n\t\t\tif (!this._showErrorSign)\r\n\t\t\t\treturn;\r\n\t\t\tif (this._errorSign==null){\r\n\t\t\t\tif (UIConfig1.loaderErrorSign !=null){\r\n\t\t\t\t\tthis._errorSign=fairygui.GLoader._errorSignPool.getObject(UIConfig1.loaderErrorSign);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this._errorSign !=null){\r\n\t\t\t\tthis._errorSign.width=this.width;\r\n\t\t\t\tthis._errorSign.height=this.height;\r\n\t\t\t\tthis._displayObject.addChild(this._errorSign.displayObject);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.clearErrorState=function(){\r\n\t\t\tif (this._errorSign !=null){\r\n\t\t\t\tthis._displayObject.removeChild(this._errorSign.displayObject);\r\n\t\t\t\tfairygui.GLoader._errorSignPool.returnObject(this._errorSign);\r\n\t\t\t\tthis._errorSign=null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.updateLayout=function(){\r\n\t\t\tif (this._content==null){\r\n\t\t\t\tif (this._autoSize){\r\n\t\t\t\t\tthis._updatingLayout=true;\r\n\t\t\t\t\tthis.setSize(50,30);\r\n\t\t\t\t\tthis._updatingLayout=false;\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._content.x=0;\r\n\t\t\tthis._content.y=0;\r\n\t\t\tthis._content.scaleX=1;\r\n\t\t\tthis._content.scaleY=1;\r\n\t\t\tthis._contentWidth=this._contentSourceWidth;\r\n\t\t\tthis._contentHeight=this._contentSourceHeight;\r\n\t\t\tif (this._autoSize){\r\n\t\t\t\tthis._updatingLayout=true;\r\n\t\t\t\tif (this._contentWidth==0)\r\n\t\t\t\t\tthis._contentWidth=50;\r\n\t\t\t\tif (this._contentHeight==0)\r\n\t\t\t\t\tthis._contentHeight=30;\r\n\t\t\t\tthis.setSize(this._contentWidth,this._contentHeight);\r\n\t\t\t\tthis._updatingLayout=false;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar sx=1,sy=1;\r\n\t\t\t\tif(this._fill!=0){\r\n\t\t\t\t\tsx=this.width/this._contentSourceWidth;\r\n\t\t\t\t\tsy=this.height/this._contentSourceHeight;\r\n\t\t\t\t\tif(sx!=1 || sy!=1){\r\n\t\t\t\t\t\tif (this._fill==2)\r\n\t\t\t\t\t\t\tsx=sy;\r\n\t\t\t\t\t\telse if (this._fill==3)\r\n\t\t\t\t\t\tsy=sx;\r\n\t\t\t\t\t\telse if (this._fill==1){\r\n\t\t\t\t\t\t\tif (sx > sy)\r\n\t\t\t\t\t\t\t\tsx=sy;\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tsy=sx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis._contentWidth=this._contentSourceWidth *sx;\r\n\t\t\t\t\t\tthis._contentHeight=this._contentSourceHeight *sy;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif ((this._content instanceof fairygui.display.Image ))\r\n\t\t\t\t\t(this._content).scaleTexture(sx,sy);\r\n\t\t\t\telse\r\n\t\t\t\tthis._content.scale(sx,sy);\r\n\t\t\t\tif (this._align==\"center\")\r\n\t\t\t\t\tthis._content.x=Math.floor((this.width-this._contentWidth)/ 2);\r\n\t\t\t\telse if (this._align==\"right\")\r\n\t\t\t\tthis._content.x=this.width-this._contentWidth;\r\n\t\t\t\tif (this._valign==\"middle\")\r\n\t\t\t\t\tthis._content.y=Math.floor((this.height-this._contentHeight)/ 2);\r\n\t\t\t\telse if (this._valign==\"bottom\")\r\n\t\t\t\tthis._content.y=this.height-this._contentHeight;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.clearContent=function(){\r\n\t\t\tthis.clearErrorState();\r\n\t\t\tif (this._content !=null && this._content.parent !=null)\r\n\t\t\t\tthis._displayObject.removeChild(this._content);\r\n\t\t\tif(this._contentItem==null && ((this._content instanceof fairygui.display.Image ))){\r\n\t\t\t\tvar texture=(this._content).tex;\r\n\t\t\t\tif(texture !=null)\r\n\t\t\t\t\tthis.freeExternal(texture);\r\n\t\t\t}\r\n\t\t\tthis._contentItem=null;\r\n\t\t}\r\n\r\n\t\t__proto.handleSizeChanged=function(){\r\n\t\t\t_super.prototype.handleSizeChanged.call(this);\r\n\t\t\tif(!this._updatingLayout)\r\n\t\t\t\tthis.updateLayout();\r\n\t\t}\r\n\r\n\t\t__proto.setup_beforeAdd=function(xml){\r\n\t\t\t_super.prototype.setup_beforeAdd.call(this,xml);\r\n\t\t\tvar str;\r\n\t\t\tstr=xml.getAttribute(\"url\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._url=str;\r\n\t\t\tstr=xml.getAttribute(\"align\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._align=str;\r\n\t\t\tstr=xml.getAttribute(\"vAlign\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._valign=str;\r\n\t\t\tstr=xml.getAttribute(\"fill\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._fill=LoaderFillType.parse(str);\r\n\t\t\tthis._autoSize=xml.getAttribute(\"autoSize\")==\"true\";\r\n\t\t\tstr=xml.getAttribute(\"errorSign\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._showErrorSign=str==\"true\";\r\n\t\t\tthis._playing=xml.getAttribute(\"playing\")!=\"false\";\r\n\t\t\tstr=xml.getAttribute(\"color\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis.color=str;\r\n\t\t\tif (this._url)\r\n\t\t\t\tthis.loadContent();\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'frame',function(){\r\n\t\t\treturn this._frame;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._frame !=value){\r\n\t\t\t\tthis._frame=value;\r\n\t\t\t\tif ((this._content instanceof fairygui.display.MovieClip ))\r\n\t\t\t\t\t(this._content).currentFrame=value;\r\n\t\t\t\tthis.updateGear(5);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'url',function(){\r\n\t\t\treturn this._url;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._url==value)\r\n\t\t\t\treturn;\r\n\t\t\tthis._url=value;\r\n\t\t\tthis.loadContent();\r\n\t\t\tthis.updateGear(7);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'align',function(){\r\n\t\t\treturn this._align;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._align !=value){\r\n\t\t\t\tthis._align=value;\r\n\t\t\t\tthis.updateLayout();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'color',function(){\r\n\t\t\treturn this._color;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._color !=value){\r\n\t\t\t\tthis._color=value;\r\n\t\t\t\tthis.updateGear(4);\r\n\t\t\t\tthis.applyColor();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'fill',function(){\r\n\t\t\treturn this._fill;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._fill !=value){\r\n\t\t\t\tthis._fill=value;\r\n\t\t\t\tthis.updateLayout();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'verticalAlign',function(){\r\n\t\t\treturn this._valign;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._valign !=value){\r\n\t\t\t\tthis._valign=value;\r\n\t\t\t\tthis.updateLayout();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'icon',function(){\r\n\t\t\treturn this._url;\r\n\t\t\t},function(value){\r\n\t\t\tthis.url=value;\r\n\t\t});\r\n\r\n\t\t//todo:\r\n\t\t__getset(0,__proto,'showErrorSign',function(){\r\n\t\t\treturn this._showErrorSign;\r\n\t\t\t},function(value){\r\n\t\t\tthis._showErrorSign=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'autoSize',function(){\r\n\t\t\treturn this._autoSize;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._autoSize !=value){\r\n\t\t\t\tthis._autoSize=value;\r\n\t\t\t\tthis.updateLayout();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'playing',function(){\r\n\t\t\treturn this._playing;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._playing !=value){\r\n\t\t\t\tthis._playing=value;\r\n\t\t\t\tif ((this._content instanceof fairygui.display.MovieClip ))\r\n\t\t\t\t\t(this._content).playing=value;\r\n\t\t\t\tthis.updateGear(5);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'content',function(){\r\n\t\t\treturn this._content;\r\n\t\t});\r\n\r\n\t\t__static(GLoader,\r\n\t\t['_errorSignPool',function(){return this._errorSignPool=new GObjectPool();}\r\n\t\t]);\r\n\t\treturn GLoader;\r\n\t})(GObject)\r\n\r\n\r\n\t//class fairygui.GMovieClip extends fairygui.GObject\r\n\tvar GMovieClip=(function(_super){\r\n\t\tfunction GMovieClip(){\r\n\t\t\tthis.movieClip=null;\r\n\t\t\tGMovieClip.__super.call(this);\r\n\t\t\tthis._sizeImplType=1;\r\n\t\t}\r\n\r\n\t\t__class(GMovieClip,'fairygui.GMovieClip',_super);\r\n\t\tvar __proto=GMovieClip.prototype;\r\n\t\tLaya.imps(__proto,{\"fairygui.IAnimationGear\":true,\"fairygui.IColorGear\":true})\r\n\t\t__proto.createDisplayObject=function(){\r\n\t\t\tthis._displayObject=this.movieClip=new MovieClip1();\r\n\t\t\tthis.movieClip.mouseEnabled=false;\r\n\t\t\tthis._displayObject[\"$owner\"]=this;\r\n\t\t}\r\n\r\n\t\t//从start帧开始，播放到end帧（-1表示结尾），重复times次（0表示无限循环），循环结束后，停止在endAt帧（-1表示参数end）\r\n\t\t__proto.setPlaySettings=function(start,end,times,endAt,endHandler){\r\n\t\t\t(start===void 0)&& (start=0);\r\n\t\t\t(end===void 0)&& (end=-1);\r\n\t\t\t(times===void 0)&& (times=0);\r\n\t\t\t(endAt===void 0)&& (endAt=-1);\r\n\t\t\tthis.movieClip.setPlaySettings(start,end,times,endAt,endHandler);\r\n\t\t}\r\n\r\n\t\t__proto.constructFromResource=function(){\r\n\t\t\tthis._sourceWidth=this.packageItem.width;\r\n\t\t\tthis._sourceHeight=this.packageItem.height;\r\n\t\t\tthis._initWidth=this._sourceWidth;\r\n\t\t\tthis._initHeight=this._sourceHeight;\r\n\t\t\tthis.setSize(this._sourceWidth,this._sourceHeight);\r\n\t\t\tthis.packageItem.load();\r\n\t\t\tthis.movieClip.interval=this.packageItem.interval;\r\n\t\t\tthis.movieClip.swing=this.packageItem.swing;\r\n\t\t\tthis.movieClip.repeatDelay=this.packageItem.repeatDelay;\r\n\t\t\tthis.movieClip.frames=this.packageItem.frames;\r\n\t\t\tthis.movieClip.boundsRect=new Rectangle(0,0,this.sourceWidth,this.sourceHeight);\r\n\t\t}\r\n\r\n\t\t__proto.setup_beforeAdd=function(xml){\r\n\t\t\t_super.prototype.setup_beforeAdd.call(this,xml);\r\n\t\t\tvar str;\r\n\t\t\tstr=xml.getAttribute(\"frame\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis.movieClip.currentFrame=parseInt(str);\r\n\t\t\tstr=xml.getAttribute(\"playing\");\r\n\t\t\tthis.movieClip.playing=str !=\"false\";\r\n\t\t\tstr=xml.getAttribute(\"color\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis.color=str;\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'color',function(){\r\n\t\t\treturn \"#FFFFFF\";\r\n\t\t\t},function(value){\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'playing',function(){\r\n\t\t\treturn this.movieClip.playing;\r\n\t\t\t},function(value){\r\n\t\t\tif (this.movieClip.playing !=value){\r\n\t\t\t\tthis.movieClip.playing=value;\r\n\t\t\t\tthis.updateGear(5);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'frame',function(){\r\n\t\t\treturn this.movieClip.currentFrame;\r\n\t\t\t},function(value){\r\n\t\t\tif (this.movieClip.currentFrame !=value){\r\n\t\t\t\tthis.movieClip.currentFrame=value;\r\n\t\t\t\tthis.updateGear(5);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn GMovieClip;\r\n\t})(GObject)\r\n\r\n\r\n\t//class fairygui.GBasicTextField extends fairygui.GTextField\r\n\tvar GBasicTextField=(function(_super){\r\n\t\tvar LineInfo,TextExt;\r\n\t\tfunction GBasicTextField(){\r\n\t\t\tthis.textField=null;\r\n\t\t\tthis._font=null;\r\n\t\t\tthis._color=null;\r\n\t\t\tthis._text=null;\r\n\t\t\tthis._ubbEnabled=false;\r\n\t\t\tthis._singleLine=false;\r\n\t\t\tthis._letterSpacing=0;\r\n\t\t\tthis._autoSize=0;\r\n\t\t\tthis._widthAutoSize=false;\r\n\t\t\tthis._heightAutoSize=false;\r\n\t\t\tthis._updatingSize=false;\r\n\t\t\tthis._textWidth=0;\r\n\t\t\tthis._textHeight=0;\r\n\t\t\tthis._bitmapFont=null;\r\n\t\t\tthis._lines=null;\r\n\t\t\tGBasicTextField.__super.call(this);\r\n\t\t\tthis._text=\"\";\r\n\t\t\tthis._color=\"#000000\";\r\n\t\t\tthis.setAutoSize(1);\r\n\t\t\tthis.textField.align=\"left\";\r\n\t\t\tthis.textField.font=UIConfig1.defaultFont;\r\n\t\t}\r\n\r\n\t\t__class(GBasicTextField,'fairygui.GBasicTextField',_super);\r\n\t\tvar __proto=GBasicTextField.prototype;\r\n\t\t__proto.createDisplayObject=function(){\r\n\t\t\tthis._displayObject=this.textField=new TextExt(this);\r\n\t\t\tthis._displayObject[\"$owner\"]=this;\r\n\t\t\tthis._displayObject.mouseEnabled=false;\r\n\t\t}\r\n\r\n\t\t__proto.setAutoSize=function(value){\r\n\t\t\tthis._autoSize=value;\r\n\t\t\tthis._widthAutoSize=value==1;\r\n\t\t\tthis._heightAutoSize=value==1 || value==2;\r\n\t\t\tthis.textField.wordWrap=!this._widthAutoSize;\r\n\t\t\tif(!this._underConstruct){\r\n\t\t\t\tif(!this._heightAutoSize)\r\n\t\t\t\t\tthis.textField.size(this.width,this.height);\r\n\t\t\t\telse if(!this._widthAutoSize)\r\n\t\t\t\tthis.textField.width=this.width;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.ensureSizeCorrect=function(){\r\n\t\t\tif (!this._underConstruct && this.textField[\"_isChanged\"])\r\n\t\t\t\tthis.textField.typeset();\r\n\t\t}\r\n\r\n\t\t__proto.typeset=function(){\r\n\t\t\tif(this._bitmapFont!=null)\r\n\t\t\t\tthis.renderWithBitmapFont();\r\n\t\t\telse if(this._widthAutoSize || this._heightAutoSize)\r\n\t\t\tthis.updateSize();\r\n\t\t}\r\n\r\n\t\t__proto.updateSize=function(){\r\n\t\t\tthis._textWidth=Math.ceil(this.textField.textWidth);\r\n\t\t\tthis._textHeight=Math.ceil(this.textField.textHeight);\r\n\t\t\tvar w=NaN,h=0;\r\n\t\t\tif(this._widthAutoSize){\r\n\t\t\t\tw=this._textWidth;\r\n\t\t\t\tif(this.textField.width!=w){\r\n\t\t\t\t\tthis.textField.width=w;\r\n\t\t\t\t\tif(this.textField.align!=\"left\")\r\n\t\t\t\t\t\tthis.textField[\"baseTypeset\"]();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tw=this.width;\r\n\t\t\tif(this._heightAutoSize){\r\n\t\t\t\th=this._textHeight;\r\n\t\t\t\tif(!this._widthAutoSize){\r\n\t\t\t\t\tif(this.textField.height!=this._textHeight)\r\n\t\t\t\t\t\tthis.textField.height=this._textHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\th=this.height;\r\n\t\t\t\tif(this._textHeight > h)\r\n\t\t\t\t\tthis._textHeight=h;\r\n\t\t\t\tif(this.textField.height!=this._textHeight)\r\n\t\t\t\t\tthis.textField.height=this._textHeight;\r\n\t\t\t}\r\n\t\t\tthis._updatingSize=true;\r\n\t\t\tthis.setSize(w,h);\r\n\t\t\tthis._updatingSize=false;\r\n\t\t}\r\n\r\n\t\t__proto.renderWithBitmapFont=function(){\r\n\t\t\tvar gr=this._displayObject.graphics;\r\n\t\t\tgr.clear();\r\n\t\t\tif (!this._lines)\r\n\t\t\t\tthis._lines=[];\r\n\t\t\telse\r\n\t\t\tLineInfo.returnList(this._lines);\r\n\t\t\tvar letterSpacing=this.letterSpacing;\r\n\t\t\tvar lineSpacing=this.leading-1;\r\n\t\t\tvar rectWidth=this.width-2 *2;\r\n\t\t\tvar lineWidth=0,lineHeight=0,lineTextHeight=0;\r\n\t\t\tvar glyphWidth=0,glyphHeight=0;\r\n\t\t\tvar wordChars=0,wordStart=0,wordEnd=0;\r\n\t\t\tvar lastLineHeight=0;\r\n\t\t\tvar lineBuffer=\"\";\r\n\t\t\tvar lineY=2;\r\n\t\t\tvar line;\r\n\t\t\tvar wordWrap=!this._widthAutoSize && !this._singleLine;\r\n\t\t\tvar fontScale=this._bitmapFont.resizable?this.fontSize/this._bitmapFont.size:1;\r\n\t\t\tthis._textWidth=0;\r\n\t\t\tthis._textHeight=0;\r\n\t\t\tvar textLength=this._text.length;\r\n\t\t\tfor (var offset=0;offset < textLength;++offset){\r\n\t\t\t\tvar ch=this._text.charAt(offset);\r\n\t\t\t\tvar cc=ch.charCodeAt(offset);\r\n\t\t\t\tif (ch==\"\\n\"){\r\n\t\t\t\t\tlineBuffer+=ch;\r\n\t\t\t\t\tline=LineInfo.borrow();\r\n\t\t\t\t\tline.width=lineWidth;\r\n\t\t\t\t\tif (lineTextHeight==0){\r\n\t\t\t\t\t\tif (lastLineHeight==0)\r\n\t\t\t\t\t\t\tlastLineHeight=Math.ceil(this.fontSize*fontScale);\r\n\t\t\t\t\t\tif (lineHeight==0)\r\n\t\t\t\t\t\t\tlineHeight=lastLineHeight;\r\n\t\t\t\t\t\tlineTextHeight=lineHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tline.height=lineHeight;\r\n\t\t\t\t\tlastLineHeight=lineHeight;\r\n\t\t\t\t\tline.textHeight=lineTextHeight;\r\n\t\t\t\t\tline.text=lineBuffer;\r\n\t\t\t\t\tline.y=lineY;\r\n\t\t\t\t\tlineY+=(line.height+lineSpacing);\r\n\t\t\t\t\tif (line.width > this._textWidth)\r\n\t\t\t\t\t\tthis._textWidth=line.width;\r\n\t\t\t\t\tthis._lines.push(line);\r\n\t\t\t\t\tlineBuffer=\"\";\r\n\t\t\t\t\tlineWidth=0;\r\n\t\t\t\t\tlineHeight=0;\r\n\t\t\t\t\tlineTextHeight=0;\r\n\t\t\t\t\twordChars=0;\r\n\t\t\t\t\twordStart=0;\r\n\t\t\t\t\twordEnd=0;\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\t\tif (cc > 256 || cc <=32){\r\n\t\t\t\t\tif (wordChars > 0)\r\n\t\t\t\t\t\twordEnd=lineWidth;\r\n\t\t\t\t\twordChars=0;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (wordChars==0)\r\n\t\t\t\t\t\twordStart=lineWidth;\r\n\t\t\t\t\twordChars++;\r\n\t\t\t\t}\r\n\t\t\t\tif (ch==\" \"){\r\n\t\t\t\t\tglyphWidth=Math.ceil(this.fontSize / 2);\r\n\t\t\t\t\tglyphHeight=Math.ceil(this.fontSize);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar glyph=this._bitmapFont.glyphs[ch];\r\n\t\t\t\t\tif (glyph){\r\n\t\t\t\t\t\tglyphWidth=Math.ceil(glyph.advance*fontScale);\r\n\t\t\t\t\t\tglyphHeight=Math.ceil(glyph.lineHeight*fontScale);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (ch==\" \"){\r\n\t\t\t\t\t\tglyphWidth=Math.ceil(this._bitmapFont.size*fontScale/2);\r\n\t\t\t\t\t\tglyphHeight=Math.ceil(this._bitmapFont.size*fontScale);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tglyphWidth=0;\r\n\t\t\t\t\t\tglyphHeight=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (glyphHeight > lineTextHeight)\r\n\t\t\t\t\tlineTextHeight=glyphHeight;\r\n\t\t\t\tif (glyphHeight > lineHeight)\r\n\t\t\t\t\tlineHeight=glyphHeight;\r\n\t\t\t\tif (lineWidth !=0)\r\n\t\t\t\t\tlineWidth+=letterSpacing;\r\n\t\t\t\tlineWidth+=glyphWidth;\r\n\t\t\t\tif (!wordWrap || lineWidth <=rectWidth){\r\n\t\t\t\t\tlineBuffer+=ch;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tline=LineInfo.borrow();\r\n\t\t\t\t\tline.height=lineHeight;\r\n\t\t\t\t\tline.textHeight=lineTextHeight;\r\n\t\t\t\t\tif (lineBuffer.length==0){\r\n\t\t\t\t\t\tline.text=ch;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (wordChars > 0 && wordEnd > 0){\r\n\t\t\t\t\t\tlineBuffer+=ch;\r\n\t\t\t\t\t\tvar len=lineBuffer.length-wordChars;\r\n\t\t\t\t\t\tline.text=ToolSet.trimRight(lineBuffer.substr(0,len));\r\n\t\t\t\t\t\tline.width=wordEnd;\r\n\t\t\t\t\t\tlineBuffer=lineBuffer.substr(len+1);\r\n\t\t\t\t\t\tlineWidth-=wordStart;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tline.text=lineBuffer;\r\n\t\t\t\t\t\tline.width=lineWidth-(glyphWidth+letterSpacing);\r\n\t\t\t\t\t\tlineBuffer=ch;\r\n\t\t\t\t\t\tlineWidth=glyphWidth;\r\n\t\t\t\t\t\tlineHeight=glyphHeight;\r\n\t\t\t\t\t\tlineTextHeight=glyphHeight;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tline.y=lineY;\r\n\t\t\t\t\tlineY+=(line.height+lineSpacing);\r\n\t\t\t\t\tif (line.width > this._textWidth)\r\n\t\t\t\t\t\tthis._textWidth=line.width;\r\n\t\t\t\t\twordChars=0;\r\n\t\t\t\t\twordStart=0;\r\n\t\t\t\t\twordEnd=0;\r\n\t\t\t\t\tthis._lines.push(line);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (lineBuffer.length > 0\r\n\t\t\t\t|| this._lines.length > 0 && ToolSet.endsWith(this._lines[this._lines.length-1].text,\"\\n\")){\r\n\t\t\t\tline=LineInfo.borrow();\r\n\t\t\t\tline.width=lineWidth;\r\n\t\t\t\tif (lineHeight==0)\r\n\t\t\t\t\tlineHeight=lastLineHeight;\r\n\t\t\t\tif (lineTextHeight==0)\r\n\t\t\t\t\tlineTextHeight=lineHeight;\r\n\t\t\t\tline.height=lineHeight;\r\n\t\t\t\tline.textHeight=lineTextHeight;\r\n\t\t\t\tline.text=lineBuffer;\r\n\t\t\t\tline.y=lineY;\r\n\t\t\t\tif (line.width > this._textWidth)\r\n\t\t\t\t\tthis._textWidth=line.width;\r\n\t\t\t\tthis._lines.push(line);\r\n\t\t\t}\r\n\t\t\tif (this._textWidth > 0)\r\n\t\t\t\tthis._textWidth+=2 *2;\r\n\t\t\tvar count=this._lines.length;\r\n\t\t\tif (count==0){\r\n\t\t\t\tthis._textHeight=0;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tline=this._lines[this._lines.length-1];\r\n\t\t\t\tthis._textHeight=line.y+line.height+2;\r\n\t\t\t};\r\n\t\t\tvar w=NaN,h=0;\r\n\t\t\tif (this._widthAutoSize){\r\n\t\t\t\tif (this._textWidth==0)\r\n\t\t\t\t\tw=0;\r\n\t\t\t\telse\r\n\t\t\t\tw=this._textWidth;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tw=this.width;\r\n\t\t\tif (this._heightAutoSize){\r\n\t\t\t\tif (this._textHeight==0)\r\n\t\t\t\t\th=0;\r\n\t\t\t\telse\r\n\t\t\t\th=this._textHeight;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\th=this.height;\r\n\t\t\tthis._updatingSize=true;\r\n\t\t\tthis.setSize(w,h);\r\n\t\t\tthis._updatingSize=false;\r\n\t\t\tthis.doAlign();\r\n\t\t\tif (w==0 || h==0)\r\n\t\t\t\treturn;\r\n\t\t\tvar charX=2;\r\n\t\t\tvar lineIndent=0;\r\n\t\t\tvar charIndent=0;\r\n\t\t\trectWidth=this.width-2 *2;\r\n\t\t\tvar lineCount=this._lines.length;\r\n\t\t\tfor (var i=0;i < lineCount;i++){\r\n\t\t\t\tline=this._lines[i];\r\n\t\t\t\tcharX=2;\r\n\t\t\t\tif (this.align==\"center\")\r\n\t\t\t\t\tlineIndent=(rectWidth-line.width)/ 2;\r\n\t\t\t\telse if (this.align==\"right\")\r\n\t\t\t\tlineIndent=rectWidth-line.width;\r\n\t\t\t\telse\r\n\t\t\t\tlineIndent=0;\r\n\t\t\t\ttextLength=line.text.length;\r\n\t\t\t\tfor (var j=0;j < textLength;j++){\r\n\t\t\t\t\tch=line.text.charAt(j);\r\n\t\t\t\t\tglyph=this._bitmapFont.glyphs[ch];\r\n\t\t\t\t\tif (glyph !=null){\r\n\t\t\t\t\t\tcharIndent=(line.height+line.textHeight)/ 2-Math.ceil(glyph.lineHeight*fontScale);\r\n\t\t\t\t\t\tgr.drawTexture(glyph.texture,\r\n\t\t\t\t\t\tcharX+lineIndent+Math.ceil(glyph.offsetX*fontScale),\r\n\t\t\t\t\t\tline.y+charIndent+Math.ceil(glyph.offsetY*fontScale),\r\n\t\t\t\t\t\tglyph.texture.width *fontScale,\r\n\t\t\t\t\t\tglyph.texture.height *fontScale);\r\n\t\t\t\t\t\tcharX+=letterSpacing+Math.ceil(glyph.advance*fontScale);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (ch==\" \"){\r\n\t\t\t\t\t\tcharX+=letterSpacing+Math.ceil(this._bitmapFont.size*fontScale/2);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tcharX+=letterSpacing;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//line loop\r\n\t\t__proto.handleSizeChanged=function(){\r\n\t\t\tif(this._updatingSize)\r\n\t\t\t\treturn;\r\n\t\t\tif(this._underConstruct)\r\n\t\t\t\tthis.textField.size(this.width,this.height);\r\n\t\t\telse{\r\n\t\t\t\tif(this._bitmapFont!=null){\r\n\t\t\t\t\tif(!this._widthAutoSize)\r\n\t\t\t\t\t\tthis.textField[\"setChanged\"]();\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.doAlign();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(!this._widthAutoSize){\r\n\t\t\t\t\t\tif(!this._heightAutoSize)\r\n\t\t\t\t\t\t\tthis.textField.size(this.width,this.height);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.textField.width=this.width;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.handleGrayedChanged=function(){\r\n\t\t\tfairygui.GObject.prototype.handleGrayedChanged.call(this);\r\n\t\t\tif(this.grayed)\r\n\t\t\t\tthis.textField.color=\"#AAAAAA\";\r\n\t\t\telse\r\n\t\t\tthis.textField.color=this._color;\r\n\t\t}\r\n\r\n\t\t__proto.doAlign=function(){\r\n\t\t\tif(this.valign==\"top\" || this._textHeight==0)\r\n\t\t\t\tthis._yOffset=2;\r\n\t\t\telse {\r\n\t\t\t\tvar dh=this.height-this._textHeight;\r\n\t\t\t\tif(dh < 0)\r\n\t\t\t\t\tdh=0;\r\n\t\t\t\tif(this.valign==\"middle\")\r\n\t\t\t\t\tthis._yOffset=Math.floor(dh / 2);\r\n\t\t\t\telse\r\n\t\t\t\tthis._yOffset=Math.floor(dh);\r\n\t\t\t}\r\n\t\t\tthis.handleXYChanged();\r\n\t\t}\r\n\r\n\t\t__proto.setup_beforeAdd=function(xml){\r\n\t\t\t_super.prototype.setup_beforeAdd.call(this,xml);\r\n\t\t\tvar str;\r\n\t\t\tstr=xml.getAttribute(\"autoSize\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis.setAutoSize(AutoSizeType.parse(str));\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'bold',function(){\r\n\t\t\treturn this.textField.bold;\r\n\t\t\t},function(value){\r\n\t\t\tthis.textField.bold=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'letterSpacing',function(){\r\n\t\t\treturn this._letterSpacing;\r\n\t\t\t},function(value){\r\n\t\t\tthis._letterSpacing=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'align',function(){\r\n\t\t\treturn this.textField.align;\r\n\t\t\t},function(value){\r\n\t\t\tthis.textField.align=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'text',function(){\r\n\t\t\treturn this._text;\r\n\t\t\t},function(value){\r\n\t\t\tthis._text=value;\r\n\t\t\tif(this._text==null)\r\n\t\t\t\tthis._text=\"\";\r\n\t\t\tif(this._bitmapFont==null){\r\n\t\t\t\tif(this._widthAutoSize)\r\n\t\t\t\t\tthis.textField.width=10000;\r\n\t\t\t\tif(this._ubbEnabled)\r\n\t\t\t\t\tthis.textField.text=ToolSet.removeUBB(ToolSet.encodeHTML(this._text));\r\n\t\t\t\telse\r\n\t\t\t\tthis.textField.text=this._text;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.textField.text=\"\";\r\n\t\t\t\tthis.textField[\"setChanged\"]();\r\n\t\t\t}\r\n\t\t\tif(this.parent && this.parent._underConstruct)\r\n\t\t\t\tthis.textField.typeset();\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'color',function(){\r\n\t\t\treturn this._color;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._color !=value){\r\n\t\t\t\tthis._color=value;\r\n\t\t\t\tif (this._gearColor.controller)\r\n\t\t\t\t\tthis._gearColor.updateState();\r\n\t\t\t\tif(this.grayed)\r\n\t\t\t\t\tthis.textField.color=\"#AAAAAA\";\r\n\t\t\t\telse\r\n\t\t\t\tthis.textField.color=this._color;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'font',function(){\r\n\t\t\treturn this.textField.font;\r\n\t\t\t},function(value){\r\n\t\t\tthis._font=value;\r\n\t\t\tif(ToolSet.startsWith(this._font,\"ui://\")){\r\n\t\t\t\tthis._bitmapFont=UIPackage.getBitmapFontByURL(this._font);\r\n\t\t\t\tthis.textField[\"setChanged\"]();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis._bitmapFont=null;\r\n\t\t\t\tif(this._font)\r\n\t\t\t\t\tthis.textField.font=this._font;\r\n\t\t\t\telse\r\n\t\t\t\tthis.textField.font=UIConfig1.defaultFont;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'leading',function(){\r\n\t\t\treturn this.textField.leading;\r\n\t\t\t},function(value){\r\n\t\t\tthis.textField.leading=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'fontSize',function(){\r\n\t\t\treturn this.textField.fontSize;\r\n\t\t\t},function(value){\r\n\t\t\tthis.textField.fontSize=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'valign',function(){\r\n\t\t\treturn this.textField.valign;\r\n\t\t\t},function(value){\r\n\t\t\tthis.textField.valign=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'italic',function(){\r\n\t\t\treturn this.textField.italic;\r\n\t\t\t},function(value){\r\n\t\t\tthis.textField.italic=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'underline',function(){\r\n\t\t\treturn this.textField.underline;\r\n\t\t\t},function(value){\r\n\t\t\tthis.textField.underline=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'singleLine',function(){\r\n\t\t\treturn this._singleLine;\r\n\t\t\t},function(value){\r\n\t\t\tthis._singleLine=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'stroke',function(){\r\n\t\t\treturn this.textField.stroke;\r\n\t\t\t},function(value){\r\n\t\t\tthis.textField.stroke=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'strokeColor',function(){\r\n\t\t\treturn this.textField.strokeColor;\r\n\t\t\t},function(value){\r\n\t\t\tthis.textField.strokeColor=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'ubbEnabled',function(){\r\n\t\t\treturn this._ubbEnabled;\r\n\t\t\t},function(value){\r\n\t\t\tthis._ubbEnabled=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'autoSize',function(){\r\n\t\t\treturn this._autoSize;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._autoSize !=value){\r\n\t\t\t\tthis.setAutoSize(value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'textWidth',function(){\r\n\t\t\tif (this.textField[\"_isChanged\"])\r\n\t\t\t\tthis.textField.typeset();\r\n\t\t\treturn this._textWidth;\r\n\t\t});\r\n\r\n\t\tGBasicTextField.GUTTER_X=2;\r\n\t\tGBasicTextField.GUTTER_Y=2;\r\n\t\tGBasicTextField.__init$=function(){\r\n\t\t\t//class LineInfo\r\n\t\t\tLineInfo=(function(){\r\n\t\t\t\tfunction LineInfo(){\r\n\t\t\t\t\tthis.width=0;\r\n\t\t\t\t\tthis.height=0;\r\n\t\t\t\t\tthis.textHeight=0;\r\n\t\t\t\t\tthis.text=null;\r\n\t\t\t\t\tthis.y=0;\r\n\t\t\t\t}\r\n\t\t\t\t__class(LineInfo,'');\r\n\t\t\t\tLineInfo.borrow=function(){\r\n\t\t\t\t\tif (LineInfo.pool.length){\r\n\t\t\t\t\t\tvar ret=LineInfo.pool.pop();\r\n\t\t\t\t\t\tret.width=0;\r\n\t\t\t\t\t\tret.height=0;\r\n\t\t\t\t\t\tret.textHeight=0;\r\n\t\t\t\t\t\tret.text=null;\r\n\t\t\t\t\t\tret.y=0;\r\n\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\treturn new LineInfo();\r\n\t\t\t\t}\r\n\t\t\t\tLineInfo.returns=function(value){\r\n\t\t\t\t\tLineInfo.pool.push(value);\r\n\t\t\t\t}\r\n\t\t\t\tLineInfo.returnList=function(value){\r\n\t\t\t\t\tvar length=value.length;\r\n\t\t\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\t\t\tvar li=value[i];\r\n\t\t\t\t\t\tLineInfo.pool.push(li);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvalue.length=0;\r\n\t\t\t\t}\r\n\t\t\t\tLineInfo.pool=[];\r\n\t\t\t\treturn LineInfo;\r\n\t\t\t})()\r\n\t\t\t//class TextExt extends laya.display.Text\r\n\t\t\tTextExt=(function(_super){\r\n\t\t\t\tfunction TextExt(owner){\r\n\t\t\t\t\tthis._owner=null;\r\n\t\t\t\t\tthis._lock=false;\r\n\t\t\t\t\tTextExt.__super.call(this);\r\n\t\t\t\t\tthis._owner=owner;\r\n\t\t\t\t}\r\n\t\t\t\t__class(TextExt,'',_super);\r\n\t\t\t\tvar __proto=TextExt.prototype;\r\n\t\t\t\t__proto.baseTypeset=function(){\r\n\t\t\t\t\tthis._lock=true;\r\n\t\t\t\t\tthis.typeset();\r\n\t\t\t\t\tthis._lock=false;\r\n\t\t\t\t}\r\n\t\t\t\t__proto.typeset=function(){\r\n\t\t\t\t\t_super.prototype.typeset.call(this);\r\n\t\t\t\t\tif(!this._lock)\r\n\t\t\t\t\t\tthis._owner.typeset();\r\n\t\t\t\t\tif(this._isChanged){\r\n\t\t\t\t\t\tLaya.timer.clear(this,this.typeset);\r\n\t\t\t\t\t\tthis._isChanged=false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t__proto.setChanged=function(){\r\n\t\t\t\t\tthis.isChanged=true;\r\n\t\t\t\t}\r\n\t\t\t\t__getset(0,__proto,'isChanged',null,function(value){\r\n\t\t\t\t\tif (this._isChanged!==value){\r\n\t\t\t\t\t\tif(this._owner.autoSize!=0)\r\n\t\t\t\t\t\t\tthis.event(\"fui_size_delay_change\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_super.prototype._$set_isChanged.call(this,value);\r\n\t\t\t\t});\r\n\t\t\t\treturn TextExt;\r\n\t\t\t})(Text)\r\n\t\t}\r\n\r\n\t\treturn GBasicTextField;\r\n\t})(GTextField)\r\n\r\n\r\n\t//class fairygui.GButton extends fairygui.GComponent\r\n\tvar GButton=(function(_super){\r\n\t\tfunction GButton(){\r\n\t\t\tthis._titleObject=null;\r\n\t\t\tthis._iconObject=null;\r\n\t\t\tthis._relatedController=null;\r\n\t\t\tthis._mode=0;\r\n\t\t\tthis._selected=false;\r\n\t\t\tthis._title=null;\r\n\t\t\tthis._selectedTitle=null;\r\n\t\t\tthis._icon=null;\r\n\t\t\tthis._selectedIcon=null;\r\n\t\t\tthis._sound=null;\r\n\t\t\tthis._soundVolumeScale=0;\r\n\t\t\tthis._pageOption=null;\r\n\t\t\tthis._buttonController=null;\r\n\t\t\tthis._changeStateOnClick=false;\r\n\t\t\tthis._linkedPopup=null;\r\n\t\t\tthis._downEffect=0;\r\n\t\t\tthis._downEffectValue=0;\r\n\t\t\tthis._down=false;\r\n\t\t\tthis._over=false;\r\n\t\t\tGButton.__super.call(this);\r\n\t\t\tthis._mode=0;\r\n\t\t\tthis._title=\"\";\r\n\t\t\tthis._icon=\"\";\r\n\t\t\tthis._sound=UIConfig1.buttonSound;\r\n\t\t\tthis._soundVolumeScale=UIConfig1.buttonSoundVolumeScale;\r\n\t\t\tthis._pageOption=new PageOption();\r\n\t\t\tthis._changeStateOnClick=true;\r\n\t\t\tthis._downEffectValue=0.8;\r\n\t\t}\r\n\r\n\t\t__class(GButton,'fairygui.GButton',_super);\r\n\t\tvar __proto=GButton.prototype;\r\n\t\t__proto.fireClick=function(downEffect){\r\n\t\t\t(downEffect===void 0)&& (downEffect=true);\r\n\t\t\tif (downEffect && this._mode==0){\r\n\t\t\t\tthis.setState(\"over\");\r\n\t\t\t\tLaya.timer.once(100,this,this.setState,[ \"down\"]);\r\n\t\t\t\tLaya.timer.once(200,this,this.setState,[ \"up\"]);\r\n\t\t\t}\r\n\t\t\tthis.__click(Events.createEvent(\"click\",this.displayObject));\r\n\t\t}\r\n\r\n\t\t__proto.setState=function(val){\r\n\t\t\tif (this._buttonController)\r\n\t\t\t\tthis._buttonController.selectedPage=val;\r\n\t\t\tif(this._downEffect==1){\r\n\t\t\t\tvar cnt=this.numChildren;\r\n\t\t\t\tif(val==\"down\" || val==\"selectedOver\" || val==\"selectedDisabled\"){\r\n\t\t\t\t\tvar r=this._downEffectValue *255;\r\n\t\t\t\t\tvar color=Utils.toHexColor((r << 16)+(r << 8)+r);\r\n\t\t\t\t\tfor(var i=0;i < cnt;i++){\r\n\t\t\t\t\t\tvar obj=this.getChildAt(i);\r\n\t\t\t\t\t\tif(((obj instanceof fairygui.GImage ))|| ((obj instanceof fairygui.GLoader ))\r\n\t\t\t\t\t\t\t|| ((obj instanceof fairygui.GMovieClip )))\r\n\t\t\t\t\t\t(obj).color=color;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfor(i=0;i < cnt;i++){\r\n\t\t\t\t\t\tobj=this.getChildAt(i);\r\n\t\t\t\t\t\tif(((obj instanceof fairygui.GImage ))|| ((obj instanceof fairygui.GLoader ))\r\n\t\t\t\t\t\t\t|| ((obj instanceof fairygui.GMovieClip )))\r\n\t\t\t\t\t\t(obj).color=\"#FFFFFF\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if(this._downEffect==2){\r\n\t\t\t\tif(val==\"down\" || val==\"selectedOver\" || val==\"selectedDisabled\")\r\n\t\t\t\t\tthis.setScale(this._downEffectValue,this._downEffectValue);\r\n\t\t\t\telse\r\n\t\t\t\tthis.setScale(1,1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.handleControllerChanged=function(c){\r\n\t\t\tfairygui.GObject.prototype.handleControllerChanged.call(this,c);\r\n\t\t\tif (this._relatedController==c)\r\n\t\t\t\tthis.selected=this._pageOption.id==c.selectedPageId;\r\n\t\t}\r\n\r\n\t\t__proto.handleGrayedChanged=function(){\r\n\t\t\tif(this._buttonController && this._buttonController.hasPage(\"disabled\")){\r\n\t\t\t\tif(this.grayed){\r\n\t\t\t\t\tif(this._selected && this._buttonController.hasPage(\"selectedDisabled\"))\r\n\t\t\t\t\t\tthis.setState(\"selectedDisabled\");\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.setState(\"disabled\");\r\n\t\t\t\t}\r\n\t\t\t\telse if(this._selected)\r\n\t\t\t\tthis.setState(\"down\");\r\n\t\t\t\telse\r\n\t\t\t\tthis.setState(\"up\");\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t_super.prototype.handleGrayedChanged.call(this);\r\n\t\t}\r\n\r\n\t\t__proto.constructFromXML=function(xml){\r\n\t\t\t_super.prototype.constructFromXML.call(this,xml);\r\n\t\t\txml=ToolSet.findChildNode(xml,\"Button\");\r\n\t\t\tvar str;\r\n\t\t\tstr=xml.getAttribute(\"mode\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._mode=ButtonMode.parse(str);\r\n\t\t\tstr=xml.getAttribute(\"sound\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis._sound=str;\r\n\t\t\tstr=xml.getAttribute(\"volume\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis._soundVolumeScale=parseInt(str)/ 100;\r\n\t\t\tstr=xml.getAttribute(\"downEffect\");\r\n\t\t\tif(str){\r\n\t\t\t\tthis._downEffect=str==\"dark\"?1:(str==\"scale\"?2:0);\r\n\t\t\t\tstr=xml.getAttribute(\"downEffectValue\");\r\n\t\t\t\tthis._downEffectValue=parseFloat(str);\r\n\t\t\t}\r\n\t\t\tthis._buttonController=this.getController(\"button\");\r\n\t\t\tthis._titleObject=this.getChild(\"title\");\r\n\t\t\tthis._iconObject=this.getChild(\"icon\");\r\n\t\t\tif (this._titleObject !=null)\r\n\t\t\t\tthis._title=this._titleObject.text;\r\n\t\t\tif (this._iconObject !=null)\r\n\t\t\t\tthis._icon=this._iconObject.icon;\r\n\t\t\tif (this._mode==0)\r\n\t\t\t\tthis.setState(\"up\");\r\n\t\t\tthis.on(\"mouseover\",this,this.__rollover);\r\n\t\t\tthis.on(\"mouseout\",this,this.__rollout);\r\n\t\t\tthis.on(\"mousedown\",this,this.__mousedown);\r\n\t\t\tthis.on(\"click\",this,this.__click);\r\n\t\t}\r\n\r\n\t\t__proto.setup_afterAdd=function(xml){\r\n\t\t\tfairygui.GObject.prototype.setup_afterAdd.call(this,xml);\r\n\t\t\tif(this._downEffect==2)\r\n\t\t\t\tthis.setPivot(0.5,0.5);\r\n\t\t\txml=ToolSet.findChildNode(xml,\"Button\");\r\n\t\t\tif (xml){\r\n\t\t\t\tvar str;\r\n\t\t\t\tstr=xml.getAttribute(\"title\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tthis.title=str;\r\n\t\t\t\tstr=xml.getAttribute(\"icon\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tthis.icon=str;\r\n\t\t\t\tstr=xml.getAttribute(\"selectedTitle\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tthis.selectedTitle=str;\r\n\t\t\t\tstr=xml.getAttribute(\"selectedIcon\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tthis.selectedIcon=str;\r\n\t\t\t\tstr=xml.getAttribute(\"titleColor\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tthis.titleColor=str;\r\n\t\t\t\tstr=xml.getAttribute(\"sound\");\r\n\t\t\t\tif (str!=null)\r\n\t\t\t\t\tthis._sound=str;\r\n\t\t\t\tstr=xml.getAttribute(\"volume\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tthis._soundVolumeScale=parseInt(str)/100;\r\n\t\t\t\tstr=xml.getAttribute(\"controller\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tthis._relatedController=this._parent.getController(str);\r\n\t\t\t\telse\r\n\t\t\t\tthis._relatedController=null;\r\n\t\t\t\tthis._pageOption.id=xml.getAttribute(\"page\");\r\n\t\t\t\tthis.selected=xml.getAttribute(\"checked\")==\"true\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__rollover=function(){\r\n\t\t\tif(!this._buttonController || !this._buttonController.hasPage(\"over\"))\r\n\t\t\t\treturn;\r\n\t\t\tthis._over=true;\r\n\t\t\tif (this._down)\r\n\t\t\t\treturn;\r\n\t\t\tif(this.grayed && this._buttonController.hasPage(\"disabled\"))\r\n\t\t\t\treturn;\r\n\t\t\tthis.setState(this._selected ? \"selectedOver\" :\"over\");\r\n\t\t}\r\n\r\n\t\t__proto.__rollout=function(){\r\n\t\t\tif(!this._buttonController || !this._buttonController.hasPage(\"over\"))\r\n\t\t\t\treturn;\r\n\t\t\tthis._over=false;\r\n\t\t\tif (this._down)\r\n\t\t\t\treturn;\r\n\t\t\tif(this.grayed && this._buttonController.hasPage(\"disabled\"))\r\n\t\t\t\treturn;\r\n\t\t\tthis.setState(this._selected ? \"down\" :\"up\");\r\n\t\t}\r\n\r\n\t\t__proto.__mousedown=function(evt){\r\n\t\t\tthis._down=true;\r\n\t\t\tGRoot.inst.checkPopups(evt.target);\r\n\t\t\tLaya.stage.on(\"mouseup\",this,this.__mouseup);\r\n\t\t\tif(this._mode==0){\r\n\t\t\t\tif(this.grayed && this._buttonController && this._buttonController.hasPage(\"disabled\"))\r\n\t\t\t\t\tthis.setState(\"selectedDisabled\");\r\n\t\t\t\telse\r\n\t\t\t\tthis.setState(\"down\");\r\n\t\t\t}\r\n\t\t\tif (this._linkedPopup !=null){\r\n\t\t\t\tif ((this._linkedPopup instanceof fairygui.Window ))\r\n\t\t\t\t\t(this._linkedPopup).toggleStatus();\r\n\t\t\t\telse\r\n\t\t\t\tthis.root.togglePopup(this._linkedPopup,this);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__mouseup=function(){\r\n\t\t\tif (this._down){\r\n\t\t\t\tLaya.stage.off(\"mouseup\",this,this.__mouseup);\r\n\t\t\t\tthis._down=false;\r\n\t\t\t\tif(this._mode==0){\r\n\t\t\t\t\tif(this.grayed && this._buttonController && this._buttonController.hasPage(\"disabled\"))\r\n\t\t\t\t\t\tthis.setState(\"disabled\");\r\n\t\t\t\t\telse if(this._over)\r\n\t\t\t\t\tthis.setState(\"over\");\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.setState(\"up\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__click=function(evt){\r\n\t\t\tif(this._sound){\r\n\t\t\t\tvar pi=UIPackage.getItemByURL(this._sound);\r\n\t\t\t\tif (pi)\r\n\t\t\t\t\tGRoot.inst.playOneShotSound(pi.owner.getItemAssetURL(pi));\r\n\t\t\t\telse\r\n\t\t\t\tGRoot.inst.playOneShotSound(this._sound);\r\n\t\t\t}\r\n\t\t\tif (!this._changeStateOnClick)\r\n\t\t\t\treturn;\r\n\t\t\tif (this._mode==1){\r\n\t\t\t\tthis.selected=!this._selected;\r\n\t\t\t\tEvents.dispatch(\"fui_state_changed\",this.displayObject,evt);\r\n\t\t\t}\r\n\t\t\telse if (this._mode==2){\r\n\t\t\t\tif (!this._selected){\r\n\t\t\t\t\tthis.selected=true;\r\n\t\t\t\t\tEvents.dispatch(\"fui_state_changed\",this.displayObject,evt);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'relatedController',function(){\r\n\t\t\treturn this._relatedController;\r\n\t\t\t},function(val){\r\n\t\t\tif (val !=this._relatedController){\r\n\t\t\t\tthis._relatedController=val;\r\n\t\t\t\tthis._pageOption.controller=val;\r\n\t\t\t\tthis._pageOption.clear();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'icon',function(){\r\n\t\t\treturn this._icon;\r\n\t\t\t},function(value){\r\n\t\t\tthis._icon=value;\r\n\t\t\tvalue=(this._selected && this._selectedIcon)? this._selectedIcon :this._icon;\r\n\t\t\tif(this._iconObject!=null)\r\n\t\t\t\tthis._iconObject.icon=value;\r\n\t\t\tthis.updateGear(7);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'selectedIcon',function(){\r\n\t\t\treturn this._selectedIcon;\r\n\t\t\t},function(value){\r\n\t\t\tthis._selectedIcon=value;\r\n\t\t\tvalue=(this._selected && this._selectedIcon)? this._selectedIcon :this._icon;\r\n\t\t\tif(this._iconObject!=null)\r\n\t\t\t\tthis._iconObject.icon=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'title',function(){\r\n\t\t\treturn this._title;\r\n\t\t\t},function(value){\r\n\t\t\tthis._title=value;\r\n\t\t\tif (this._titleObject)\r\n\t\t\t\tthis._titleObject.text=(this._selected && this._selectedTitle)? this._selectedTitle :this._title;\r\n\t\t\tthis.updateGear(6);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'text',function(){\r\n\t\t\treturn this.title;\r\n\t\t\t},function(value){\r\n\t\t\tthis.title=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'selectedTitle',function(){\r\n\t\t\treturn this._selectedTitle;\r\n\t\t\t},function(value){\r\n\t\t\tthis._selectedTitle=value;\r\n\t\t\tif (this._titleObject)\r\n\t\t\t\tthis._titleObject.text=(this._selected && this._selectedTitle)? this._selectedTitle :this._title;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'selected',function(){\r\n\t\t\treturn this._selected;\r\n\t\t\t},function(val){\r\n\t\t\tif (this._mode==0)\r\n\t\t\t\treturn;\r\n\t\t\tif (this._selected !=val){\r\n\t\t\t\tthis._selected=val;\r\n\t\t\t\tif(this.grayed && this._buttonController && this._buttonController.hasPage(\"disabled\")){\r\n\t\t\t\t\tif(this._selected)\r\n\t\t\t\t\t\tthis.setState(\"selectedDisabled\");\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.setState(\"disabled\");\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif(this._selected)\r\n\t\t\t\t\t\tthis.setState(this._over ? \"selectedOver\" :\"down\");\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.setState(this._over ? \"over\" :\"up\");\r\n\t\t\t\t}\r\n\t\t\t\tif(this._selectedTitle && this._titleObject)\r\n\t\t\t\t\tthis._titleObject.text=this._selected ? this._selectedTitle :this._title;\r\n\t\t\t\tif(this._selectedIcon){\r\n\t\t\t\t\tvar str=this._selected ? this._selectedIcon :this._icon;\r\n\t\t\t\t\tif(this._iconObject!=null)\r\n\t\t\t\t\t\tthis._iconObject.icon=str;\r\n\t\t\t\t}\r\n\t\t\t\tif(this._relatedController\r\n\t\t\t\t\t&& this._parent\r\n\t\t\t\t&& !this._parent._buildingDisplayList){\r\n\t\t\t\t\tif(this._selected){\r\n\t\t\t\t\t\tthis._relatedController.selectedPageId=this._pageOption.id;\r\n\t\t\t\t\t\tif(this._relatedController._autoRadioGroupDepth)\r\n\t\t\t\t\t\t\tthis._parent.adjustRadioGroupDepth(this,this._relatedController);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(this._mode==1 && this._relatedController.selectedPageId==this._pageOption.id)\r\n\t\t\t\t\tthis._relatedController.oppositePageId=this._pageOption.id;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'soundVolumeScale',function(){\r\n\t\t\treturn this._soundVolumeScale;\r\n\t\t\t},function(value){\r\n\t\t\tthis._soundVolumeScale=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'sound',function(){\r\n\t\t\treturn this._sound;\r\n\t\t\t},function(val){\r\n\t\t\tthis._sound=val;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'titleColor',function(){\r\n\t\t\tif((this._titleObject instanceof fairygui.GTextField ))\r\n\t\t\t\treturn (this._titleObject).color;\r\n\t\t\telse if((this._titleObject instanceof fairygui.GLabel ))\r\n\t\t\treturn (this._titleObject).titleColor;\r\n\t\t\telse if((this._titleObject instanceof fairygui.GButton ))\r\n\t\t\treturn (this._titleObject).titleColor;\r\n\t\t\telse\r\n\t\t\treturn \"#000000\";\r\n\t\t\t},function(value){\r\n\t\t\tif((this._titleObject instanceof fairygui.GTextField ))\r\n\t\t\t\t(this._titleObject).color=value;\r\n\t\t\telse if((this._titleObject instanceof fairygui.GLabel ))\r\n\t\t\t(this._titleObject).titleColor=value;\r\n\t\t\telse if((this._titleObject instanceof fairygui.GButton ))\r\n\t\t\t(this._titleObject).titleColor=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'mode',function(){\r\n\t\t\treturn this._mode;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._mode !=value){\r\n\t\t\t\tif (value==0)\r\n\t\t\t\t\tthis.selected=false;\r\n\t\t\t\tthis._mode=value;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'pageOption',function(){\r\n\t\t\treturn this._pageOption;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'changeStateOnClick',function(){\r\n\t\t\treturn this._changeStateOnClick;\r\n\t\t\t},function(value){\r\n\t\t\tthis._changeStateOnClick=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'linkedPopup',function(){\r\n\t\t\treturn this._linkedPopup;\r\n\t\t\t},function(value){\r\n\t\t\tthis._linkedPopup=value;\r\n\t\t});\r\n\r\n\t\tGButton.UP=\"up\";\r\n\t\tGButton.DOWN=\"down\";\r\n\t\tGButton.OVER=\"over\";\r\n\t\tGButton.SELECTED_OVER=\"selectedOver\";\r\n\t\tGButton.DISABLED=\"disabled\";\r\n\t\tGButton.SELECTED_DISABLED=\"selectedDisabled\";\r\n\t\treturn GButton;\r\n\t})(GComponent)\r\n\r\n\r\n\t//class fairygui.GComboBox extends fairygui.GComponent\r\n\tvar GComboBox=(function(_super){\r\n\t\tfunction GComboBox(){\r\n\t\t\tthis.dropdown=null;\r\n\t\t\tthis._titleObject=null;\r\n\t\t\tthis._iconObject=null;\r\n\t\t\tthis._list=null;\r\n\t\t\tthis._items=null;\r\n\t\t\tthis._icons=null;\r\n\t\t\tthis._values=null;\r\n\t\t\tthis._popupDownward=null;\r\n\t\t\tthis._visibleItemCount=0;\r\n\t\t\tthis._itemsUpdated=false;\r\n\t\t\tthis._selectedIndex=0;\r\n\t\t\tthis._buttonController=null;\r\n\t\t\tthis._down=false;\r\n\t\t\tthis._over=false;\r\n\t\t\tGComboBox.__super.call(this);\r\n\t\t\tthis._visibleItemCount=UIConfig1.defaultComboBoxVisibleItemCount;\r\n\t\t\tthis._itemsUpdated=true;\r\n\t\t\tthis._selectedIndex=-1;\r\n\t\t\tthis._items=[];\r\n\t\t\tthis._values=[];\r\n\t\t}\r\n\r\n\t\t__class(GComboBox,'fairygui.GComboBox',_super);\r\n\t\tvar __proto=GComboBox.prototype;\r\n\t\t__proto.setState=function(val){\r\n\t\t\tif (this._buttonController)\r\n\t\t\t\tthis._buttonController.selectedPage=val;\r\n\t\t}\r\n\r\n\t\t__proto.dispose=function(){\r\n\t\t\tif(this.dropdown){\r\n\t\t\t\tthis.dropdown.dispose();\r\n\t\t\t\tthis.dropdown=null;\r\n\t\t\t}\r\n\t\t\t_super.prototype.dispose.call(this);\r\n\t\t}\r\n\r\n\t\t__proto.constructFromXML=function(xml){\r\n\t\t\t_super.prototype.constructFromXML.call(this,xml);\r\n\t\t\txml=ToolSet.findChildNode(xml,\"ComboBox\");\r\n\t\t\tvar str;\r\n\t\t\tthis._buttonController=this.getController(\"button\");\r\n\t\t\tthis._titleObject=this.getChild(\"title\");\r\n\t\t\tthis._iconObject=this.getChild(\"icon\");\r\n\t\t\tstr=xml.getAttribute(\"dropdown\");\r\n\t\t\tif (str){\r\n\t\t\t\tthis.dropdown=(UIPackage.createObjectFromURL(str));\r\n\t\t\t\tif (!this.dropdown){\r\n\t\t\t\t\tLog.print(\"下拉框必须为元件\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.dropdown.name=\"this._dropdownObject\";\r\n\t\t\t\tthis._list=this.dropdown.getChild(\"list\").asList;\r\n\t\t\t\tif (this._list==null){\r\n\t\t\t\t\tLog.print(this.resourceURL+\": 下拉框的弹出元件里必须包含名为list的列表\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis._list.on(\"fui_click_item\",this,this.__clickItem);\r\n\t\t\t\tthis._list.addRelation(this.dropdown,14);\r\n\t\t\t\tthis._list.removeRelation(this.dropdown,15);\r\n\t\t\t\tthis.dropdown.addRelation(this._list,15);\r\n\t\t\t\tthis.dropdown.removeRelation(this._list,14);\r\n\t\t\t\tthis.dropdown.displayObject.on(\"undisplay\",this,this.__popupWinClosed);\r\n\t\t\t}\r\n\t\t\tthis.on(\"mouseover\",this,this.__rollover);\r\n\t\t\tthis.on(\"mouseout\",this,this.__rollout);\r\n\t\t\tthis.on(\"mousedown\",this,this.__mousedown);\r\n\t\t}\r\n\r\n\t\t__proto.setup_afterAdd=function(xml){\r\n\t\t\tfairygui.GObject.prototype.setup_afterAdd.call(this,xml);\r\n\t\t\txml=ToolSet.findChildNode(xml,\"ComboBox\");\r\n\t\t\tif (xml){\r\n\t\t\t\tvar str;\r\n\t\t\t\tstr=xml.getAttribute(\"titleColor\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tthis.titleColor=str;\r\n\t\t\t\tstr=xml.getAttribute(\"visibleItemCount\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tthis._visibleItemCount=parseInt(str);\r\n\t\t\t\tvar col=xml.childNodes;\r\n\t\t\t\tvar length=col.length;\r\n\t\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\t\tvar cxml=col[i];\r\n\t\t\t\t\tif(cxml.nodeName==\"item\"){\r\n\t\t\t\t\t\tthis._items.push(cxml.getAttribute(\"title\"));\r\n\t\t\t\t\t\tthis._values.push(cxml.getAttribute(\"value\"));\r\n\t\t\t\t\t\tstr=cxml.getAttribute(\"icon\");\r\n\t\t\t\t\t\tif (str){\r\n\t\t\t\t\t\t\tif(!this._icons)\r\n\t\t\t\t\t\t\t\tthis._icons=new Array(length);\r\n\t\t\t\t\t\t\tthis._icons[i]=str;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tstr=xml.getAttribute(\"title\");\r\n\t\t\t\tif(str){\r\n\t\t\t\t\tthis.text=str;\r\n\t\t\t\t\tthis._selectedIndex=this._items.indexOf(str);\r\n\t\t\t\t}\r\n\t\t\t\telse if(this._items.length>0){\r\n\t\t\t\t\tthis._selectedIndex=0;\r\n\t\t\t\t\tthis.text=this._items[0];\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\tthis._selectedIndex=-1;\r\n\t\t\t\tstr=xml.getAttribute(\"icon\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tthis.icon=str;\r\n\t\t\t\tstr=xml.getAttribute(\"direction\");\r\n\t\t\t\tif(str){\r\n\t\t\t\t\tif(str==\"up\")\r\n\t\t\t\t\t\tthis._popupDownward=false;\r\n\t\t\t\t\telse if(str==\"auto\")\r\n\t\t\t\t\tthis._popupDownward=null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.showDropdown=function(){\r\n\t\t\tif (this._itemsUpdated){\r\n\t\t\t\tthis._itemsUpdated=false;\r\n\t\t\t\tthis._list.removeChildrenToPool();\r\n\t\t\t\tvar cnt=this._items.length;\r\n\t\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\t\tvar item=this._list.addItemFromPool();\r\n\t\t\t\t\titem.name=i < this._values.length ? this._values[i] :\"\";\r\n\t\t\t\t\titem.text=this._items[i];\r\n\t\t\t\t\titem.icon=(this._icons !=null && i < this._icons.length)? this._icons[i] :null;\r\n\t\t\t\t}\r\n\t\t\t\tthis._list.resizeToFit(this._visibleItemCount);\r\n\t\t\t}\r\n\t\t\tthis._list.selectedIndex=-1;\r\n\t\t\tthis.dropdown.width=this.width;\r\n\t\t\tthis.root.togglePopup(this.dropdown,this,this._popupDownward);\r\n\t\t\tif (this.dropdown.parent)\r\n\t\t\t\tthis.setState(\"down\");\r\n\t\t}\r\n\r\n\t\t__proto.__popupWinClosed=function(){\r\n\t\t\tif(this._over)\r\n\t\t\t\tthis.setState(\"over\");\r\n\t\t\telse\r\n\t\t\tthis.setState(\"up\");\r\n\t\t}\r\n\r\n\t\t__proto.__clickItem=function(itemObject,evt){\r\n\t\t\tLaya.timer.callLater(this,this.__clickItem2,[this._list.getChildIndex(itemObject),evt])\r\n\t\t}\r\n\r\n\t\t__proto.__clickItem2=function(index,evt){\r\n\t\t\tif ((this.dropdown.parent instanceof fairygui.GRoot ))\r\n\t\t\t\t(this.dropdown.parent).hidePopup();\r\n\t\t\tthis._selectedIndex=-1;\r\n\t\t\tthis.selectedIndex=index;\r\n\t\t\tEvents.dispatch(\"fui_state_changed\",this.displayObject,evt);\r\n\t\t}\r\n\r\n\t\t__proto.__rollover=function(){\r\n\t\t\tthis._over=true;\r\n\t\t\tif (this._down || this.dropdown && this.dropdown.parent)\r\n\t\t\t\treturn;\r\n\t\t\tthis.setState(\"over\");\r\n\t\t}\r\n\r\n\t\t__proto.__rollout=function(){\r\n\t\t\tthis._over=false;\r\n\t\t\tif (this._down || this.dropdown && this.dropdown.parent)\r\n\t\t\t\treturn;\r\n\t\t\tthis.setState(\"up\");\r\n\t\t}\r\n\r\n\t\t__proto.__mousedown=function(evt){\r\n\t\t\tif((evt.target instanceof laya.display.Input ))\r\n\t\t\t\treturn;\r\n\t\t\tthis._down=true;\r\n\t\t\tGRoot.inst.checkPopups(evt.target);\r\n\t\t\tLaya.stage.on(\"mouseup\",this,this.__mouseup);\r\n\t\t\tif (this.dropdown)\r\n\t\t\t\tthis.showDropdown();\r\n\t\t}\r\n\r\n\t\t__proto.__mouseup=function(){\r\n\t\t\tif(this._down){\r\n\t\t\t\tthis._down=false;\r\n\t\t\t\tLaya.stage.off(\"mouseup\",this,this.__mouseup);\r\n\t\t\t\tif(this.dropdown && !this.dropdown.parent){\r\n\t\t\t\t\tif(this._over)\r\n\t\t\t\t\t\tthis.setState(\"over\");\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.setState(\"up\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'text',function(){\r\n\t\t\tif (this._titleObject)\r\n\t\t\t\treturn this._titleObject.text;\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._titleObject)\r\n\t\t\t\tthis._titleObject.text=value;\r\n\t\t\tthis.updateGear(6);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'titleColor',function(){\r\n\t\t\tif((this._titleObject instanceof fairygui.GTextField ))\r\n\t\t\t\treturn (this._titleObject).color;\r\n\t\t\telse if((this._titleObject instanceof fairygui.GLabel ))\r\n\t\t\treturn (this._titleObject).titleColor;\r\n\t\t\telse if((this._titleObject instanceof fairygui.GButton ))\r\n\t\t\treturn (this._titleObject).titleColor;\r\n\t\t\telse\r\n\t\t\treturn \"#000000\";\r\n\t\t\t},function(value){\r\n\t\t\tif((this._titleObject instanceof fairygui.GTextField ))\r\n\t\t\t\t(this._titleObject).color=value;\r\n\t\t\telse if((this._titleObject instanceof fairygui.GLabel ))\r\n\t\t\t(this._titleObject).titleColor=value;\r\n\t\t\telse if((this._titleObject instanceof fairygui.GButton ))\r\n\t\t\t(this._titleObject).titleColor=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'selectedIndex',function(){\r\n\t\t\treturn this._selectedIndex;\r\n\t\t\t},function(val){\r\n\t\t\tif(this._selectedIndex==val)\r\n\t\t\t\treturn;\r\n\t\t\tthis._selectedIndex=val;\r\n\t\t\tif(this._selectedIndex>=0 && this._selectedIndex<this._items.length){\r\n\t\t\t\tthis.text=this._items[this._selectedIndex];\r\n\t\t\t\tif (this._icons !=null && this._selectedIndex < this._icons.length)\r\n\t\t\t\t\tthis.icon=this._icons[this._selectedIndex];\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.text=\"\";\r\n\t\t\t\tif (this._icons !=null)\r\n\t\t\t\t\tthis.icon=null;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'icon',function(){\r\n\t\t\tif(this._iconObject)\r\n\t\t\t\treturn this._iconObject.icon;\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._iconObject)\r\n\t\t\t\tthis._iconObject.icon=value;\r\n\t\t\tthis.updateGear(7);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'icons',function(){\r\n\t\t\treturn this._icons;\r\n\t\t\t},function(value){\r\n\t\t\tthis._icons=value;\r\n\t\t\tif (this._icons !=null && this._selectedIndex !=-1 && this._selectedIndex < this._icons.length)\r\n\t\t\t\tthis.icon=this._icons[this._selectedIndex];\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'visibleItemCount',function(){\r\n\t\t\treturn this._visibleItemCount;\r\n\t\t\t},function(value){\r\n\t\t\tthis._visibleItemCount=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'popupDownward',function(){\r\n\t\t\treturn this._popupDownward;\r\n\t\t\t},function(value){\r\n\t\t\tthis._popupDownward=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'values',function(){\r\n\t\t\treturn this._values;\r\n\t\t\t},function(value){\r\n\t\t\tif (!value)\r\n\t\t\t\tthis._values.length=0;\r\n\t\t\telse\r\n\t\t\tthis._values=value.concat();\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'items',function(){\r\n\t\t\treturn this._items;\r\n\t\t\t},function(value){\r\n\t\t\tif(!value)\r\n\t\t\t\tthis._items.length=0;\r\n\t\t\telse\r\n\t\t\tthis._items=value.concat();\r\n\t\t\tif(this._items.length>0){\r\n\t\t\t\tif(this._selectedIndex>=this._items.length)\r\n\t\t\t\t\tthis._selectedIndex=this._items.length-1;\r\n\t\t\t\telse if(this._selectedIndex==-1)\r\n\t\t\t\tthis._selectedIndex=0;\r\n\t\t\t\tthis.text=this._items[this._selectedIndex];\r\n\t\t\t\tif (this._icons !=null && this._selectedIndex < this._icons.length)\r\n\t\t\t\t\tthis.icon=this._icons[this._selectedIndex];\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis.text=\"\";\r\n\t\t\t\tif (this._icons !=null)\r\n\t\t\t\t\tthis.icon=null;\r\n\t\t\t\tthis._selectedIndex=-1;\r\n\t\t\t}\r\n\t\t\tthis._itemsUpdated=true;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'value',function(){\r\n\t\t\treturn this._values[this._selectedIndex];\r\n\t\t\t},function(val){\r\n\t\t\tthis.selectedIndex=this._values.indexOf(val);\r\n\t\t});\r\n\r\n\t\treturn GComboBox;\r\n\t})(GComponent)\r\n\r\n\r\n\t//class fairygui.GLabel extends fairygui.GComponent\r\n\tvar GLabel=(function(_super){\r\n\t\tfunction GLabel(){\r\n\t\t\tthis._titleObject=null;\r\n\t\t\tthis._iconObject=null;\r\n\t\t\tGLabel.__super.call(this);\r\n\t\t}\r\n\r\n\t\t__class(GLabel,'fairygui.GLabel',_super);\r\n\t\tvar __proto=GLabel.prototype;\r\n\t\t__proto.constructFromXML=function(xml){\r\n\t\t\t_super.prototype.constructFromXML.call(this,xml);\r\n\t\t\tthis._titleObject=this.getChild(\"title\");\r\n\t\t\tthis._iconObject=this.getChild(\"icon\");\r\n\t\t}\r\n\r\n\t\t__proto.setup_afterAdd=function(xml){\r\n\t\t\tfairygui.GObject.prototype.setup_afterAdd.call(this,xml);\r\n\t\t\txml=ToolSet.findChildNode(xml,\"Label\");\r\n\t\t\tif (xml){\r\n\t\t\t\tvar str;\r\n\t\t\t\tstr=xml.getAttribute(\"title\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tthis.text=str;\r\n\t\t\t\tstr=xml.getAttribute(\"icon\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tthis.icon=str;\r\n\t\t\t\tstr=xml.getAttribute(\"titleColor\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tthis.titleColor=str;\r\n\t\t\t\tif((this._titleObject instanceof fairygui.GTextInput )){\r\n\t\t\t\t\tstr=xml.getAttribute(\"prompt\");\r\n\t\t\t\t\tif(str)\r\n\t\t\t\t\t\t(this._titleObject).promptText=str;\r\n\t\t\t\t\tstr=xml.getAttribute(\"maxLength\");\r\n\t\t\t\t\tif(str)\r\n\t\t\t\t\t\t(this._titleObject).maxLength=parseInt(str);\r\n\t\t\t\t\tstr=xml.getAttribute(\"restrict\");\r\n\t\t\t\t\tif(str)\r\n\t\t\t\t\t\t(this._titleObject).restrict=str;\r\n\t\t\t\t\tstr=xml.getAttribute(\"password\");\r\n\t\t\t\t\tif(str)\r\n\t\t\t\t\t\t(this._titleObject).password=str==\"true\";\r\n\t\t\t\t\tstr=xml.getAttribute(\"keyboardType\");\r\n\t\t\t\t\tif(str==\"4\")\r\n\t\t\t\t\t\t(this._titleObject).keyboardType=\"number\";\r\n\t\t\t\t\telse if(str==\"3\")\r\n\t\t\t\t\t(this._titleObject).keyboardType=\"url\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'icon',function(){\r\n\t\t\tif(this._iconObject!=null)\r\n\t\t\t\treturn this._iconObject.icon;\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._iconObject!=null)\r\n\t\t\t\tthis._iconObject.icon=value;\r\n\t\t\tthis.updateGear(7);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'editable',function(){\r\n\t\t\tif (this._titleObject && ((this._titleObject instanceof fairygui.GTextInput )))\r\n\t\t\t\treturn this._titleObject.asTextInput.editable;\r\n\t\t\telse\r\n\t\t\treturn false;\r\n\t\t\t},function(val){\r\n\t\t\tif (this._titleObject)\r\n\t\t\t\tthis._titleObject.asTextInput.editable=val;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'title',function(){\r\n\t\t\tif (this._titleObject)\r\n\t\t\t\treturn this._titleObject.text;\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._titleObject)\r\n\t\t\t\tthis._titleObject.text=value;\r\n\t\t\tthis.updateGear(6);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'text',function(){\r\n\t\t\treturn this.title;\r\n\t\t\t},function(value){\r\n\t\t\tthis.title=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'titleColor',function(){\r\n\t\t\tif((this._titleObject instanceof fairygui.GTextField ))\r\n\t\t\t\treturn (this._titleObject).color;\r\n\t\t\telse if((this._titleObject instanceof fairygui.GLabel ))\r\n\t\t\treturn (this._titleObject).titleColor;\r\n\t\t\telse if((this._titleObject instanceof fairygui.GButton ))\r\n\t\t\treturn (this._titleObject).titleColor;\r\n\t\t\telse\r\n\t\t\treturn \"#000000\";\r\n\t\t\t},function(value){\r\n\t\t\tif((this._titleObject instanceof fairygui.GTextField ))\r\n\t\t\t\t(this._titleObject).color=value;\r\n\t\t\telse if((this._titleObject instanceof fairygui.GLabel ))\r\n\t\t\t(this._titleObject).titleColor=value;\r\n\t\t\telse if((this._titleObject instanceof fairygui.GButton ))\r\n\t\t\t(this._titleObject).titleColor=value;\r\n\t\t});\r\n\r\n\t\treturn GLabel;\r\n\t})(GComponent)\r\n\r\n\r\n\t//class fairygui.GList extends fairygui.GComponent\r\n\tvar GList=(function(_super){\r\n\t\tvar ItemInfo;\r\n\t\tfunction GList(){\r\n\t\t\tthis.itemRenderer=null;\r\n\t\t\tthis.itemProvider=null;\r\n\t\t\tthis.scrollItemToViewOnClick=false;\r\n\t\t\tthis.foldInvisibleItems=false;\r\n\t\t\tthis._layout=0;\r\n\t\t\tthis._lineItemCount=0;\r\n\t\t\tthis._lineGap=0;\r\n\t\t\tthis._columnGap=0;\r\n\t\t\tthis._defaultItem=null;\r\n\t\t\tthis._autoResizeItem=false;\r\n\t\t\tthis._selectionMode=0;\r\n\t\t\tthis._align=null;\r\n\t\t\tthis._verticalAlign=null;\r\n\t\t\tthis._lastSelectedIndex=0;\r\n\t\t\tthis._pool=null;\r\n\t\t\tthis._virtual=false;\r\n\t\t\tthis._loop=false;\r\n\t\t\tthis._numItems=0;\r\n\t\t\tthis._realNumItems=0;\r\n\t\t\tthis._firstIndex=0;\r\n\t\t\tthis._curLineItemCount=0;\r\n\t\t\tthis._curLineItemCount2=0;\r\n\t\t\tthis._itemSize=null;\r\n\t\t\tthis._virtualListChanged=0;\r\n\t\t\tthis._virtualItems=null;\r\n\t\t\tthis._eventLocked=false;\r\n\t\t\tGList.__super.call(this);\r\n\t\t\tthis._trackBounds=true;\r\n\t\t\tthis._pool=new GObjectPool();\r\n\t\t\tthis._layout=0;\r\n\t\t\tthis._autoResizeItem=true;\r\n\t\t\tthis._lastSelectedIndex=-1;\r\n\t\t\tthis._selectionMode=0;\r\n\t\t\tthis.opaque=true;\r\n\t\t\tthis.scrollItemToViewOnClick=true;\r\n\t\t\tthis._align=\"left\";\r\n\t\t\tthis._verticalAlign=\"top\";\r\n\t\t\tthis._container=new Sprite();\r\n\t\t\tthis._displayObject.addChild(this._container);\r\n\t\t}\r\n\r\n\t\t__class(GList,'fairygui.GList',_super);\r\n\t\tvar __proto=GList.prototype;\r\n\t\t__proto.dispose=function(){\r\n\t\t\tthis._pool.clear();\r\n\t\t\t_super.prototype.dispose.call(this);\r\n\t\t}\r\n\r\n\t\t__proto.getFromPool=function(url){\r\n\t\t\tif (!url)\r\n\t\t\t\turl=this._defaultItem;\r\n\t\t\tvar obj=this._pool.getObject(url);\r\n\t\t\tif(obj!=null)\r\n\t\t\t\tobj.visible=true;\r\n\t\t\treturn obj;\r\n\t\t}\r\n\r\n\t\t__proto.returnToPool=function(obj){\r\n\t\t\tobj.displayObject.cacheAsBitmap=false;\r\n\t\t\tthis._pool.returnObject(obj);\r\n\t\t}\r\n\r\n\t\t__proto.addChildAt=function(child,index){\r\n\t\t\t(index===void 0)&& (index=0);\r\n\t\t\tif (this._autoResizeItem){\r\n\t\t\t\tif (this._layout==0)\r\n\t\t\t\t\tchild.width=this.viewWidth;\r\n\t\t\t\telse if (this._layout==1)\r\n\t\t\t\tchild.height=this.viewHeight;\r\n\t\t\t}\r\n\t\t\t_super.prototype.addChildAt.call(this,child,index);\r\n\t\t\tif ((child instanceof fairygui.GButton )){\r\n\t\t\t\tvar button=(child);\r\n\t\t\t\tbutton.selected=false;\r\n\t\t\t\tbutton.changeStateOnClick=false;\r\n\t\t\t}\r\n\t\t\tchild.on(\"click\",this,this.__clickItem);\r\n\t\t\treturn child;\r\n\t\t}\r\n\r\n\t\t__proto.addItem=function(url){\r\n\t\t\tif (!url)\r\n\t\t\t\turl=this._defaultItem;\r\n\t\t\treturn this.addChild(UIPackage.createObjectFromURL(url));\r\n\t\t}\r\n\r\n\t\t__proto.addItemFromPool=function(url){\r\n\t\t\treturn this.addChild(this.getFromPool(url));\r\n\t\t}\r\n\r\n\t\t__proto.removeChildAt=function(index,dispose){\r\n\t\t\t(dispose===void 0)&& (dispose=false);\r\n\t\t\tvar child=_super.prototype.removeChildAt.call(this,index,dispose);\r\n\t\t\tchild.off(\"click\",this,this.__clickItem);\r\n\t\t\treturn child;\r\n\t\t}\r\n\r\n\t\t__proto.removeChildToPoolAt=function(index){\r\n\t\t\t(index===void 0)&& (index=0);\r\n\t\t\tvar child=_super.prototype.removeChildAt.call(this,index);\r\n\t\t\tthis.returnToPool(child);\r\n\t\t}\r\n\r\n\t\t__proto.removeChildToPool=function(child){\r\n\t\t\tthis.removeChild(child);\r\n\t\t\tthis.returnToPool(child);\r\n\t\t}\r\n\r\n\t\t__proto.removeChildrenToPool=function(beginIndex,endIndex){\r\n\t\t\t(beginIndex===void 0)&& (beginIndex=0);\r\n\t\t\t(endIndex===void 0)&& (endIndex=-1);\r\n\t\t\tif (endIndex < 0 || endIndex >=this._children.length)\r\n\t\t\t\tendIndex=this._children.length-1;\r\n\t\t\tfor (var i=beginIndex;i <=endIndex;++i)\r\n\t\t\tthis.removeChildToPoolAt(beginIndex);\r\n\t\t}\r\n\r\n\t\t__proto.getSelection=function(){\r\n\t\t\tvar ret=[];\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\tvar obj=this._children[i];\r\n\t\t\t\tif (((obj instanceof fairygui.GButton ))&& (obj).selected)\r\n\t\t\t\t\tret.push(this.childIndexToItemIndex(i));\r\n\t\t\t}\r\n\t\t\treturn ret;\r\n\t\t}\r\n\r\n\t\t__proto.addSelection=function(index,scrollItToView){\r\n\t\t\t(scrollItToView===void 0)&& (scrollItToView=false);\r\n\t\t\tif (this._selectionMode==3)\r\n\t\t\t\treturn;\r\n\t\t\tthis.checkVirtualList();\r\n\t\t\tif (this._selectionMode==0)\r\n\t\t\t\tthis.clearSelection();\r\n\t\t\tif(scrollItToView)\r\n\t\t\t\tthis.scrollToView(index);\r\n\t\t\tindex=this.itemIndexToChildIndex(index);\r\n\t\t\tif(index<0 || index >=this._children.length)\r\n\t\t\t\treturn;\r\n\t\t\tvar obj=this.getChildAt(index);\r\n\t\t\tif (((obj instanceof fairygui.GButton ))&& !(obj).selected)\r\n\t\t\t\t(obj).selected=true;\r\n\t\t}\r\n\r\n\t\t__proto.removeSelection=function(index){\r\n\t\t\t(index===void 0)&& (index=0);\r\n\t\t\tif (this._selectionMode==3)\r\n\t\t\t\treturn;\r\n\t\t\tindex=this.itemIndexToChildIndex(index);\r\n\t\t\tif(index >=this._children.length)\r\n\t\t\t\treturn;\r\n\t\t\tvar obj=this.getChildAt(index);\r\n\t\t\tif (((obj instanceof fairygui.GButton ))&& (obj).selected)\r\n\t\t\t\t(obj).selected=false;\r\n\t\t}\r\n\r\n\t\t__proto.clearSelection=function(){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\tvar obj=this._children[i];\r\n\t\t\t\tif ((obj instanceof fairygui.GButton ))\r\n\t\t\t\t\t(obj).selected=false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.selectAll=function(){\r\n\t\t\tthis.checkVirtualList();\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\tvar obj=this._children[i];\r\n\t\t\t\tif ((obj instanceof fairygui.GButton ))\r\n\t\t\t\t\t(obj).selected=true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.selectNone=function(){\r\n\t\t\tthis.checkVirtualList();\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\tvar obj=this._children[i];\r\n\t\t\t\tif ((obj instanceof fairygui.GButton ))\r\n\t\t\t\t\t(obj).selected=false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.selectReverse=function(){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\tvar obj=this._children[i];\r\n\t\t\t\tif ((obj instanceof fairygui.GButton ))\r\n\t\t\t\t\t(obj).selected=!(obj).selected;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.handleArrowKey=function(dir){\r\n\t\t\t(dir===void 0)&& (dir=0);\r\n\t\t\tvar index=this.selectedIndex;\r\n\t\t\tif (index==-1)\r\n\t\t\t\treturn;\r\n\t\t\tswitch (dir){\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tif (this._layout==0 || this._layout==3){\r\n\t\t\t\t\t\tindex--;\r\n\t\t\t\t\t\tif (index >=0){\r\n\t\t\t\t\t\t\tthis.clearSelection();\r\n\t\t\t\t\t\t\tthis.addSelection(index,true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this._layout==2 || this._layout==4){\r\n\t\t\t\t\t\tvar current=this._children[index];\r\n\t\t\t\t\t\tvar k=0;\r\n\t\t\t\t\t\tfor (var i=index-1;i >=0;i--){\r\n\t\t\t\t\t\t\tvar obj=this._children[i];\r\n\t\t\t\t\t\t\tif (obj.y !=current.y){\r\n\t\t\t\t\t\t\t\tcurrent=obj;\r\n\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tk++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (;i >=0;i--){\r\n\t\t\t\t\t\t\tobj=this._children[i];\r\n\t\t\t\t\t\t\tif (obj.y !=current.y){\r\n\t\t\t\t\t\t\t\tthis.clearSelection();\r\n\t\t\t\t\t\t\t\tthis.addSelection(i+k+1,true);\r\n\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tif (this._layout==1 || this._layout==2 || this._layout==4){\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\tif (index < this._children.length){\r\n\t\t\t\t\t\t\tthis.clearSelection();\r\n\t\t\t\t\t\t\tthis.addSelection(index,true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this._layout==3){\r\n\t\t\t\t\t\tcurrent=this._children[index];\r\n\t\t\t\t\t\tk=0;\r\n\t\t\t\t\t\tvar cnt=this._children.length;\r\n\t\t\t\t\t\tfor (i=index+1;i < cnt;i++){\r\n\t\t\t\t\t\t\tobj=this._children[i];\r\n\t\t\t\t\t\t\tif (obj.x !=current.x){\r\n\t\t\t\t\t\t\t\tcurrent=obj;\r\n\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tk++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (;i < cnt;i++){\r\n\t\t\t\t\t\t\tobj=this._children[i];\r\n\t\t\t\t\t\t\tif (obj.x !=current.x){\r\n\t\t\t\t\t\t\t\tthis.clearSelection();\r\n\t\t\t\t\t\t\t\tthis.addSelection(i-k-1,true);\r\n\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 5:\r\n\t\t\t\t\tif (this._layout==0 || this._layout==3){\r\n\t\t\t\t\t\tindex++;\r\n\t\t\t\t\t\tif (index < this._children.length){\r\n\t\t\t\t\t\t\tthis.clearSelection();\r\n\t\t\t\t\t\t\tthis.addSelection(index,true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this._layout==2 || this._layout==4){\r\n\t\t\t\t\t\tcurrent=this._children[index];\r\n\t\t\t\t\t\tk=0;\r\n\t\t\t\t\t\tcnt=this._children.length;\r\n\t\t\t\t\t\tfor (i=index+1;i < cnt;i++){\r\n\t\t\t\t\t\t\tobj=this._children[i];\r\n\t\t\t\t\t\t\tif (obj.y !=current.y){\r\n\t\t\t\t\t\t\t\tcurrent=obj;\r\n\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tk++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (;i < cnt;i++){\r\n\t\t\t\t\t\t\tobj=this._children[i];\r\n\t\t\t\t\t\t\tif (obj.y !=current.y){\r\n\t\t\t\t\t\t\t\tthis.clearSelection();\r\n\t\t\t\t\t\t\t\tthis.addSelection(i-k-1,true);\r\n\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\tcase 7:\r\n\t\t\t\t\tif (this._layout==1 || this._layout==2 || this._layout==4){\r\n\t\t\t\t\t\tindex--;\r\n\t\t\t\t\t\tif (index >=0){\r\n\t\t\t\t\t\t\tthis.clearSelection();\r\n\t\t\t\t\t\t\tthis.addSelection(index,true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this._layout==3){\r\n\t\t\t\t\t\tcurrent=this._children[index];\r\n\t\t\t\t\t\tk=0;\r\n\t\t\t\t\t\tfor (i=index-1;i >=0;i--){\r\n\t\t\t\t\t\t\tobj=this._children[i];\r\n\t\t\t\t\t\t\tif (obj.x !=current.x){\r\n\t\t\t\t\t\t\t\tcurrent=obj;\r\n\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tk++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfor (;i >=0;i--){\r\n\t\t\t\t\t\t\tobj=this._children[i];\r\n\t\t\t\t\t\t\tif (obj.x !=current.x){\r\n\t\t\t\t\t\t\t\tthis.clearSelection();\r\n\t\t\t\t\t\t\t\tthis.addSelection(i+k+1,true);\r\n\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak ;\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__clickItem=function(evt){\r\n\t\t\tif (this._scrollPane !=null && this._scrollPane.isDragged)\r\n\t\t\t\treturn;\r\n\t\t\tvar item=GObject.cast(evt.currentTarget);\r\n\t\t\tthis.setSelectionOnEvent(item,evt);\r\n\t\t\tif(this._scrollPane && this.scrollItemToViewOnClick)\r\n\t\t\t\tthis._scrollPane.scrollToView(item,true);\r\n\t\t\tthis.displayObject.event(\"fui_click_item\",[item,Events.createEvent(\"fui_click_item\",this.displayObject,evt)]);\r\n\t\t}\r\n\r\n\t\t__proto.setSelectionOnEvent=function(item,evt){\r\n\t\t\tif (!((item instanceof fairygui.GButton ))|| this._selectionMode==3)\r\n\t\t\t\treturn;\r\n\t\t\tvar dontChangeLastIndex=false;\r\n\t\t\tvar button=(item);\r\n\t\t\tvar index=this.getChildIndex(item);\r\n\t\t\tif (this._selectionMode==0){\r\n\t\t\t\tif (!button.selected){\r\n\t\t\t\t\tthis.clearSelectionExcept(button);\r\n\t\t\t\t\tbutton.selected=true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (evt.shiftKey){\r\n\t\t\t\t\tif (!button.selected){\r\n\t\t\t\t\t\tif (this._lastSelectedIndex !=-1){\r\n\t\t\t\t\t\t\tvar min=Math.min(this._lastSelectedIndex,index);\r\n\t\t\t\t\t\t\tvar max=Math.max(this._lastSelectedIndex,index);\r\n\t\t\t\t\t\t\tmax=Math.min(max,this._children.length-1);\r\n\t\t\t\t\t\t\tfor (var i=min;i <=max;i++){\r\n\t\t\t\t\t\t\t\tvar obj=this.getChildAt(i);\r\n\t\t\t\t\t\t\t\tif (((obj instanceof fairygui.GButton ))&& !(obj).selected)\r\n\t\t\t\t\t\t\t\t\t(obj).selected=true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdontChangeLastIndex=true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tbutton.selected=true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (evt.ctrlKey || this._selectionMode==2){\r\n\t\t\t\t\tbutton.selected=!button.selected;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tif (!button.selected){\r\n\t\t\t\t\t\tthis.clearSelectionExcept(button);\r\n\t\t\t\t\t\tbutton.selected=true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.clearSelectionExcept(button);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!dontChangeLastIndex)\r\n\t\t\t\tthis._lastSelectedIndex=index;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t__proto.clearSelectionExcept=function(obj){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\tvar button=this._children[i];\r\n\t\t\t\tif (((button instanceof fairygui.GButton ))&& button !=obj && (button).selected)\r\n\t\t\t\t\t(button).selected=false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.resizeToFit=function(itemCount,minSize){\r\n\t\t\t(itemCount===void 0)&& (itemCount=1000000);\r\n\t\t\t(minSize===void 0)&& (minSize=0);\r\n\t\t\tthis.ensureBoundsCorrect();\r\n\t\t\tvar curCount=this.numItems;\r\n\t\t\tif (itemCount > curCount)\r\n\t\t\t\titemCount=curCount;\r\n\t\t\tif(this._virtual){\r\n\t\t\t\tvar lineCount=Math.ceil(itemCount / this._curLineItemCount);\r\n\t\t\t\tif(this._layout==0 || this._layout==2)\r\n\t\t\t\t\tthis.viewHeight=lineCount *this._itemSize.y+Math.max(0,lineCount-1)*this._lineGap;\r\n\t\t\t\telse\r\n\t\t\t\tthis.viewWidth=lineCount *this._itemSize.x+Math.max(0,lineCount-1)*this._columnGap;\r\n\t\t\t}\r\n\t\t\telse if(itemCount==0){\r\n\t\t\t\tif (this._layout==0 || this._layout==2)\r\n\t\t\t\t\tthis.viewHeight=minSize;\r\n\t\t\t\telse\r\n\t\t\t\tthis.viewWidth=minSize;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar i=itemCount-1;\r\n\t\t\t\tvar obj=null;\r\n\t\t\t\twhile (i >=0){\r\n\t\t\t\t\tobj=this.getChildAt(i);\r\n\t\t\t\t\tif (!this.foldInvisibleItems || obj.visible)\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}\r\n\t\t\t\tif (i < 0){\r\n\t\t\t\t\tif (this._layout==0 || this._layout==2)\r\n\t\t\t\t\t\tthis.viewHeight=minSize;\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.viewWidth=minSize;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tvar size=0;\r\n\t\t\t\t\tif (this._layout==0 || this._layout==2){\r\n\t\t\t\t\t\tsize=obj.y+obj.height;\r\n\t\t\t\t\t\tif (size < minSize)\r\n\t\t\t\t\t\t\tsize=minSize;\r\n\t\t\t\t\t\tthis.viewHeight=size;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tsize=obj.x+obj.width;\r\n\t\t\t\t\t\tif (size < minSize)\r\n\t\t\t\t\t\t\tsize=minSize;\r\n\t\t\t\t\t\tthis.viewWidth=size;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.getMaxItemWidth=function(){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tvar max=0;\r\n\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\tvar child=this.getChildAt(i);\r\n\t\t\t\tif (child.width > max)\r\n\t\t\t\t\tmax=child.width;\r\n\t\t\t}\r\n\t\t\treturn max;\r\n\t\t}\r\n\r\n\t\t__proto.handleSizeChanged=function(){\r\n\t\t\t_super.prototype.handleSizeChanged.call(this);\r\n\t\t\tif (this._autoResizeItem)\r\n\t\t\t\tthis.adjustItemsSize();\r\n\t\t\tif (this._layout==2 || this._layout==3){\r\n\t\t\t\tthis.setBoundsChangedFlag();\r\n\t\t\t\tif (this._virtual)\r\n\t\t\t\t\tthis.setVirtualListChangedFlag(true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.adjustItemsSize=function(){\r\n\t\t\tif (this._layout==0){\r\n\t\t\t\tvar cnt=this._children.length;\r\n\t\t\t\tvar cw=this.viewWidth;\r\n\t\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\t\tvar child=this.getChildAt(i);\r\n\t\t\t\t\tchild.width=cw;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (this._layout==1){\r\n\t\t\t\tcnt=this._children.length;\r\n\t\t\t\tvar ch=this.viewHeight;\r\n\t\t\t\tfor (i=0;i < cnt;i++){\r\n\t\t\t\t\tchild=this.getChildAt(i);\r\n\t\t\t\t\tchild.height=ch;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.getSnappingPosition=function(xValue,yValue,resultPoint){\r\n\t\t\tif (this._virtual){\r\n\t\t\t\tif(!resultPoint)\r\n\t\t\t\t\tresultPoint=new Point();\r\n\t\t\t\tvar saved=NaN;\r\n\t\t\t\tvar index=0;\r\n\t\t\t\tif (this._layout==0 || this._layout==2){\r\n\t\t\t\t\tsaved=yValue;\r\n\t\t\t\t\tfairygui.GList.pos_param=yValue;\r\n\t\t\t\t\tindex=this.getIndexOnPos1(false);\r\n\t\t\t\t\tyValue=fairygui.GList.pos_param;\r\n\t\t\t\t\tif (index < this._virtualItems.length && saved-yValue > this._virtualItems[index].height / 2 && index < this._realNumItems)\r\n\t\t\t\t\t\tyValue+=this._virtualItems[index].height+this._lineGap;\r\n\t\t\t\t}\r\n\t\t\t\telse if (this._layout==1 || this._layout==3){\r\n\t\t\t\t\tsaved=xValue;\r\n\t\t\t\t\tfairygui.GList.pos_param=xValue;\r\n\t\t\t\t\tindex=this.getIndexOnPos2(false);\r\n\t\t\t\t\txValue=fairygui.GList.pos_param;\r\n\t\t\t\t\tif (index < this._virtualItems.length && saved-xValue > this._virtualItems[index].width / 2 && index < this._realNumItems)\r\n\t\t\t\t\t\txValue+=this._virtualItems[index].width+this._columnGap;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tsaved=xValue;\r\n\t\t\t\t\tfairygui.GList.pos_param=xValue;\r\n\t\t\t\t\tindex=this.getIndexOnPos3(false);\r\n\t\t\t\t\txValue=fairygui.GList.pos_param;\r\n\t\t\t\t\tif (index < this._virtualItems.length && saved-xValue > this._virtualItems[index].width / 2 && index < this._realNumItems)\r\n\t\t\t\t\t\txValue+=this._virtualItems[index].width+this._columnGap;\r\n\t\t\t\t}\r\n\t\t\t\tresultPoint.x=xValue;\r\n\t\t\t\tresultPoint.y=yValue;\r\n\t\t\t\treturn resultPoint;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\treturn _super.prototype.getSnappingPosition.call(this,xValue,yValue,resultPoint);\r\n\t\t}\r\n\r\n\t\t__proto.scrollToView=function(index,ani,setFirst){\r\n\t\t\t(ani===void 0)&& (ani=false);\r\n\t\t\t(setFirst===void 0)&& (setFirst=false);\r\n\t\t\tif (this._virtual){\r\n\t\t\t\tif(this._numItems==0)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tthis.checkVirtualList();\r\n\t\t\t\tif (index >=this._virtualItems.length)\r\n\t\t\t\t\tthrow new Error(\"Invalid child index: \"+index+\">\"+this._virtualItems.length);\r\n\t\t\t\tif(this._loop)\r\n\t\t\t\t\tindex=Math.floor(this._firstIndex/this._numItems)*this._numItems+index;\r\n\t\t\t\tvar rect;\r\n\t\t\t\tvar ii=this._virtualItems[index];\r\n\t\t\t\tvar pos=0;\r\n\t\t\t\tvar i=0;\r\n\t\t\t\tif (this._layout==0 || this._layout==2){\r\n\t\t\t\t\tfor (i=0;i < index;i+=this._curLineItemCount)\r\n\t\t\t\t\tpos+=this._virtualItems[i].height+this._lineGap;\r\n\t\t\t\t\trect=new Rectangle(0,pos,this._itemSize.x,ii.height);\r\n\t\t\t\t}\r\n\t\t\t\telse if (this._layout==1 || this._layout==3){\r\n\t\t\t\t\tfor (i=0;i < index;i+=this._curLineItemCount)\r\n\t\t\t\t\tpos+=this._virtualItems[i].width+this._columnGap;\r\n\t\t\t\t\trect=new Rectangle(pos,0,ii.width,this._itemSize.y);\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tvar page=index / (this._curLineItemCount *this._curLineItemCount2);\r\n\t\t\t\t\trect=new Rectangle(page *this.viewWidth+(index % this._curLineItemCount)*(ii.width+this._columnGap),\r\n\t\t\t\t\t(index / this._curLineItemCount)% this._curLineItemCount2 *(ii.height+this._lineGap),\r\n\t\t\t\t\tii.width,ii.height);\r\n\t\t\t\t}\r\n\t\t\t\tsetFirst=true;\r\n\t\t\t\tif (this._scrollPane !=null)\r\n\t\t\t\t\tthis.scrollPane.scrollToView(rect,ani,setFirst);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tvar obj=this.getChildAt(index);\r\n\t\t\t\tif (this._scrollPane !=null)\r\n\t\t\t\t\tthis.scrollPane.scrollToView(obj,ani,setFirst);\r\n\t\t\t\telse if (this.parent !=null && this.parent.scrollPane !=null)\r\n\t\t\t\tthis.parent.scrollPane.scrollToView(obj,ani,setFirst);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.getFirstChildInView=function(){\r\n\t\t\treturn this.childIndexToItemIndex(_super.prototype.getFirstChildInView.call(this));\r\n\t\t}\r\n\r\n\t\t__proto.childIndexToItemIndex=function(index){\r\n\t\t\tif (!this._virtual)\r\n\t\t\t\treturn index;\r\n\t\t\tif (this._layout==4){\r\n\t\t\t\tfor (var i=this._firstIndex;i < this._realNumItems;i++){\r\n\t\t\t\t\tif (this._virtualItems[i].obj !=null){\r\n\t\t\t\t\t\tindex--;\r\n\t\t\t\t\t\tif (index < 0)\r\n\t\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn index;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tindex+=this._firstIndex;\r\n\t\t\t\tif (this._loop && this._numItems > 0)\r\n\t\t\t\t\tindex=index % this._numItems;\r\n\t\t\t\treturn index;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.itemIndexToChildIndex=function(index){\r\n\t\t\tif (!this._virtual)\r\n\t\t\t\treturn index;\r\n\t\t\tif (this._layout==4){\r\n\t\t\t\treturn this.getChildIndex(this._virtualItems[index].obj);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif (this._loop && this._numItems > 0){\r\n\t\t\t\t\tvar j=this._firstIndex % this._numItems;\r\n\t\t\t\t\tif (index >=j)\r\n\t\t\t\t\t\tindex=this._firstIndex+(index-j);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tindex=this._firstIndex+this._numItems+(j-index);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\tindex-=this._firstIndex;\r\n\t\t\t\treturn index;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setVirtual=function(){\r\n\t\t\tthis._setVirtual(false);\r\n\t\t}\r\n\r\n\t\t/// </summary>\r\n\t\t__proto.setVirtualAndLoop=function(){\r\n\t\t\tthis._setVirtual(true);\r\n\t\t}\r\n\r\n\t\t/// </summary>\r\n\t\t__proto._setVirtual=function(loop){\r\n\t\t\tif(!this._virtual){\r\n\t\t\t\tif(this._scrollPane==null)\r\n\t\t\t\t\tthrow new Error(\"Virtual list must be scrollable!\");\r\n\t\t\t\tif(loop){\r\n\t\t\t\t\tif(this._layout==2 || this._layout==3)\r\n\t\t\t\t\t\tthrow new Error(\"Loop list is not supported for FlowHorizontal or FlowVertical layout!\");\r\n\t\t\t\t\tthis._scrollPane.bouncebackEffect=false;\r\n\t\t\t\t}\r\n\t\t\t\tthis._virtual=true;\r\n\t\t\t\tthis._loop=loop;\r\n\t\t\t\tthis._virtualItems=[];\r\n\t\t\t\tthis.removeChildrenToPool();\r\n\t\t\t\tif(this._itemSize==null){\r\n\t\t\t\t\tthis._itemSize=new Point();\r\n\t\t\t\t\tvar obj=this.getFromPool(null);\r\n\t\t\t\t\tif (obj==null){\r\n\t\t\t\t\t\tthrow new Error(\"Virtual List must have a default list item resource.\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis._itemSize.x=obj.width;\r\n\t\t\t\t\t\tthis._itemSize.y=obj.height;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.returnToPool(obj);\r\n\t\t\t\t}\r\n\t\t\t\tif(this._layout==0 || this._layout==2)\r\n\t\t\t\t\tthis._scrollPane.scrollSpeed=this._itemSize.y;\r\n\t\t\t\telse\r\n\t\t\t\tthis._scrollPane.scrollSpeed=this._itemSize.x;\r\n\t\t\t\tthis.on(\"fui_scroll\",this,this.__scrolled);\r\n\t\t\t\tthis.setVirtualListChangedFlag(true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.refreshVirtualList=function(){\r\n\t\t\tthis.setVirtualListChangedFlag(false);\r\n\t\t}\r\n\r\n\t\t__proto.checkVirtualList=function(){\r\n\t\t\tif(this._virtualListChanged!=0){\r\n\t\t\t\tthis._refreshVirtualList();\r\n\t\t\t\tLaya.timer.clear(this,this._refreshVirtualList);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setVirtualListChangedFlag=function(layoutChanged){\r\n\t\t\t(layoutChanged===void 0)&& (layoutChanged=false);\r\n\t\t\tif(layoutChanged)\r\n\t\t\t\tthis._virtualListChanged=2;\r\n\t\t\telse if(this._virtualListChanged==0)\r\n\t\t\tthis._virtualListChanged=1;\r\n\t\t\tLaya.timer.callLater(this,this._refreshVirtualList);\r\n\t\t}\r\n\r\n\t\t__proto._refreshVirtualList=function(){\r\n\t\t\tvar layoutChanged=this._virtualListChanged==2;\r\n\t\t\tthis._virtualListChanged=0;\r\n\t\t\tthis._eventLocked=true;\r\n\t\t\tif (layoutChanged){\r\n\t\t\t\tif (this._layout==0 || this._layout==1)\r\n\t\t\t\t\tthis._curLineItemCount=1;\r\n\t\t\t\telse if (this._lineItemCount !=0)\r\n\t\t\t\tthis._curLineItemCount=this._lineItemCount;\r\n\t\t\t\telse if (this._layout==2){\r\n\t\t\t\t\tthis._curLineItemCount=Math.floor((this._scrollPane.viewWidth+this._columnGap)/ (this._itemSize.x+this._columnGap));\r\n\t\t\t\t\tif (this._curLineItemCount <=0)\r\n\t\t\t\t\t\tthis._curLineItemCount=1;\r\n\t\t\t\t}\r\n\t\t\t\telse if (this._layout==3){\r\n\t\t\t\t\tthis._curLineItemCount=Math.floor((this._scrollPane.viewHeight+this._lineGap)/ (this._itemSize.y+this._lineGap));\r\n\t\t\t\t\tif (this._curLineItemCount <=0)\r\n\t\t\t\t\t\tthis._curLineItemCount=1;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis._curLineItemCount=Math.floor((this._scrollPane.viewWidth+this._columnGap)/ (this._itemSize.x+this._columnGap));\r\n\t\t\t\t\tif (this._curLineItemCount <=0)\r\n\t\t\t\t\t\tthis._curLineItemCount=1;\r\n\t\t\t\t}\r\n\t\t\t\tif (this._layout==4){\r\n\t\t\t\t\tthis._curLineItemCount2=Math.floor((this._scrollPane.viewHeight+this._lineGap)/ (this._itemSize.y+this._lineGap));\r\n\t\t\t\t\tif (this._curLineItemCount2 <=0)\r\n\t\t\t\t\t\tthis._curLineItemCount2=1;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar ch=0,cw=0;\r\n\t\t\tif (this._realNumItems > 0){\r\n\t\t\t\tvar i=0;\r\n\t\t\t\tvar len=Math.ceil(this._realNumItems / this._curLineItemCount)*this._curLineItemCount;\r\n\t\t\t\tif (this._layout==0 || this._layout==2){\r\n\t\t\t\t\tfor (i=0;i < len;i+=this._curLineItemCount)\r\n\t\t\t\t\tch+=this._virtualItems[i].height+this._lineGap;\r\n\t\t\t\t\tif (ch > 0)\r\n\t\t\t\t\t\tch-=this._lineGap;\r\n\t\t\t\t\tcw=this._scrollPane.contentWidth;\r\n\t\t\t\t}\r\n\t\t\t\telse if (this._layout==1 || this._layout==3){\r\n\t\t\t\t\tfor (i=0;i < len;i+=this._curLineItemCount)\r\n\t\t\t\t\tcw+=this._virtualItems[i].width+this._columnGap;\r\n\t\t\t\t\tif (cw > 0)\r\n\t\t\t\t\t\tcw-=this._columnGap;\r\n\t\t\t\t\tch=this._scrollPane.contentHeight;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tvar pageCount=Math.ceil(len / (this._curLineItemCount *this._curLineItemCount2));\r\n\t\t\t\t\tcw=pageCount *this.viewWidth;\r\n\t\t\t\t\tch=this.viewHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.handleAlign(cw,ch);\r\n\t\t\tthis._scrollPane.setContentSize(cw,ch);\r\n\t\t\tthis._eventLocked=false;\r\n\t\t\tthis.handleScroll(true);\r\n\t\t}\r\n\r\n\t\t__proto.__scrolled=function(evt){\r\n\t\t\tthis.handleScroll(false);\r\n\t\t}\r\n\r\n\t\t__proto.getIndexOnPos1=function(forceUpdate){\r\n\t\t\tif (this._realNumItems < this._curLineItemCount){\r\n\t\t\t\tGList.pos_param=0;\r\n\t\t\t\treturn 0;\r\n\t\t\t};\r\n\t\t\tvar i=0;\r\n\t\t\tvar pos2=NaN;\r\n\t\t\tvar pos3=NaN;\r\n\t\t\tif (this.numChildren > 0 && !forceUpdate){\r\n\t\t\t\tpos2=this.getChildAt(0).y;\r\n\t\t\t\tif (pos2 > GList.pos_param){\r\n\t\t\t\t\tfor (i=this._firstIndex-this._curLineItemCount;i >=0;i-=this._curLineItemCount){\r\n\t\t\t\t\t\tpos2-=(this._virtualItems[i].height+this._lineGap);\r\n\t\t\t\t\t\tif (pos2 <=GList.pos_param){\r\n\t\t\t\t\t\t\tGList.pos_param=pos2;\r\n\t\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tGList.pos_param=0;\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tfor (i=this._firstIndex;i < this._realNumItems;i+=this._curLineItemCount){\r\n\t\t\t\t\t\tpos3=pos2+this._virtualItems[i].height+this._lineGap;\r\n\t\t\t\t\t\tif (pos3 > GList.pos_param){\r\n\t\t\t\t\t\t\tGList.pos_param=pos2;\r\n\t\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tpos2=pos3;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tGList.pos_param=pos2;\r\n\t\t\t\t\treturn this._realNumItems-this._curLineItemCount;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tpos2=0;\r\n\t\t\t\tfor (i=0;i < this._realNumItems;i+=this._curLineItemCount){\r\n\t\t\t\t\tpos3=pos2+this._virtualItems[i].height+this._lineGap;\r\n\t\t\t\t\tif (pos3 > GList.pos_param){\r\n\t\t\t\t\t\tGList.pos_param=pos2;\r\n\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpos2=pos3;\r\n\t\t\t\t}\r\n\t\t\t\tGList.pos_param=pos2;\r\n\t\t\t\treturn this._realNumItems-this._curLineItemCount;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.getIndexOnPos2=function(forceUpdate){\r\n\t\t\tif (this._realNumItems < this._curLineItemCount){\r\n\t\t\t\tGList.pos_param=0;\r\n\t\t\t\treturn 0;\r\n\t\t\t};\r\n\t\t\tvar i=0;\r\n\t\t\tvar pos2=NaN;\r\n\t\t\tvar pos3=NaN;\r\n\t\t\tif (this.numChildren > 0 && !forceUpdate){\r\n\t\t\t\tpos2=this.getChildAt(0).x;\r\n\t\t\t\tif (pos2 > GList.pos_param){\r\n\t\t\t\t\tfor (i=this._firstIndex-this._curLineItemCount;i >=0;i-=this._curLineItemCount){\r\n\t\t\t\t\t\tpos2-=(this._virtualItems[i].width+this._columnGap);\r\n\t\t\t\t\t\tif (pos2 <=GList.pos_param){\r\n\t\t\t\t\t\t\tGList.pos_param=pos2;\r\n\t\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tGList.pos_param=0;\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tfor (i=this._firstIndex;i < this._realNumItems;i+=this._curLineItemCount){\r\n\t\t\t\t\t\tpos3=pos2+this._virtualItems[i].width+this._columnGap;\r\n\t\t\t\t\t\tif (pos3 > GList.pos_param){\r\n\t\t\t\t\t\t\tGList.pos_param=pos2;\r\n\t\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tpos2=pos3;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tGList.pos_param=pos2;\r\n\t\t\t\t\treturn this._realNumItems-this._curLineItemCount;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tpos2=0;\r\n\t\t\t\tfor (i=0;i < this._realNumItems;i+=this._curLineItemCount){\r\n\t\t\t\t\tpos3=pos2+this._virtualItems[i].width+this._columnGap;\r\n\t\t\t\t\tif (pos3 > GList.pos_param){\r\n\t\t\t\t\t\tGList.pos_param=pos2;\r\n\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tpos2=pos3;\r\n\t\t\t\t}\r\n\t\t\t\tGList.pos_param=pos2;\r\n\t\t\t\treturn this._realNumItems-this._curLineItemCount;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.getIndexOnPos3=function(forceUpdate){\r\n\t\t\tif (this._realNumItems < this._curLineItemCount){\r\n\t\t\t\tGList.pos_param=0;\r\n\t\t\t\treturn 0;\r\n\t\t\t};\r\n\t\t\tvar viewWidth=this.viewWidth;\r\n\t\t\tvar page=Math.floor(GList.pos_param / viewWidth);\r\n\t\t\tvar startIndex=page *(this._curLineItemCount *this._curLineItemCount2);\r\n\t\t\tvar pos2=page *viewWidth;\r\n\t\t\tvar i=0;\r\n\t\t\tvar pos3=NaN;\r\n\t\t\tfor (i=0;i < this._curLineItemCount;i++){\r\n\t\t\t\tpos3=pos2+this._virtualItems[startIndex+i].width+this._columnGap;\r\n\t\t\t\tif (pos3 > GList.pos_param){\r\n\t\t\t\t\tGList.pos_param=pos2;\r\n\t\t\t\t\treturn startIndex+i;\r\n\t\t\t\t}\r\n\t\t\t\tpos2=pos3;\r\n\t\t\t}\r\n\t\t\tGList.pos_param=pos2;\r\n\t\t\treturn startIndex+this._curLineItemCount-1;\r\n\t\t}\r\n\r\n\t\t__proto.handleScroll=function(forceUpdate){\r\n\t\t\tif (this._eventLocked)\r\n\t\t\t\treturn;\r\n\t\t\tvar pos=NaN;\r\n\t\t\tvar roundSize=0;\r\n\t\t\tif (this._layout==0 || this._layout==2){\r\n\t\t\t\tif (this._loop){\r\n\t\t\t\t\tpos=this.scrollPane.scrollingPosY;\r\n\t\t\t\t\troundSize=this._numItems *(this._itemSize.y+this._lineGap);\r\n\t\t\t\t\tif (pos==0)\r\n\t\t\t\t\t\tthis.scrollPane.posY=roundSize;\r\n\t\t\t\t\telse if (pos==this.scrollPane.contentHeight-this.scrollPane.viewHeight)\r\n\t\t\t\t\tthis.scrollPane.posY=this.scrollPane.contentHeight-roundSize-this.viewHeight;\r\n\t\t\t\t}\r\n\t\t\t\tthis.handleScroll1(forceUpdate);\r\n\t\t\t}\r\n\t\t\telse if (this._layout==1 || this._layout==3){\r\n\t\t\t\tif (this._loop){\r\n\t\t\t\t\tpos=this.scrollPane.scrollingPosX;\r\n\t\t\t\t\troundSize=this._numItems *(this._itemSize.x+this._columnGap);\r\n\t\t\t\t\tif (pos==0)\r\n\t\t\t\t\t\tthis.scrollPane.posX=roundSize;\r\n\t\t\t\t\telse if (pos==this.scrollPane.contentWidth-this.scrollPane.viewWidth)\r\n\t\t\t\t\tthis.scrollPane.posX=this.scrollPane.contentWidth-roundSize-this.viewWidth;\r\n\t\t\t\t}\r\n\t\t\t\tthis.handleScroll2(forceUpdate);\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif (this._loop){\r\n\t\t\t\t\tpos=this.scrollPane.scrollingPosX;\r\n\t\t\t\t\troundSize=Math.floor(this._numItems / (this._curLineItemCount *this._curLineItemCount2))*this.viewWidth;\r\n\t\t\t\t\tif (pos==0)\r\n\t\t\t\t\t\tthis.scrollPane.posX=roundSize;\r\n\t\t\t\t\telse if (pos==this.scrollPane.contentWidth-this.scrollPane.viewWidth)\r\n\t\t\t\t\tthis.scrollPane.posX=this.scrollPane.contentWidth-roundSize-this.viewWidth;\r\n\t\t\t\t}\r\n\t\t\t\tthis.handleScroll3(forceUpdate);\r\n\t\t\t}\r\n\t\t\tthis._boundsChanged=false;\r\n\t\t}\r\n\r\n\t\t__proto.handleScroll1=function(forceUpdate){\r\n\t\t\tGList.enterCounter++;\r\n\t\t\tif (GList.enterCounter > 3)\r\n\t\t\t\treturn;\r\n\t\t\tvar pos=this.scrollPane.scrollingPosY;\r\n\t\t\tvar max=pos+this.scrollPane.viewHeight;\r\n\t\t\tvar end=max==this.scrollPane.contentHeight;\r\n\t\t\tfairygui.GList.pos_param=pos;\r\n\t\t\tvar newFirstIndex=this.getIndexOnPos1(forceUpdate);\r\n\t\t\tpos=fairygui.GList.pos_param;\r\n\t\t\tif (newFirstIndex==this._firstIndex && !forceUpdate){\r\n\t\t\t\tGList.enterCounter--;\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tvar oldFirstIndex=this._firstIndex;\r\n\t\t\tthis._firstIndex=newFirstIndex;\r\n\t\t\tvar curIndex=newFirstIndex;\r\n\t\t\tvar forward=oldFirstIndex > newFirstIndex;\r\n\t\t\tvar oldCount=this.numChildren;\r\n\t\t\tvar lastIndex=oldFirstIndex+oldCount-1;\r\n\t\t\tvar reuseIndex=forward ? lastIndex :oldFirstIndex;\r\n\t\t\tvar curX=0,curY=pos;\r\n\t\t\tvar needRender=false;\r\n\t\t\tvar deltaSize=0;\r\n\t\t\tvar firstItemDeltaSize=0;\r\n\t\t\tvar url=this.defaultItem;\r\n\t\t\tvar ii,ii2;\r\n\t\t\tvar i=0,j=0;\r\n\t\t\tGList.itemInfoVer++;\r\n\t\t\twhile (curIndex < this._realNumItems && (end || curY < max)){\r\n\t\t\t\tii=this._virtualItems[curIndex];\r\n\t\t\t\tif (ii.obj==null || forceUpdate){\r\n\t\t\t\t\tif (this.itemProvider !=null){\r\n\t\t\t\t\t\turl=this.itemProvider.runWith(curIndex % this._numItems);\r\n\t\t\t\t\t\tif (url==null)\r\n\t\t\t\t\t\t\turl=this.defaultItem;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (ii.obj !=null && ii.obj.resourceURL !=url){\r\n\t\t\t\t\t\tthis.removeChildToPool(ii.obj);\r\n\t\t\t\t\t\tii.obj=null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (ii.obj==null){\r\n\t\t\t\t\tif (forward){\r\n\t\t\t\t\t\tfor (j=reuseIndex;j >=oldFirstIndex;j--){\r\n\t\t\t\t\t\t\tii2=this._virtualItems[j];\r\n\t\t\t\t\t\t\tif (ii2.obj !=null && ii2.updateFlag !=GList.itemInfoVer && ii2.obj.resourceURL==url){\r\n\t\t\t\t\t\t\t\tii.obj=ii2.obj;\r\n\t\t\t\t\t\t\t\tii2.obj=null;\r\n\t\t\t\t\t\t\t\tif (j==reuseIndex)\r\n\t\t\t\t\t\t\t\t\treuseIndex--;\r\n\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tfor (j=reuseIndex;j <=lastIndex;j++){\r\n\t\t\t\t\t\t\tii2=this._virtualItems[j];\r\n\t\t\t\t\t\t\tif (ii2.obj !=null && ii2.updateFlag !=GList.itemInfoVer && ii2.obj.resourceURL==url){\r\n\t\t\t\t\t\t\t\tii.obj=ii2.obj;\r\n\t\t\t\t\t\t\t\tii2.obj=null;\r\n\t\t\t\t\t\t\t\tif (j==reuseIndex)\r\n\t\t\t\t\t\t\t\t\treuseIndex++;\r\n\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (ii.obj !=null){\r\n\t\t\t\t\t\tthis.setChildIndex(ii.obj,forward ? curIndex-newFirstIndex :this.numChildren);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tii.obj=this._pool.getObject(url);\r\n\t\t\t\t\t\tif (forward)\r\n\t\t\t\t\t\t\tthis.addChildAt(ii.obj,curIndex-newFirstIndex);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.addChild(ii.obj);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ((ii.obj instanceof fairygui.GButton ))\r\n\t\t\t\t\t\t(ii.obj).selected=false;\r\n\t\t\t\t\tneedRender=true;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\tneedRender=forceUpdate;\r\n\t\t\t\tif (needRender){\r\n\t\t\t\t\tthis.itemRenderer.runWith([curIndex % this._numItems,ii.obj]);\r\n\t\t\t\t\tif (curIndex % this._curLineItemCount==0){\r\n\t\t\t\t\t\tdeltaSize+=Math.ceil(ii.obj.height)-ii.height;\r\n\t\t\t\t\t\tif (curIndex==newFirstIndex && oldFirstIndex > newFirstIndex){\r\n\t\t\t\t\t\t\tfirstItemDeltaSize=Math.ceil(ii.obj.height)-ii.height;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tii.width=Math.ceil(ii.obj.width);\r\n\t\t\t\t\tii.height=Math.ceil(ii.obj.height);\r\n\t\t\t\t}\r\n\t\t\t\tii.updateFlag=GList.itemInfoVer;\r\n\t\t\t\tii.obj.setXY(curX,curY);\r\n\t\t\t\tif (curIndex==newFirstIndex)\r\n\t\t\t\t\tmax+=ii.height;\r\n\t\t\t\tcurX+=ii.width+this._columnGap;\r\n\t\t\t\tif (curIndex % this._curLineItemCount==this._curLineItemCount-1){\r\n\t\t\t\t\tcurX=0;\r\n\t\t\t\t\tcurY+=ii.height+this._lineGap;\r\n\t\t\t\t}\r\n\t\t\t\tcurIndex++;\r\n\t\t\t}\r\n\t\t\tfor (i=0;i < oldCount;i++){\r\n\t\t\t\tii=this._virtualItems[oldFirstIndex+i];\r\n\t\t\t\tif (ii.updateFlag !=GList.itemInfoVer && ii.obj !=null){\r\n\t\t\t\t\tthis.removeChildToPool(ii.obj);\r\n\t\t\t\t\tii.obj=null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (deltaSize !=0 || firstItemDeltaSize !=0)\r\n\t\t\t\tthis._scrollPane.changeContentSizeOnScrolling(0,deltaSize,0,firstItemDeltaSize);\r\n\t\t\tif (curIndex > 0 && this.numChildren > 0 && this._container.y < 0 && this.getChildAt(0).y >-this._container.y)\r\n\t\t\t\tthis.handleScroll1(false);\r\n\t\t\tGList.enterCounter--;\r\n\t\t}\r\n\r\n\t\t__proto.handleScroll2=function(forceUpdate){\r\n\t\t\tGList.enterCounter++;\r\n\t\t\tif (GList.enterCounter > 3)\r\n\t\t\t\treturn;\r\n\t\t\tvar pos=this.scrollPane.scrollingPosX;\r\n\t\t\tvar max=pos+this.scrollPane.viewWidth;\r\n\t\t\tvar end=pos==this.scrollPane.contentWidth;\r\n\t\t\tfairygui.GList.pos_param=pos;\r\n\t\t\tvar newFirstIndex=this.getIndexOnPos2(forceUpdate);\r\n\t\t\tpos=fairygui.GList.pos_param;\r\n\t\t\tif (newFirstIndex==this._firstIndex && !forceUpdate){\r\n\t\t\t\tGList.enterCounter--;\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tvar oldFirstIndex=this._firstIndex;\r\n\t\t\tthis._firstIndex=newFirstIndex;\r\n\t\t\tvar curIndex=newFirstIndex;\r\n\t\t\tvar forward=oldFirstIndex > newFirstIndex;\r\n\t\t\tvar oldCount=this.numChildren;\r\n\t\t\tvar lastIndex=oldFirstIndex+oldCount-1;\r\n\t\t\tvar reuseIndex=forward ? lastIndex :oldFirstIndex;\r\n\t\t\tvar curX=pos,curY=0;\r\n\t\t\tvar needRender=false;\r\n\t\t\tvar deltaSize=0;\r\n\t\t\tvar firstItemDeltaSize=0;\r\n\t\t\tvar url=this.defaultItem;\r\n\t\t\tvar ii,ii2;\r\n\t\t\tvar i=0,j=0;\r\n\t\t\tGList.itemInfoVer++;\r\n\t\t\twhile (curIndex < this._realNumItems && (end || curX < max)){\r\n\t\t\t\tii=this._virtualItems[curIndex];\r\n\t\t\t\tif (ii.obj==null || forceUpdate){\r\n\t\t\t\t\tif (this.itemProvider !=null){\r\n\t\t\t\t\t\turl=this.itemProvider.runWith(curIndex % this._numItems);\r\n\t\t\t\t\t\tif (url==null)\r\n\t\t\t\t\t\t\turl=this.defaultItem;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (ii.obj !=null && ii.obj.resourceURL !=url){\r\n\t\t\t\t\t\tthis.removeChildToPool(ii.obj);\r\n\t\t\t\t\t\tii.obj=null;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (ii.obj==null){\r\n\t\t\t\t\tif (forward){\r\n\t\t\t\t\t\tfor (j=reuseIndex;j >=oldFirstIndex;j--){\r\n\t\t\t\t\t\t\tii2=this._virtualItems[j];\r\n\t\t\t\t\t\t\tif (ii2.obj !=null && ii2.updateFlag !=GList.itemInfoVer && ii2.obj.resourceURL==url){\r\n\t\t\t\t\t\t\t\tii.obj=ii2.obj;\r\n\t\t\t\t\t\t\t\tii2.obj=null;\r\n\t\t\t\t\t\t\t\tif (j==reuseIndex)\r\n\t\t\t\t\t\t\t\t\treuseIndex--;\r\n\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tfor (j=reuseIndex;j <=lastIndex;j++){\r\n\t\t\t\t\t\t\tii2=this._virtualItems[j];\r\n\t\t\t\t\t\t\tif (ii2.obj !=null && ii2.updateFlag !=GList.itemInfoVer && ii2.obj.resourceURL==url){\r\n\t\t\t\t\t\t\t\tii.obj=ii2.obj;\r\n\t\t\t\t\t\t\t\tii2.obj=null;\r\n\t\t\t\t\t\t\t\tif (j==reuseIndex)\r\n\t\t\t\t\t\t\t\t\treuseIndex++;\r\n\t\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (ii.obj !=null){\r\n\t\t\t\t\t\tthis.setChildIndex(ii.obj,forward ? curIndex-newFirstIndex :this.numChildren);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tii.obj=this._pool.getObject(url);\r\n\t\t\t\t\t\tif (forward)\r\n\t\t\t\t\t\t\tthis.addChildAt(ii.obj,curIndex-newFirstIndex);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.addChild(ii.obj);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ((ii.obj instanceof fairygui.GButton ))\r\n\t\t\t\t\t\t(ii.obj).selected=false;\r\n\t\t\t\t\tneedRender=true;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\tneedRender=forceUpdate;\r\n\t\t\t\tif (needRender){\r\n\t\t\t\t\tthis.itemRenderer.runWith([curIndex % this._numItems,ii.obj]);\r\n\t\t\t\t\tif (curIndex % this._curLineItemCount==0){\r\n\t\t\t\t\t\tdeltaSize+=Math.ceil(ii.obj.width)-ii.width;\r\n\t\t\t\t\t\tif (curIndex==newFirstIndex && oldFirstIndex > newFirstIndex){\r\n\t\t\t\t\t\t\tfirstItemDeltaSize=Math.ceil(ii.obj.width)-ii.width;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tii.width=Math.ceil(ii.obj.width);\r\n\t\t\t\t\tii.height=Math.ceil(ii.obj.height);\r\n\t\t\t\t}\r\n\t\t\t\tii.updateFlag=GList.itemInfoVer;\r\n\t\t\t\tii.obj.setXY(curX,curY);\r\n\t\t\t\tif (curIndex==newFirstIndex)\r\n\t\t\t\t\tmax+=ii.width;\r\n\t\t\t\tcurY+=ii.height+this._lineGap;\r\n\t\t\t\tif (curIndex % this._curLineItemCount==this._curLineItemCount-1){\r\n\t\t\t\t\tcurY=0;\r\n\t\t\t\t\tcurX+=ii.width+this._columnGap;\r\n\t\t\t\t}\r\n\t\t\t\tcurIndex++;\r\n\t\t\t}\r\n\t\t\tfor (i=0;i < oldCount;i++){\r\n\t\t\t\tii=this._virtualItems[oldFirstIndex+i];\r\n\t\t\t\tif (ii.updateFlag !=GList.itemInfoVer && ii.obj !=null){\r\n\t\t\t\t\tthis.removeChildToPool(ii.obj);\r\n\t\t\t\t\tii.obj=null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (deltaSize !=0 || firstItemDeltaSize !=0)\r\n\t\t\t\tthis._scrollPane.changeContentSizeOnScrolling(deltaSize,0,firstItemDeltaSize,0);\r\n\t\t\tif (curIndex > 0 && this.numChildren > 0 && this._container.x < 0 && this.getChildAt(0).x >-this._container.x)\r\n\t\t\t\tthis.handleScroll2(false);\r\n\t\t\tGList.enterCounter--;\r\n\t\t}\r\n\r\n\t\t__proto.handleScroll3=function(forceUpdate){\r\n\t\t\tvar pos=this.scrollPane.scrollingPosX;\r\n\t\t\tfairygui.GList.pos_param=pos;\r\n\t\t\tvar newFirstIndex=this.getIndexOnPos3(forceUpdate);\r\n\t\t\tpos=fairygui.GList.pos_param;\r\n\t\t\tif (newFirstIndex==this._firstIndex && !forceUpdate)\r\n\t\t\t\treturn;\r\n\t\t\tvar oldFirstIndex=this._firstIndex;\r\n\t\t\tthis._firstIndex=newFirstIndex;\r\n\t\t\tvar reuseIndex=oldFirstIndex;\r\n\t\t\tvar virtualItemCount=this._virtualItems.length;\r\n\t\t\tvar pageSize=this._curLineItemCount *this._curLineItemCount2;\r\n\t\t\tvar startCol=newFirstIndex % this._curLineItemCount;\r\n\t\t\tvar viewWidth=this.viewWidth;\r\n\t\t\tvar page=Math.floor(newFirstIndex / pageSize);\r\n\t\t\tvar startIndex=page *pageSize;\r\n\t\t\tvar lastIndex=startIndex+pageSize *2;\r\n\t\t\tvar needRender=false;\r\n\t\t\tvar i=0;\r\n\t\t\tvar ii,ii2;\r\n\t\t\tvar col=0;\r\n\t\t\tGList.itemInfoVer++;\r\n\t\t\tfor (i=startIndex;i < lastIndex;i++){\r\n\t\t\t\tif (i >=this._realNumItems)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tcol=i % this._curLineItemCount;\r\n\t\t\t\tif (i-startIndex < pageSize){\r\n\t\t\t\t\tif (col < startCol)\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif (col > startCol)\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\t\tii=this._virtualItems[i];\r\n\t\t\t\tii.updateFlag=GList.itemInfoVer;\r\n\t\t\t};\r\n\t\t\tvar lastObj=null;\r\n\t\t\tvar insertIndex=0;\r\n\t\t\tfor (i=startIndex;i < lastIndex;i++){\r\n\t\t\t\tif (i >=this._realNumItems)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tcol=i % this._curLineItemCount;\r\n\t\t\t\tif (i-startIndex < pageSize){\r\n\t\t\t\t\tif (col < startCol)\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif (col > startCol)\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t}\r\n\t\t\t\tii=this._virtualItems[i];\r\n\t\t\t\tif (ii.obj==null){\r\n\t\t\t\t\twhile (reuseIndex < virtualItemCount){\r\n\t\t\t\t\t\tii2=this._virtualItems[reuseIndex];\r\n\t\t\t\t\t\tif (ii2.obj !=null && ii2.updateFlag !=GList.itemInfoVer){\r\n\t\t\t\t\t\t\tii.obj=ii2.obj;\r\n\t\t\t\t\t\t\tii2.obj=null;\r\n\t\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treuseIndex++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (insertIndex==-1)\r\n\t\t\t\t\t\tinsertIndex=this.getChildIndex(lastObj)+1;\r\n\t\t\t\t\tif (ii.obj==null){\r\n\t\t\t\t\t\tii.obj=this._pool.getObject(this.defaultItem);\r\n\t\t\t\t\t\tthis.addChildAt(ii.obj,insertIndex);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tinsertIndex=this.setChildIndexBefore(ii.obj,insertIndex);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinsertIndex++;\r\n\t\t\t\t\tif ((ii.obj instanceof fairygui.GButton ))\r\n\t\t\t\t\t\t(ii.obj).selected=false;\r\n\t\t\t\t\tneedRender=true;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tneedRender=forceUpdate;\r\n\t\t\t\t\tinsertIndex=-1;\r\n\t\t\t\t\tlastObj=ii.obj;\r\n\t\t\t\t}\r\n\t\t\t\tif (needRender)\r\n\t\t\t\t\tthis.itemRenderer.runWith([i % this._numItems,ii.obj]);\r\n\t\t\t\tii.obj.setXY(Math.floor(i / pageSize)*viewWidth+col *(ii.width+this._columnGap),\r\n\t\t\t\tMath.floor(i / this._curLineItemCount)% this._curLineItemCount2 *(ii.height+this._lineGap));\r\n\t\t\t}\r\n\t\t\tfor (i=reuseIndex;i < virtualItemCount;i++){\r\n\t\t\t\tii=this._virtualItems[i];\r\n\t\t\t\tif (ii.updateFlag !=GList.itemInfoVer && ii.obj !=null){\r\n\t\t\t\t\tthis.removeChildToPool(ii.obj);\r\n\t\t\t\t\tii.obj=null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.handleAlign=function(contentWidth,contentHeight){\r\n\t\t\tvar newOffsetX=0;\r\n\t\t\tvar newOffsetY=0;\r\n\t\t\tif (this._layout==0 || this._layout==2 || this._layout==4){\r\n\t\t\t\tif (contentHeight < this.viewHeight){\r\n\t\t\t\t\tif (this._verticalAlign==\"middle\")\r\n\t\t\t\t\t\tnewOffsetY=Math.floor((this.viewHeight-contentHeight)/ 2);\r\n\t\t\t\t\telse if (this._verticalAlign==\"bottom\")\r\n\t\t\t\t\tnewOffsetY=this.viewHeight-contentHeight;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tif (contentWidth < this.viewWidth){\r\n\t\t\t\t\tif (this._align==\"center\")\r\n\t\t\t\t\t\tnewOffsetX=Math.floor((this.viewWidth-contentWidth)/ 2);\r\n\t\t\t\t\telse if (this._align==\"right\")\r\n\t\t\t\t\tnewOffsetX=this.viewWidth-contentWidth;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (newOffsetX!=this._alignOffset.x || newOffsetY!=this._alignOffset.y){\r\n\t\t\t\tthis._alignOffset.setTo(newOffsetX,newOffsetY);\r\n\t\t\t\tif (this.scrollPane !=null)\r\n\t\t\t\t\tthis.scrollPane.adjustMaskContainer();\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis._container.x=this._margin.left+this._alignOffset.x;\r\n\t\t\t\t\tthis._container.y=this._margin.top+this._alignOffset.y;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.updateBounds=function(){\r\n\t\t\tif(this._virtual)\r\n\t\t\t\treturn;\r\n\t\t\tvar i=0;\r\n\t\t\tvar child;\r\n\t\t\tvar curX=0;\r\n\t\t\tvar curY=0;;\r\n\t\t\tvar maxWidth=0;\r\n\t\t\tvar maxHeight=0;\r\n\t\t\tvar cw=NaN,ch=0;\r\n\t\t\tvar sw=0,sh=0;\r\n\t\t\tvar p=0;\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tvar viewWidth=this.viewWidth;\r\n\t\t\tvar viewHeight=this.viewHeight;\r\n\t\t\tfor(i=0;i < cnt;i++){\r\n\t\t\t\tchild=this.getChildAt(i);\r\n\t\t\t\tchild.ensureSizeCorrect();\r\n\t\t\t}\r\n\t\t\tif (this._layout==0){\r\n\t\t\t\tfor (i=0;i < cnt;i++){\r\n\t\t\t\t\tchild=this.getChildAt(i);\r\n\t\t\t\t\tif (this.foldInvisibleItems && !child.visible)\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\tsw=Math.ceil(child.width);\r\n\t\t\t\t\tsh=Math.ceil(child.height);\r\n\t\t\t\t\tif (curY !=0)\r\n\t\t\t\t\t\tcurY+=this._lineGap;\r\n\t\t\t\t\tchild.y=curY;\r\n\t\t\t\t\tcurY+=sh;\r\n\t\t\t\t\tif (sw > maxWidth)\r\n\t\t\t\t\t\tmaxWidth=sw;\r\n\t\t\t\t}\r\n\t\t\t\tcw=curX+maxWidth;\r\n\t\t\t\tch=curY;\r\n\t\t\t}\r\n\t\t\telse if (this._layout==1){\r\n\t\t\t\tfor (i=0;i < cnt;i++){\r\n\t\t\t\t\tchild=this.getChildAt(i);\r\n\t\t\t\t\tif (this.foldInvisibleItems && !child.visible)\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\tsw=Math.ceil(child.width);\r\n\t\t\t\t\tsh=Math.ceil(child.height);\r\n\t\t\t\t\tif (curX !=0)\r\n\t\t\t\t\t\tcurX+=this._columnGap;\r\n\t\t\t\t\tchild.x=curX;\r\n\t\t\t\t\tcurX+=sw;\r\n\t\t\t\t\tif (sh > maxHeight)\r\n\t\t\t\t\t\tmaxHeight=sh;\r\n\t\t\t\t}\r\n\t\t\t\tcw=curX;\r\n\t\t\t\tch=curY+maxHeight;\r\n\t\t\t}\r\n\t\t\telse if (this._layout==2){\r\n\t\t\t\tvar j=0;\r\n\t\t\t\tfor (i=0;i < cnt;i++){\r\n\t\t\t\t\tchild=this.getChildAt(i);\r\n\t\t\t\t\tif (this.foldInvisibleItems && !child.visible)\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\tsw=Math.ceil(child.width);\r\n\t\t\t\t\tsh=Math.ceil(child.height);\r\n\t\t\t\t\tif (curX !=0)\r\n\t\t\t\t\t\tcurX+=this._columnGap;\r\n\t\t\t\t\tif(this._lineItemCount !=0 && j >=this._lineItemCount\r\n\t\t\t\t\t\t|| this._lineItemCount==0 && curX+sw > viewWidth && maxHeight !=0){\r\n\t\t\t\t\t\tcurX-=this._columnGap;\r\n\t\t\t\t\t\tif(curX > maxWidth)\r\n\t\t\t\t\t\t\tmaxWidth=curX;\r\n\t\t\t\t\t\tcurX=0;\r\n\t\t\t\t\t\tcurY+=maxHeight+this._lineGap;\r\n\t\t\t\t\t\tmaxHeight=0;\r\n\t\t\t\t\t\tj=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchild.setXY(curX,curY);\r\n\t\t\t\t\tcurX+=sw;\r\n\t\t\t\t\tif(sh > maxHeight)\r\n\t\t\t\t\t\tmaxHeight=sh;\r\n\t\t\t\t\tj++;\r\n\t\t\t\t}\r\n\t\t\t\tch=curY+maxHeight;\r\n\t\t\t\tcw=maxWidth;\r\n\t\t\t}\r\n\t\t\telse if (this._layout==3){\r\n\t\t\t\tj=0;\r\n\t\t\t\tfor (i=0;i < cnt;i++){\r\n\t\t\t\t\tchild=this.getChildAt(i);\r\n\t\t\t\t\tif (!child.visible)\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\tsw=Math.ceil(child.width);\r\n\t\t\t\t\tsh=Math.ceil(child.height);\r\n\t\t\t\t\tif (curY !=0)\r\n\t\t\t\t\t\tcurY+=this._lineGap;\r\n\t\t\t\t\tif(this._lineItemCount !=0 && j >=this._lineItemCount\r\n\t\t\t\t\t\t|| this._lineItemCount==0 && curY+sh > viewHeight && maxWidth !=0){\r\n\t\t\t\t\t\tcurY-=this._lineGap;\r\n\t\t\t\t\t\tif(curY > maxHeight)\r\n\t\t\t\t\t\t\tmaxHeight=curY;\r\n\t\t\t\t\t\tcurY=0;\r\n\t\t\t\t\t\tcurX+=maxWidth+this._columnGap;\r\n\t\t\t\t\t\tmaxWidth=0;\r\n\t\t\t\t\t\tj=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchild.setXY(curX,curY);\r\n\t\t\t\t\tcurY+=sh;\r\n\t\t\t\t\tif(sw > maxWidth)\r\n\t\t\t\t\t\tmaxWidth=sw;\r\n\t\t\t\t\tj++;\r\n\t\t\t\t}\r\n\t\t\t\tcw=curX+maxWidth;\r\n\t\t\t\tch=maxHeight;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tfor (i=0;i < cnt;i++){\r\n\t\t\t\t\tchild=this.getChildAt(i);\r\n\t\t\t\t\tif (this.foldInvisibleItems && !child.visible)\r\n\t\t\t\t\t\tcontinue ;\r\n\t\t\t\t\tsw=Math.ceil(child.width);\r\n\t\t\t\t\tsh=Math.ceil(child.height);\r\n\t\t\t\t\tif (curX !=0)\r\n\t\t\t\t\t\tcurX+=this._columnGap;\r\n\t\t\t\t\tif (this._lineItemCount !=0 && j >=this._lineItemCount\r\n\t\t\t\t\t\t|| this._lineItemCount==0 && curX+sw > viewWidth && maxHeight !=0){\r\n\t\t\t\t\t\tcurX-=this._columnGap;\r\n\t\t\t\t\t\tif (curX > maxWidth)\r\n\t\t\t\t\t\t\tmaxWidth=curX;\r\n\t\t\t\t\t\tcurX=0;\r\n\t\t\t\t\t\tcurY+=maxHeight+this._lineGap;\r\n\t\t\t\t\t\tmaxHeight=0;\r\n\t\t\t\t\t\tj=0;\r\n\t\t\t\t\t\tif (curY+sh > viewHeight && maxWidth !=0){\r\n\t\t\t\t\t\t\tp++;\r\n\t\t\t\t\t\t\tcurY=0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tchild.setXY(p *viewWidth+curX,curY);\r\n\t\t\t\t\tcurX+=sw;\r\n\t\t\t\t\tif (sh > maxHeight)\r\n\t\t\t\t\t\tmaxHeight=sh;\r\n\t\t\t\t\tj++;\r\n\t\t\t\t}\r\n\t\t\t\tch=curY+maxHeight;\r\n\t\t\t\tcw=(p+1)*viewWidth;\r\n\t\t\t}\r\n\t\t\tthis.handleAlign(cw,ch);\r\n\t\t\tthis.setBounds(0,0,cw,ch);\r\n\t\t}\r\n\r\n\t\t__proto.setup_beforeAdd=function(xml){\r\n\t\t\tfairygui.GObject.prototype.setup_beforeAdd.call(this,xml);\r\n\t\t\tvar str;\r\n\t\t\tvar arr;\r\n\t\t\tstr=xml.getAttribute(\"layout\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._layout=ListLayoutType.parse(str);\r\n\t\t\tvar overflow=0;\r\n\t\t\tstr=xml.getAttribute(\"overflow\");\r\n\t\t\tif (str)\r\n\t\t\t\toverflow=OverflowType.parse(str);\r\n\t\t\telse\r\n\t\t\toverflow=0;\r\n\t\t\tstr=xml.getAttribute(\"margin\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis._margin.parse(str);\r\n\t\t\tstr=xml.getAttribute(\"align\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis._align=str;\r\n\t\t\tstr=xml.getAttribute(\"vAlign\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis._verticalAlign=str;\r\n\t\t\tif(overflow==2){\r\n\t\t\t\tvar scroll=0;\r\n\t\t\t\tstr=xml.getAttribute(\"scroll\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tscroll=ScrollType.parse(str);\r\n\t\t\t\telse\r\n\t\t\t\tscroll=1;\r\n\t\t\t\tvar scrollBarDisplay=0;\r\n\t\t\t\tstr=xml.getAttribute(\"scrollBar\");\r\n\t\t\t\tif (str)\r\n\t\t\t\t\tscrollBarDisplay=ScrollBarDisplayType.parse(str);\r\n\t\t\t\telse\r\n\t\t\t\tscrollBarDisplay=0;\r\n\t\t\t\tvar scrollBarFlags=NaN;\r\n\t\t\t\tstr=xml.getAttribute(\"scrollBarFlags\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tscrollBarFlags=parseInt(str);\r\n\t\t\t\telse\r\n\t\t\t\tscrollBarFlags=0;\r\n\t\t\t\tvar scrollBarMargin=new Margin();\r\n\t\t\t\tstr=xml.getAttribute(\"scrollBarMargin\");\r\n\t\t\t\tif(str)\r\n\t\t\t\t\tscrollBarMargin.parse(str);\r\n\t\t\t\tvar vtScrollBarRes;\r\n\t\t\t\tvar hzScrollBarRes;\r\n\t\t\t\tstr=xml.getAttribute(\"scrollBarRes\");\r\n\t\t\t\tif(str){\r\n\t\t\t\t\tarr=str.split(\",\");\r\n\t\t\t\t\tvtScrollBarRes=arr[0];\r\n\t\t\t\t\thzScrollBarRes=arr[1];\r\n\t\t\t\t}\r\n\t\t\t\tthis.setupScroll(scrollBarMargin,scroll,scrollBarDisplay,scrollBarFlags,vtScrollBarRes,hzScrollBarRes);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tthis.setupOverflow(overflow);\r\n\t\t\tstr=xml.getAttribute(\"lineGap\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._lineGap=parseInt(str);\r\n\t\t\tstr=xml.getAttribute(\"colGap\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._columnGap=parseInt(str);\r\n\t\t\tstr=xml.getAttribute(\"lineItemCount\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis._lineItemCount=parseInt(str);\r\n\t\t\tstr=xml.getAttribute(\"selectionMode\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._selectionMode=ListSelectionMode.parse(str);\r\n\t\t\tstr=xml.getAttribute(\"defaultItem\");\r\n\t\t\tif (str)\r\n\t\t\t\tthis._defaultItem=str;\r\n\t\t\tstr=xml.getAttribute(\"autoItemSize\");\r\n\t\t\tthis._autoResizeItem=str !=\"false\";\r\n\t\t\tvar col=xml.childNodes;\r\n\t\t\tvar length=col.length;\r\n\t\t\tfor (var i=0;i < length;i++){\r\n\t\t\t\tvar cxml=col[i];\r\n\t\t\t\tif(cxml.nodeName !=\"item\")\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tvar url=cxml.getAttribute(\"url\");\r\n\t\t\t\tif (!url)\r\n\t\t\t\t\turl=this._defaultItem;\r\n\t\t\t\tif (!url)\r\n\t\t\t\t\tcontinue ;\r\n\t\t\t\tvar obj=this.getFromPool(url);\r\n\t\t\t\tif(obj !=null){\r\n\t\t\t\t\tthis.addChild(obj);\r\n\t\t\t\t\tstr=cxml.getAttribute(\"title\");\r\n\t\t\t\t\tif(str)\r\n\t\t\t\t\t\tobj.text=str;\r\n\t\t\t\t\tstr=cxml.getAttribute(\"icon\");\r\n\t\t\t\t\tif(str)\r\n\t\t\t\t\t\tobj.icon=str;\r\n\t\t\t\t\tstr=cxml.getAttribute(\"name\");\r\n\t\t\t\t\tif(str)\r\n\t\t\t\t\t\tobj.name=str;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'lineItemCount',function(){\r\n\t\t\treturn this._lineItemCount;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._lineItemCount !=value){\r\n\t\t\t\tthis._lineItemCount=value;\r\n\t\t\t\tthis.setBoundsChangedFlag();\r\n\t\t\t\tif(this._virtual)\r\n\t\t\t\t\tthis.setVirtualListChangedFlag(true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'layout',function(){\r\n\t\t\treturn this._layout;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._layout !=value){\r\n\t\t\t\tthis._layout=value;\r\n\t\t\t\tthis.setBoundsChangedFlag();\r\n\t\t\t\tif(this._virtual)\r\n\t\t\t\t\tthis.setVirtualListChangedFlag(true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'autoResizeItem',function(){\r\n\t\t\treturn this._autoResizeItem;\r\n\t\t\t},function(value){\r\n\t\t\tthis._autoResizeItem=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'lineGap',function(){\r\n\t\t\treturn this._lineGap;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._lineGap !=value){\r\n\t\t\t\tthis._lineGap=value;\r\n\t\t\t\tthis.setBoundsChangedFlag();\r\n\t\t\t\tif(this._virtual)\r\n\t\t\t\t\tthis.setVirtualListChangedFlag(true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'columnGap',function(){\r\n\t\t\treturn this._columnGap;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._columnGap !=value){\r\n\t\t\t\tthis._columnGap=value;\r\n\t\t\t\tthis.setBoundsChangedFlag();\r\n\t\t\t\tif (this._virtual)\r\n\t\t\t\t\tthis.setVirtualListChangedFlag(true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'align',function(){\r\n\t\t\treturn this._align;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._align!=value){\r\n\t\t\t\tthis._align=value;\r\n\t\t\t\tthis.setBoundsChangedFlag();\r\n\t\t\t\tif (this._virtual)\r\n\t\t\t\t\tthis.setVirtualListChangedFlag(true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'verticalAlign',function(){\r\n\t\t\treturn this._verticalAlign;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._verticalAlign!=value){\r\n\t\t\t\tthis._verticalAlign=value;\r\n\t\t\t\tthis.setBoundsChangedFlag();\r\n\t\t\t\tif (this._virtual)\r\n\t\t\t\t\tthis.setVirtualListChangedFlag(true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'virtualItemSize',function(){\r\n\t\t\treturn this._itemSize;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._virtual){\r\n\t\t\t\tif(this._itemSize==null)\r\n\t\t\t\t\tthis._itemSize=new Point();\r\n\t\t\t\tthis._itemSize.setTo(value.x,value.y);\r\n\t\t\t\tthis.setVirtualListChangedFlag(true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'defaultItem',function(){\r\n\t\t\treturn this._defaultItem;\r\n\t\t\t},function(val){\r\n\t\t\tthis._defaultItem=val;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'selectionMode',function(){\r\n\t\t\treturn this._selectionMode;\r\n\t\t\t},function(value){\r\n\t\t\tthis._selectionMode=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'itemPool',function(){\r\n\t\t\treturn this._pool;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'selectedIndex',function(){\r\n\t\t\tvar cnt=this._children.length;\r\n\t\t\tfor (var i=0;i < cnt;i++){\r\n\t\t\t\tvar obj=this._children[i];\r\n\t\t\t\tif (((obj instanceof fairygui.GButton ))&& (obj).selected)\r\n\t\t\t\t\treturn this.childIndexToItemIndex(i);\r\n\t\t\t}\r\n\t\t\treturn-1;\r\n\t\t\t},function(value){\r\n\t\t\tthis.clearSelection();\r\n\t\t\tif (value >=0 && value < this.numItems)\r\n\t\t\t\tthis.addSelection(value);\r\n\t\t});\r\n\r\n\t\t/// </summary>\r\n\t\t__getset(0,__proto,'numItems',function(){\r\n\t\t\tif(this._virtual)\r\n\t\t\t\treturn this._numItems;\r\n\t\t\telse\r\n\t\t\treturn this._children.length;\r\n\t\t\t},function(value){\r\n\t\t\tvar i=0;\r\n\t\t\tif (this._virtual){\r\n\t\t\t\tif (this.itemRenderer==null)\r\n\t\t\t\t\tthrow new Error(\"Set itemRenderer first!\");\r\n\t\t\t\tthis._numItems=value;\r\n\t\t\t\tif (this._loop)\r\n\t\t\t\t\tthis._realNumItems=this._numItems *5;\r\n\t\t\t\telse\r\n\t\t\t\tthis._realNumItems=this._numItems;\r\n\t\t\t\tvar oldCount=this._virtualItems.length;\r\n\t\t\t\tif (this._realNumItems > oldCount){\r\n\t\t\t\t\tfor (i=oldCount;i < this._realNumItems;i++){\r\n\t\t\t\t\t\tvar ii=new ItemInfo();\r\n\t\t\t\t\t\tii.width=this._itemSize.x;\r\n\t\t\t\t\t\tii.height=this._itemSize.y;\r\n\t\t\t\t\t\tthis._virtualItems.push(ii);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (this._virtualListChanged !=0)\r\n\t\t\t\t\tLaya.timer.clear(this,this._refreshVirtualList);\r\n\t\t\t\tthis._refreshVirtualList();\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tvar cnt=this._children.length;\r\n\t\t\t\tif (value > cnt){\r\n\t\t\t\t\tfor (i=cnt;i < value;i++){\r\n\t\t\t\t\t\tif (this.itemProvider==null)\r\n\t\t\t\t\t\t\tthis.addItemFromPool();\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\tthis.addItemFromPool(this.itemProvider.runWith(i));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tthis.removeChildrenToPool(value,cnt);\r\n\t\t\t\t}\r\n\t\t\t\tif (this.itemRenderer !=null){\r\n\t\t\t\t\tfor (i=0;i < value;i++)\r\n\t\t\t\t\tthis.itemRenderer.runWith([i,this.getChildAt(i)]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tGList.itemInfoVer=0;\r\n\t\tGList.enterCounter=0;\r\n\t\tGList.pos_param=NaN\r\n\t\tGList.__init$=function(){\r\n\t\t\t//class ItemInfo\r\n\t\t\tItemInfo=(function(){\r\n\t\t\t\tfunction ItemInfo(){\r\n\t\t\t\t\tthis.width=0;\r\n\t\t\t\t\tthis.height=0;\r\n\t\t\t\t\tthis.obj=null;\r\n\t\t\t\t\tthis.updateFlag=0;\r\n\t\t\t\t}\r\n\t\t\t\t__class(ItemInfo,'');\r\n\t\t\t\treturn ItemInfo;\r\n\t\t\t})()\r\n\t\t}\r\n\r\n\t\treturn GList;\r\n\t})(GComponent)\r\n\r\n\r\n\t//class fairygui.GRichTextField extends fairygui.GTextField\r\n\tvar GRichTextField=(function(_super){\r\n\t\tfunction GRichTextField(){\r\n\t\t\tthis.div=null;\r\n\t\t\tthis._text=null;\r\n\t\t\tthis._ubbEnabled=false;\r\n\t\t\tthis._color=null;\r\n\t\t\tGRichTextField.__super.call(this);\r\n\t\t\tthis._text=\"\";\r\n\t\t}\r\n\r\n\t\t__class(GRichTextField,'fairygui.GRichTextField',_super);\r\n\t\tvar __proto=GRichTextField.prototype;\r\n\t\tLaya.imps(__proto,{\"fairygui.IColorGear\":true})\r\n\t\t__proto.createDisplayObject=function(){\r\n\t\t\tthis._displayObject=this.div=new HTMLDivElement();\r\n\t\t\tthis._displayObject.mouseEnabled=true;\r\n\t\t\tthis._displayObject[\"$owner\"]=this;\r\n\t\t}\r\n\r\n\t\t__proto.handleSizeChanged=function(){\r\n\t\t\tthis.div.size(this.width,this.height);\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'bold',function(){\r\n\t\t\treturn this.div.style.bold;\r\n\t\t\t},function(value){\r\n\t\t\tthis.div.style.bold=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'align',function(){\r\n\t\t\treturn this.div.style.align;\r\n\t\t\t},function(value){\r\n\t\t\tthis.div.style.align=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'text',function(){\r\n\t\t\treturn this._text;\r\n\t\t\t},function(value){\r\n\t\t\tthis._text=value;\r\n\t\t\tif(this._ubbEnabled)\r\n\t\t\t\tthis.div.innerHTML=ToolSet.parseUBB(ToolSet.encodeHTML(this._text));\r\n\t\t\telse\r\n\t\t\tthis.div.innerHTML=this._text;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'color',function(){\r\n\t\t\treturn this._color;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._color !=value){\r\n\t\t\t\tthis._color=value;\r\n\t\t\t\tthis.div.color=value;\r\n\t\t\t\tif (this._gearColor.controller)\r\n\t\t\t\t\tthis._gearColor.updateState();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'font',function(){\r\n\t\t\treturn this.div.style.font;\r\n\t\t\t},function(value){\r\n\t\t\tthis.div.style.font=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'leading',function(){\r\n\t\t\treturn this.div.style.leading;\r\n\t\t\t},function(value){\r\n\t\t\tthis.div.style.leading=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'fontSize',function(){\r\n\t\t\treturn this.div.style.fontSize;\r\n\t\t\t},function(value){\r\n\t\t\tthis.div.style.fontSize=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'valign',function(){\r\n\t\t\treturn this.div.style.valign;\r\n\t\t\t},function(value){\r\n\t\t\tthis.div.style.valign=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'italic',function(){\r\n\t\t\treturn this.div.style.italic;\r\n\t\t\t},function(value){\r\n\t\t\tthis.div.style.italic=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'stroke',function(){\r\n\t\t\treturn this.div.style.stroke;\r\n\t\t\t},function(value){\r\n\t\t\tthis.div.style.stroke=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'strokeColor',function(){\r\n\t\t\treturn this.div.style.strokeColor;\r\n\t\t\t},function(value){\r\n\t\t\tthis.div.style.strokeColor=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'ubbEnabled',function(){\r\n\t\t\treturn this._ubbEnabled;\r\n\t\t\t},function(value){\r\n\t\t\tthis._ubbEnabled=value;\r\n\t\t});\r\n\r\n\t\treturn GRichTextField;\r\n\t})(GTextField)\r\n\r\n\r\n\t//class fairygui.GProgressBar extends fairygui.GComponent\r\n\tvar GProgressBar=(function(_super){\r\n\t\tfunction GProgressBar(){\r\n\t\t\tthis._max=0;\r\n\t\t\tthis._value=0;\r\n\t\t\tthis._titleType=0;\r\n\t\t\tthis._reverse=false;\r\n\t\t\tthis._titleObject=null;\r\n\t\t\tthis._aniObject=null;\r\n\t\t\tthis._barObjectH=null;\r\n\t\t\tthis._barObjectV=null;\r\n\t\t\tthis._barMaxWidth=0;\r\n\t\t\tthis._barMaxHeight=0;\r\n\t\t\tthis._barMaxWidthDelta=0;\r\n\t\t\tthis._barMaxHeightDelta=0;\r\n\t\t\tthis._barStartX=0;\r\n\t\t\tthis._barStartY=0;\r\n\t\t\tthis._tweener=null;\r\n\t\t\tthis._tweenValue=0;\r\n\t\t\tGProgressBar.__super.call(this);\r\n\t\t\tthis._titleType=0;\r\n\t\t\tthis._value=50;\r\n\t\t\tthis._max=100;\r\n\t\t}\r\n\r\n\t\t__class(GProgressBar,'fairygui.GProgressBar',_super);\r\n\t\tvar __proto=GProgressBar.prototype;\r\n\t\t__proto.tweenValue=function(value,duration){\r\n\t\t\tif(this._value !=value){\r\n\t\t\t\tif(this._tweener)\r\n\t\t\t\t\tthis._tweener.clear();\r\n\t\t\t\tthis._tweenValue=this._value;\r\n\t\t\t\tthis._value=value;\r\n\t\t\t\tthis._tweener=Tween.to(this,{_tweenValue:value },duration *1000,fairygui.GProgressBar.easeLinear);\r\n\t\t\t\tthis._tweener.update=Handler.create(this,this.onUpdateTween,null,false);\r\n\t\t\t\treturn this._tweener;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.onUpdateTween=function(){\r\n\t\t\tthis.update(this._tweenValue);\r\n\t\t}\r\n\r\n\t\t__proto.update=function(newValue){\r\n\t\t\tvar percent=Math.min(newValue / this._max,1);\r\n\t\t\tif(this._titleObject){\r\n\t\t\t\tswitch(this._titleType){\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tthis._titleObject.text=Math.round(percent *100)+\"%\";\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tthis._titleObject.text=Math.round(newValue)+\"/\"+Math.round(this._max);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tthis._titleObject.text=\"\"+Math.round(newValue);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tthis._titleObject.text=\"\"+Math.round(this._max);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar fullWidth=this.width-this._barMaxWidthDelta;\r\n\t\t\tvar fullHeight=this.height-this._barMaxHeightDelta;\r\n\t\t\tif(!this._reverse){\r\n\t\t\t\tif(this._barObjectH)\r\n\t\t\t\t\tthis._barObjectH.width=fullWidth *percent;\r\n\t\t\t\tif(this._barObjectV)\r\n\t\t\t\t\tthis._barObjectV.height=fullHeight *percent;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(this._barObjectH){\r\n\t\t\t\t\tthis._barObjectH.width=fullWidth *percent;\r\n\t\t\t\t\tthis._barObjectH.x=this._barStartX+(fullWidth-this._barObjectH.width);\r\n\t\t\t\t}\r\n\t\t\t\tif(this._barObjectV){\r\n\t\t\t\t\tthis._barObjectV.height=fullHeight *percent;\r\n\t\t\t\t\tthis._barObjectV.y=this._barStartY+(fullHeight-this._barObjectV.height);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif((this._aniObject instanceof fairygui.GMovieClip ))\r\n\t\t\t\t(this._aniObject).frame=Math.round(percent *100);\r\n\t\t}\r\n\r\n\t\t__proto.constructFromXML=function(xml){\r\n\t\t\t_super.prototype.constructFromXML.call(this,xml);\r\n\t\t\txml=ToolSet.findChildNode(xml,\"ProgressBar\");\r\n\t\t\tvar str;\r\n\t\t\tstr=xml.getAttribute(\"titleType\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis._titleType=ProgressTitleType.parse(str);\r\n\t\t\tthis._reverse=xml.getAttribute(\"reverse\")==\"true\";\r\n\t\t\tthis._titleObject=(this.getChild(\"title\"));\r\n\t\t\tthis._barObjectH=this.getChild(\"bar\");\r\n\t\t\tthis._barObjectV=this.getChild(\"bar_v\");\r\n\t\t\tthis._aniObject=this.getChild(\"ani\");\r\n\t\t\tif(this._barObjectH){\r\n\t\t\t\tthis._barMaxWidth=this._barObjectH.width;\r\n\t\t\t\tthis._barMaxWidthDelta=this.width-this._barMaxWidth;\r\n\t\t\t\tthis._barStartX=this._barObjectH.x;\r\n\t\t\t}\r\n\t\t\tif(this._barObjectV){\r\n\t\t\t\tthis._barMaxHeight=this._barObjectV.height;\r\n\t\t\t\tthis._barMaxHeightDelta=this.height-this._barMaxHeight;\r\n\t\t\t\tthis._barStartY=this._barObjectV.y;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.handleSizeChanged=function(){\r\n\t\t\t_super.prototype.handleSizeChanged.call(this);\r\n\t\t\tif(this._barObjectH)\r\n\t\t\t\tthis._barMaxWidth=this.width-this._barMaxWidthDelta;\r\n\t\t\tif(this._barObjectV)\r\n\t\t\t\tthis._barMaxHeight=this.height-this._barMaxHeightDelta;\r\n\t\t\tif(!this._underConstruct)\r\n\t\t\t\tthis.update(this._value);\r\n\t\t}\r\n\r\n\t\t__proto.setup_afterAdd=function(xml){\r\n\t\t\tfairygui.GObject.prototype.setup_afterAdd.call(this,xml);\r\n\t\t\txml=ToolSet.findChildNode(xml,\"ProgressBar\");\r\n\t\t\tif (xml){\r\n\t\t\t\tthis._value=parseInt(xml.getAttribute(\"value\"));\r\n\t\t\t\tthis._max=parseInt(xml.getAttribute(\"max\"));\r\n\t\t\t}\r\n\t\t\tthis.update(this._value);\r\n\t\t}\r\n\r\n\t\t__proto.dispose=function(){\r\n\t\t\tif(this._tweener)\r\n\t\t\t\tthis._tweener.clear();\r\n\t\t\t_super.prototype.dispose.call(this);\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'max',function(){\r\n\t\t\treturn this._max;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._max !=value){\r\n\t\t\t\tthis._max=value;\r\n\t\t\t\tthis.update(this._value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'titleType',function(){\r\n\t\t\treturn this._titleType;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._titleType !=value){\r\n\t\t\t\tthis._titleType=value;\r\n\t\t\t\tthis.update(this._value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'value',function(){\r\n\t\t\treturn this._value;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._tweener !=null){\r\n\t\t\t\tthis._tweener.clear();\r\n\t\t\t\tthis._tweener=null;\r\n\t\t\t}\r\n\t\t\tif(this._value !=value){\r\n\t\t\t\tthis._value=value;\r\n\t\t\t\tthis.update(this._value);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__static(GProgressBar,\r\n\t\t['easeLinear',function(){return this.easeLinear=Ease.linearNone;}\r\n\t\t]);\r\n\t\treturn GProgressBar;\r\n\t})(GComponent)\r\n\r\n\r\n\t//class fairygui.GTextInput extends fairygui.GTextField\r\n\tvar GTextInput=(function(_super){\r\n\t\tfunction GTextInput(){\r\n\t\t\tthis.input=null;\r\n\t\t\tGTextInput.__super.call(this);\r\n\t\t}\r\n\r\n\t\t__class(GTextInput,'fairygui.GTextInput',_super);\r\n\t\tvar __proto=GTextInput.prototype;\r\n\t\tLaya.imps(__proto,{\"fairygui.IColorGear\":true})\r\n\t\t__proto.createDisplayObject=function(){\r\n\t\t\tthis._displayObject=this.input=new Input();\r\n\t\t\tthis._displayObject.mouseEnabled=true;\r\n\t\t\tthis._displayObject[\"$owner\"]=this;\r\n\t\t}\r\n\r\n\t\t__proto.handleSizeChanged=function(){\r\n\t\t\tthis.input.size(this.width,this.height);\r\n\t\t}\r\n\r\n\t\t__proto.setup_beforeAdd=function(xml){\r\n\t\t\t_super.prototype.setup_beforeAdd.call(this,xml);\r\n\t\t\tvar str=xml.getAttribute(\"prompt\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis.promptText=str;\r\n\t\t\tstr=xml.getAttribute(\"maxLength\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis.input.maxChars=parseInt(str);\r\n\t\t\tstr=xml.getAttribute(\"restrict\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis.input.restrict=str;\r\n\t\t\tif(xml.getAttribute(\"password\")==\"true\")\r\n\t\t\t\tthis.password=true;\r\n\t\t\telse{\r\n\t\t\t\tstr=xml.getAttribute(\"keyboardType\");\r\n\t\t\t\tif(str==\"4\")\r\n\t\t\t\t\tthis.keyboardType=\"number\";\r\n\t\t\t\telse if(str==\"3\")\r\n\t\t\t\tthis.keyboardType=\"url\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'bold',function(){\r\n\t\t\treturn this.input.bold;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.bold=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'align',function(){\r\n\t\t\treturn this.input.align;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.align=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'text',function(){\r\n\t\t\treturn this.input.text;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.text=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'password',function(){\r\n\t\t\treturn this.input.type==\"password\";\r\n\t\t\t},function(value){\r\n\t\t\tif (value)\r\n\t\t\t\tthis.input.type=\"password\";\r\n\t\t\telse\r\n\t\t\tthis.input.type=\"text\";\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'color',function(){\r\n\t\t\treturn this.input.color;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.color=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'font',function(){\r\n\t\t\treturn this.input.font;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.font=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'leading',function(){\r\n\t\t\treturn this.input.leading;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.leading=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'maxLength',function(){\r\n\t\t\treturn this.input.maxChars;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.maxChars=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'fontSize',function(){\r\n\t\t\treturn this.input.fontSize;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.fontSize=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'valign',function(){\r\n\t\t\treturn this.input.valign;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.valign=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'italic',function(){\r\n\t\t\treturn this.input.italic;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.italic=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'singleLine',function(){\r\n\t\t\treturn !this.input.multiline;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.multiline=!value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'stroke',function(){\r\n\t\t\treturn this.input.stroke;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.stroke=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'strokeColor',function(){\r\n\t\t\treturn this.input.strokeColor;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.strokeColor=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'keyboardType',function(){\r\n\t\t\treturn this.input.type;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.type=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'editable',function(){\r\n\t\t\treturn this.input.editable;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.editable=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'promptText',function(){\r\n\t\t\treturn this.input.prompt;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.prompt=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'restrict',function(){\r\n\t\t\treturn this.input.restrict;\r\n\t\t\t},function(value){\r\n\t\t\tthis.input.restrict=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'textWidth',function(){\r\n\t\t\treturn this.input.textWidth;\r\n\t\t});\r\n\r\n\t\treturn GTextInput;\r\n\t})(GTextField)\r\n\r\n\r\n\t//class fairygui.GRoot extends fairygui.GComponent\r\n\tvar GRoot=(function(_super){\r\n\t\tfunction GRoot(){\r\n\t\t\tthis._modalLayer=null;\r\n\t\t\tthis._popupStack=null;\r\n\t\t\tthis._justClosedPopups=null;\r\n\t\t\tthis._modalWaitPane=null;\r\n\t\t\tthis._focusedObject=null;\r\n\t\t\tthis._tooltipWin=null;\r\n\t\t\tthis._defaultTooltipWin=null;\r\n\t\t\tthis._checkPopups=false;\r\n\t\t\tGRoot.__super.call(this);\r\n\t\t\tif(fairygui.GRoot._inst==null)\r\n\t\t\t\tfairygui.GRoot._inst=this;\r\n\t\t\tthis.opaque=false;\r\n\t\t\tthis._popupStack=[];\r\n\t\t\tthis._justClosedPopups=[];\r\n\t\t\tthis.displayObject.once(\"display\",this,this.__addedToStage);\r\n\t\t}\r\n\r\n\t\t__class(GRoot,'fairygui.GRoot',_super);\r\n\t\tvar __proto=GRoot.prototype;\r\n\t\t__proto.showWindow=function(win){\r\n\t\t\tthis.addChild(win);\r\n\t\t\twin.requestFocus();\r\n\t\t\tif(win.x > this.width)\r\n\t\t\t\twin.x=this.width-win.width;\r\n\t\t\telse if(win.x+win.width < 0)\r\n\t\t\twin.x=0;\r\n\t\t\tif(win.y > this.height)\r\n\t\t\t\twin.y=this.height-win.height;\r\n\t\t\telse if(win.y+win.height < 0)\r\n\t\t\twin.y=0;\r\n\t\t\tthis.adjustModalLayer();\r\n\t\t}\r\n\r\n\t\t__proto.hideWindow=function(win){\r\n\t\t\twin.hide();\r\n\t\t}\r\n\r\n\t\t__proto.hideWindowImmediately=function(win){\r\n\t\t\tif(win.parent==this)\r\n\t\t\t\tthis.removeChild(win);\r\n\t\t\tthis.adjustModalLayer();\r\n\t\t}\r\n\r\n\t\t__proto.bringToFront=function(win){\r\n\t\t\tvar cnt=this.numChildren;\r\n\t\t\tvar i=NaN;\r\n\t\t\tif(this._modalLayer.parent!=null && !win.modal)\r\n\t\t\t\ti=this.getChildIndex(this._modalLayer)-1;\r\n\t\t\telse\r\n\t\t\ti=cnt-1;\r\n\t\t\tfor(;i >=0;i--){\r\n\t\t\t\tvar g=this.getChildAt(i);\r\n\t\t\t\tif(g==win)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tif((g instanceof fairygui.Window ))\r\n\t\t\t\t\tbreak ;\r\n\t\t\t}\r\n\t\t\tif(i>=0)\r\n\t\t\t\tthis.setChildIndex(win,i);\r\n\t\t}\r\n\r\n\t\t__proto.showModalWait=function(msg){\r\n\t\t\tif(UIConfig1.globalModalWaiting !=null){\r\n\t\t\t\tif(this._modalWaitPane==null)\r\n\t\t\t\t\tthis._modalWaitPane=UIPackage.createObjectFromURL(UIConfig1.globalModalWaiting);\r\n\t\t\t\tthis._modalWaitPane.setSize(this.width,this.height);\r\n\t\t\t\tthis._modalWaitPane.addRelation(this,24);\r\n\t\t\t\tthis.addChild(this._modalWaitPane);\r\n\t\t\t\tthis._modalWaitPane.text=msg;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.closeModalWait=function(){\r\n\t\t\tif(this._modalWaitPane !=null && this._modalWaitPane.parent !=null)\r\n\t\t\t\tthis.removeChild(this._modalWaitPane);\r\n\t\t}\r\n\r\n\t\t__proto.closeAllExceptModals=function(){\r\n\t\t\tvar arr=this._children.slice();\r\n\t\t\tvar cnt=arr.length;\r\n\t\t\tfor(var i=0;i < cnt;i++){\r\n\t\t\t\tvar g=arr[i];\r\n\t\t\t\tif(((g instanceof fairygui.Window ))&& !(g).modal)\r\n\t\t\t\t\t(g).hide();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.closeAllWindows=function(){\r\n\t\t\tvar arr=this._children.slice();\r\n\t\t\tvar cnt=arr.length;\r\n\t\t\tfor(var i=0;i < cnt;i++){\r\n\t\t\t\tvar g=arr[i];\r\n\t\t\t\tif((g instanceof fairygui.Window ))\r\n\t\t\t\t\t(g).hide();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.getTopWindow=function(){\r\n\t\t\tvar cnt=this.numChildren;\r\n\t\t\tfor(var i=cnt-1;i >=0;i--){\r\n\t\t\t\tvar g=this.getChildAt(i);\r\n\t\t\t\tif((g instanceof fairygui.Window )){\r\n\t\t\t\t\treturn (g);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.showPopup=function(popup,target,downward){\r\n\t\t\tif(this._popupStack.length > 0){\r\n\t\t\t\tvar k=this._popupStack.indexOf(popup);\r\n\t\t\t\tif(k !=-1){\r\n\t\t\t\t\tfor(var i=this._popupStack.length-1;i >=k;i--)\r\n\t\t\t\t\tthis.removeChild(this._popupStack.pop());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._popupStack.push(popup);\r\n\t\t\tthis.addChild(popup);\r\n\t\t\tthis.adjustModalLayer();\r\n\t\t\tvar pos;\r\n\t\t\tvar sizeW=NaN,sizeH=0;\r\n\t\t\tif(target){\r\n\t\t\t\tpos=target.localToGlobal();\r\n\t\t\t\tsizeW=target.width;\r\n\t\t\t\tsizeH=target.height;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tpos=this.globalToLocal(Laya.stage.mouseX,Laya.stage.mouseY);\r\n\t\t\t};\r\n\t\t\tvar xx=NaN,yy=NaN;\r\n\t\t\txx=pos.x;\r\n\t\t\tif(xx+popup.width > this.width)\r\n\t\t\t\txx=xx+sizeW-popup.width;\r\n\t\t\tyy=pos.y+sizeH;\r\n\t\t\tif((downward==null && yy+popup.height > this.height)\r\n\t\t\t\t|| downward==false){\r\n\t\t\t\tyy=pos.y-popup.height-1;\r\n\t\t\t\tif(yy < 0){\r\n\t\t\t\t\tyy=0;\r\n\t\t\t\t\txx+=sizeW / 2;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tpopup.x=xx;\r\n\t\t\tpopup.y=yy;\r\n\t\t}\r\n\r\n\t\t__proto.togglePopup=function(popup,target,downward){\r\n\t\t\tif(this._justClosedPopups.indexOf(popup)!=-1)\r\n\t\t\t\treturn;\r\n\t\t\tthis.showPopup(popup,target,downward);\r\n\t\t}\r\n\r\n\t\t__proto.hidePopup=function(popup){\r\n\t\t\tif(popup !=null){\r\n\t\t\t\tvar k=this._popupStack.indexOf(popup);\r\n\t\t\t\tif(k !=-1){\r\n\t\t\t\t\tfor(var i=this._popupStack.length-1;i >=k;i--)\r\n\t\t\t\t\tthis.closePopup(this._popupStack.pop());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar cnt=this._popupStack.length;\r\n\t\t\t\tfor(i=cnt-1;i >=0;i--)\r\n\t\t\t\tthis.closePopup(this._popupStack[i]);\r\n\t\t\t\tthis._popupStack.length=0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.closePopup=function(target){\r\n\t\t\tif(target.parent !=null){\r\n\t\t\t\tif((target instanceof fairygui.Window ))\r\n\t\t\t\t\t(target).hide();\r\n\t\t\t\telse\r\n\t\t\t\tthis.removeChild(target);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.showTooltips=function(msg){\r\n\t\t\tif (this._defaultTooltipWin==null){\r\n\t\t\t\tvar resourceURL=UIConfig1.tooltipsWin;\r\n\t\t\t\tif (!resourceURL){\r\n\t\t\t\t\tLog.print(\"UIConfig.tooltipsWin not defined\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis._defaultTooltipWin=UIPackage.createObjectFromURL(resourceURL);\r\n\t\t\t}\r\n\t\t\tthis._defaultTooltipWin.text=msg;\r\n\t\t\tthis.showTooltipsWin(this._defaultTooltipWin);\r\n\t\t}\r\n\r\n\t\t__proto.showTooltipsWin=function(tooltipWin,position){\r\n\t\t\tthis.hideTooltips();\r\n\t\t\tthis._tooltipWin=tooltipWin;\r\n\t\t\tvar xx=0;\r\n\t\t\tvar yy=0;\r\n\t\t\tif (position==null){\r\n\t\t\t\txx=Laya.stage.mouseX+10;\r\n\t\t\t\tyy=Laya.stage.mouseY+20;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\txx=position.x;\r\n\t\t\t\tyy=position.y;\r\n\t\t\t};\r\n\t\t\tvar pt=this.globalToLocal(xx,yy);\r\n\t\t\txx=pt.x;\r\n\t\t\tyy=pt.y;\r\n\t\t\tif (xx+this._tooltipWin.width > this.width){\r\n\t\t\t\txx=xx-this._tooltipWin.width-1;\r\n\t\t\t\tif (xx < 0)\r\n\t\t\t\t\txx=10;\r\n\t\t\t}\r\n\t\t\tif (yy+this._tooltipWin.height > this.height){\r\n\t\t\t\tyy=yy-this._tooltipWin.height-1;\r\n\t\t\t\tif (xx-this._tooltipWin.width-1 > 0)\r\n\t\t\t\t\txx=xx-this._tooltipWin.width-1;\r\n\t\t\t\tif (yy < 0)\r\n\t\t\t\t\tyy=10;\r\n\t\t\t}\r\n\t\t\tthis._tooltipWin.x=xx;\r\n\t\t\tthis._tooltipWin.y=yy;\r\n\t\t\tthis.addChild(this._tooltipWin);\r\n\t\t}\r\n\r\n\t\t__proto.hideTooltips=function(){\r\n\t\t\tif (this._tooltipWin !=null){\r\n\t\t\t\tif (this._tooltipWin.parent)\r\n\t\t\t\t\tthis.removeChild(this._tooltipWin);\r\n\t\t\t\tthis._tooltipWin=null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.getObjectUnderPoint=function(globalX,globalY){\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\t__proto.setFocus=function(value){\r\n\t\t\tif(this._focusedObject!=value){\r\n\t\t\t\tthis._focusedObject=value;\r\n\t\t\t\tthis.displayObject.event(\"fui_focus_changed\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.playOneShotSound=function(url,volumeScale){\r\n\t\t\t(volumeScale===void 0)&& (volumeScale=1);\r\n\t\t\tSoundManager.playSound(url);\r\n\t\t}\r\n\r\n\t\t__proto.adjustModalLayer=function(){\r\n\t\t\tvar cnt=this.numChildren;\r\n\t\t\tif (this._modalWaitPane !=null && this._modalWaitPane.parent !=null)\r\n\t\t\t\tthis.setChildIndex(this._modalWaitPane,cnt-1);\r\n\t\t\tfor(var i=cnt-1;i >=0;i--){\r\n\t\t\t\tvar g=this.getChildAt(i);\r\n\t\t\t\tif(((g instanceof fairygui.Window ))&& (g).modal){\r\n\t\t\t\t\tif(this._modalLayer.parent==null)\r\n\t\t\t\t\t\tthis.addChildAt(this._modalLayer,i);\r\n\t\t\t\t\telse\r\n\t\t\t\t\tthis.setChildIndexBefore(this._modalLayer,i);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this._modalLayer.parent !=null)\r\n\t\t\t\tthis.removeChild(this._modalLayer);\r\n\t\t}\r\n\r\n\t\t__proto.__addedToStage=function(){\r\n\t\t\tLaya.stage.on(\"mousedown\",this,this.__stageMouseDown);\r\n\t\t\tLaya.stage.on(\"mouseup\",this,this.__stageMouseUp);\r\n\t\t\tthis._modalLayer=new GGraph();\r\n\t\t\tthis._modalLayer.setSize(this.width,this.height);\r\n\t\t\tthis._modalLayer.drawRect(0,null,UIConfig1.modalLayerColor);\r\n\t\t\tthis._modalLayer.addRelation(this,24);\r\n\t\t\tthis.displayObject.stage.on(\"resize\",this,this.__winResize);\r\n\t\t\tthis.__winResize();\r\n\t\t}\r\n\r\n\t\t__proto.checkPopups=function(clickTarget){\r\n\t\t\tif(this._checkPopups)\r\n\t\t\t\treturn;\r\n\t\t\tthis._checkPopups=true;\r\n\t\t\tthis._justClosedPopups.length=0;\r\n\t\t\tif (this._popupStack.length > 0){\r\n\t\t\t\tvar mc=clickTarget;\r\n\t\t\t\twhile (mc !=this.displayObject.stage && mc !=null){\r\n\t\t\t\t\tif (mc[\"$owner\"]){\r\n\t\t\t\t\t\tvar pindex=this._popupStack.indexOf(mc[\"$owner\"]);\r\n\t\t\t\t\t\tif (pindex !=-1){\r\n\t\t\t\t\t\t\tfor(var i=this._popupStack.length-1;i > pindex;i--){\r\n\t\t\t\t\t\t\t\tvar popup=this._popupStack.pop();\r\n\t\t\t\t\t\t\t\tthis.closePopup(popup);\r\n\t\t\t\t\t\t\t\tthis._justClosedPopups.push(popup);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmc=mc.parent;\r\n\t\t\t\t};\r\n\t\t\t\tvar cnt=this._popupStack.length;\r\n\t\t\t\tfor(i=cnt-1;i >=0;i--){\r\n\t\t\t\t\tpopup=this._popupStack[i];\r\n\t\t\t\t\tthis.closePopup(popup);\r\n\t\t\t\t\tthis._justClosedPopups.push(popup);\r\n\t\t\t\t}\r\n\t\t\t\tthis._popupStack.length=0;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__stageMouseDown=function(evt){\r\n\t\t\tvar mc=evt.target;\r\n\t\t\twhile (mc !=this.displayObject.stage && mc !=null){\r\n\t\t\t\tif (mc[\"$owner\"]){\r\n\t\t\t\t\tvar gg=mc[\"$owner\"];\r\n\t\t\t\t\tif (gg.touchable && gg.focusable){\r\n\t\t\t\t\t\tthis.setFocus(gg);\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tmc=mc.parent;\r\n\t\t\t}\r\n\t\t\tif (this._tooltipWin !=null)\r\n\t\t\t\tthis.hideTooltips();\r\n\t\t\tthis.checkPopups(evt.target);\r\n\t\t}\r\n\r\n\t\t__proto.__stageMouseUp=function(){\r\n\t\t\tthis._checkPopups=false;\r\n\t\t}\r\n\r\n\t\t__proto.__winResize=function(){\r\n\t\t\tthis.setSize(Laya.stage.width,Laya.stage.height);\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'hasModalWindow',function(){\r\n\t\t\treturn this._modalLayer.parent !=null;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'modalWaiting',function(){\r\n\t\t\treturn this._modalWaitPane && this._modalWaitPane.inContainer;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'focus',function(){\r\n\t\t\tif (this._focusedObject && !this._focusedObject.onStage)\r\n\t\t\t\tthis._focusedObject=null;\r\n\t\t\treturn this._focusedObject;\r\n\t\t\t},function(value){\r\n\t\t\tif (value && (!value.focusable || !value.onStage))\r\n\t\t\t\tthrow \"invalid focus target\";\r\n\t\t\tthis.setFocus(value);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'hasAnyPopup',function(){\r\n\t\t\treturn this._popupStack.length !=0;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'volumeScale',function(){\r\n\t\t\treturn SoundManager.soundVolume;\r\n\t\t\t},function(value){\r\n\t\t\tSoundManager.soundVolume=value;\r\n\t\t});\r\n\r\n\t\t__getset(1,GRoot,'inst',function(){\r\n\t\t\tif(fairygui.GRoot._inst==null)\r\n\t\t\t\tnew GRoot();\r\n\t\t\treturn fairygui.GRoot._inst;\r\n\t\t},fairygui.GComponent._$SET_inst);\r\n\r\n\t\tGRoot._inst=null\r\n\t\treturn GRoot;\r\n\t})(GComponent)\r\n\r\n\r\n\t//class fairygui.GScrollBar extends fairygui.GComponent\r\n\tvar GScrollBar=(function(_super){\r\n\t\tfunction GScrollBar(){\r\n\t\t\tthis._grip=null;\r\n\t\t\tthis._arrowButton1=null;\r\n\t\t\tthis._arrowButton2=null;\r\n\t\t\tthis._bar=null;\r\n\t\t\tthis._target=null;\r\n\t\t\tthis._vertical=false;\r\n\t\t\tthis._scrollPerc=0;\r\n\t\t\tthis._fixedGripSize=false;\r\n\t\t\tthis._dragOffset=null;\r\n\t\t\tGScrollBar.__super.call(this);\r\n\t\t\tthis._dragOffset=new laya.maths.Point();\r\n\t\t\tthis._scrollPerc=0;\r\n\t\t}\r\n\r\n\t\t__class(GScrollBar,'fairygui.GScrollBar',_super);\r\n\t\tvar __proto=GScrollBar.prototype;\r\n\t\t__proto.setScrollPane=function(target,vertical){\r\n\t\t\tthis._target=target;\r\n\t\t\tthis._vertical=vertical;\r\n\t\t}\r\n\r\n\t\t__proto.constructFromXML=function(xml){\r\n\t\t\t_super.prototype.constructFromXML.call(this,xml);\r\n\t\t\txml=ToolSet.findChildNode(xml,\"ScrollBar\");\r\n\t\t\tif (xml){\r\n\t\t\t\tthis._fixedGripSize=xml.getAttribute(\"fixedGripSize\")==\"true\";\r\n\t\t\t}\r\n\t\t\tthis._grip=this.getChild(\"grip\");\r\n\t\t\tif(!this._grip){\r\n\t\t\t\tLog.print(\"需要定义grip\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._bar=this.getChild(\"bar\");\r\n\t\t\tif(!this._bar){\r\n\t\t\t\tLog.print(\"需要定义bar\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._arrowButton1=this.getChild(\"arrow1\");\r\n\t\t\tthis._arrowButton2=this.getChild(\"arrow2\");\r\n\t\t\tthis._grip.on(\"mousedown\",this,this.__gripMouseDown);\r\n\t\t\tif(this._arrowButton1)\r\n\t\t\t\tthis._arrowButton1.on(\"mousedown\",this,this.__arrowButton1Click);\r\n\t\t\tif(this._arrowButton2)\r\n\t\t\t\tthis._arrowButton2.on(\"mousedown\",this,this.__arrowButton2Click);\r\n\t\t\tthis.on(\"mousedown\",this,this.__barMouseDown);\r\n\t\t}\r\n\r\n\t\t__proto.__gripMouseDown=function(evt){\r\n\t\t\tif (!this._bar)\r\n\t\t\t\treturn;\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tLaya.stage.on(\"mousemove\",this,this.__gripMouseMove);\r\n\t\t\tLaya.stage.on(\"mouseup\",this,this.__gripMouseUp);\r\n\t\t\tthis.globalToLocal(Laya.stage.mouseX,Laya.stage.mouseY,this._dragOffset);\r\n\t\t\tthis._dragOffset.x-=this._grip.x;\r\n\t\t\tthis._dragOffset.y-=this._grip.y;\r\n\t\t}\r\n\r\n\t\t__proto.__gripMouseMove=function(){\r\n\t\t\tvar pt=this.globalToLocal(Laya.stage.mouseX,Laya.stage.mouseY,fairygui.GScrollBar.sScrollbarHelperPoint);\r\n\t\t\tif (this._vertical){\r\n\t\t\t\tvar curY=pt.y-this._dragOffset.y;\r\n\t\t\t\tthis._target.setPercY((curY-this._bar.y)/ (this._bar.height-this._grip.height),false);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar curX=pt.x-this._dragOffset.x;\r\n\t\t\t\tthis._target.setPercX((curX-this._bar.x)/ (this._bar.width-this._grip.width),false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.__gripMouseUp=function(evt){\r\n\t\t\tif (!this._bar)\r\n\t\t\t\treturn;\r\n\t\t\tLaya.stage.off(\"mousemove\",this,this.__gripMouseMove);\r\n\t\t\tLaya.stage.off(\"mouseup\",this,this.__gripMouseUp);\r\n\t\t}\r\n\r\n\t\t__proto.__arrowButton1Click=function(evt){\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tif (this._vertical)\r\n\t\t\t\tthis._target.scrollUp();\r\n\t\t\telse\r\n\t\t\tthis._target.scrollLeft();\r\n\t\t}\r\n\r\n\t\t__proto.__arrowButton2Click=function(evt){\r\n\t\t\tevt.stopPropagation();\r\n\t\t\tif (this._vertical)\r\n\t\t\t\tthis._target.scrollDown();\r\n\t\t\telse\r\n\t\t\tthis._target.scrollRight();\r\n\t\t}\r\n\r\n\t\t__proto.__barMouseDown=function(evt){\r\n\t\t\tvar pt=this._grip.globalToLocal(Laya.stage.mouseX,Laya.stage.mouseY,fairygui.GScrollBar.sScrollbarHelperPoint);\r\n\t\t\tif (this._vertical){\r\n\t\t\t\tif (pt.y < 0)\r\n\t\t\t\t\tthis._target.scrollUp(4);\r\n\t\t\t\telse\r\n\t\t\t\tthis._target.scrollDown(4);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (pt.x < 0)\r\n\t\t\t\t\tthis._target.scrollLeft(4);\r\n\t\t\t\telse\r\n\t\t\t\tthis._target.scrollRight(4);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'displayPerc',null,function(val){\r\n\t\t\tif (this._vertical){\r\n\t\t\t\tif(!this._fixedGripSize)\r\n\t\t\t\t\tthis._grip.height=val *this._bar.height;\r\n\t\t\t\tthis._grip.y=this._bar.y+(this._bar.height-this._grip.height)*this._scrollPerc;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif(!this._fixedGripSize)\r\n\t\t\t\t\tthis._grip.width=val *this._bar.width;\r\n\t\t\t\tthis._grip.x=this._bar.x+(this._bar.width-this._grip.width)*this._scrollPerc;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'scrollPerc',null,function(val){\r\n\t\t\tthis._scrollPerc=val;\r\n\t\t\tif (this._vertical)\r\n\t\t\t\tthis._grip.y=this._bar.y+(this._bar.height-this._grip.height)*this._scrollPerc;\r\n\t\t\telse\r\n\t\t\tthis._grip.x=this._bar.x+(this._bar.width-this._grip.width)*this._scrollPerc;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'minSize',function(){\r\n\t\t\tif (this._vertical)\r\n\t\t\t\treturn (this._arrowButton1 !=null ? this._arrowButton1.height :0)+(this._arrowButton2 !=null ? this._arrowButton2.height :0);\r\n\t\t\telse\r\n\t\t\treturn (this._arrowButton1 !=null ? this._arrowButton1.width :0)+(this._arrowButton2 !=null ? this._arrowButton2.width :0);\r\n\t\t});\r\n\r\n\t\t__static(GScrollBar,\r\n\t\t['sScrollbarHelperPoint',function(){return this.sScrollbarHelperPoint=new Point();}\r\n\t\t]);\r\n\t\treturn GScrollBar;\r\n\t})(GComponent)\r\n\r\n\r\n\t//class fairygui.GSlider extends fairygui.GComponent\r\n\tvar GSlider=(function(_super){\r\n\t\tfunction GSlider(){\r\n\t\t\tthis._max=0;\r\n\t\t\tthis._value=0;\r\n\t\t\tthis._titleType=0;\r\n\t\t\tthis._titleObject=null;\r\n\t\t\tthis._aniObject=null;\r\n\t\t\tthis._barObjectH=null;\r\n\t\t\tthis._barObjectV=null;\r\n\t\t\tthis._barMaxWidth=0;\r\n\t\t\tthis._barMaxHeight=0;\r\n\t\t\tthis._barMaxWidthDelta=0;\r\n\t\t\tthis._barMaxHeightDelta=0;\r\n\t\t\tthis._gripObject=null;\r\n\t\t\tthis._clickPos=null;\r\n\t\t\tthis._clickPercent=0;\r\n\t\t\tGSlider.__super.call(this);\r\n\t\t\tthis._titleType=0;\r\n\t\t\tthis._value=50;\r\n\t\t\tthis._max=100;\r\n\t\t\tthis._clickPos=new laya.maths.Point();\r\n\t\t}\r\n\r\n\t\t__class(GSlider,'fairygui.GSlider',_super);\r\n\t\tvar __proto=GSlider.prototype;\r\n\t\t__proto.update=function(){\r\n\t\t\tvar percent=Math.min(this._value / this._max,1);\r\n\t\t\tthis.updateWidthPercent(percent);\r\n\t\t}\r\n\r\n\t\t__proto.updateWidthPercent=function(percent){\r\n\t\t\tif (this._titleObject){\r\n\t\t\t\tswitch (this._titleType){\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tthis._titleObject.text=Math.round(percent *100)+\"%\";\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tthis._titleObject.text=this._value+\"/\"+this._max;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tthis._titleObject.text=\"\"+this._value;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tthis._titleObject.text=\"\"+this._max;\r\n\t\t\t\t\t\tbreak ;\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (this._barObjectH)\r\n\t\t\t\tthis._barObjectH.width=(this.width-this._barMaxWidthDelta)*percent;\r\n\t\t\tif (this._barObjectV)\r\n\t\t\t\tthis._barObjectV.height=(this.height-this._barMaxHeightDelta)*percent;\r\n\t\t\tif ((this._aniObject instanceof fairygui.GMovieClip ))\r\n\t\t\t\t(this._aniObject).frame=Math.round(percent *100);\r\n\t\t}\r\n\r\n\t\t__proto.constructFromXML=function(xml){\r\n\t\t\t_super.prototype.constructFromXML.call(this,xml);\r\n\t\t\txml=ToolSet.findChildNode(xml,\"Slider\");\r\n\t\t\tvar str;\r\n\t\t\tstr=xml.getAttribute(\"titleType\");\r\n\t\t\tif(str)\r\n\t\t\t\tthis._titleType=ProgressTitleType.parse(str);\r\n\t\t\tthis._titleObject=(this.getChild(\"title\"));\r\n\t\t\tthis._barObjectH=this.getChild(\"bar\");\r\n\t\t\tthis._barObjectV=this.getChild(\"bar_v\");\r\n\t\t\tthis._aniObject=this.getChild(\"ani\");\r\n\t\t\tthis._gripObject=this.getChild(\"grip\");\r\n\t\t\tif(this._barObjectH){\r\n\t\t\t\tthis._barMaxWidth=this._barObjectH.width;\r\n\t\t\t\tthis._barMaxWidthDelta=this.width-this._barMaxWidth;\r\n\t\t\t}\r\n\t\t\tif(this._barObjectV){\r\n\t\t\t\tthis._barMaxHeight=this._barObjectV.height;\r\n\t\t\t\tthis._barMaxHeightDelta=this.height-this._barMaxHeight;\r\n\t\t\t}\r\n\t\t\tif(this._gripObject){\r\n\t\t\t\tthis._gripObject.on(\"mousedown\",this,this.__gripMouseDown);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.handleSizeChanged=function(){\r\n\t\t\t_super.prototype.handleSizeChanged.call(this);\r\n\t\t\tif(this._barObjectH)\r\n\t\t\t\tthis._barMaxWidth=this.width-this._barMaxWidthDelta;\r\n\t\t\tif(this._barObjectV)\r\n\t\t\t\tthis._barMaxHeight=this.height-this._barMaxHeightDelta;\r\n\t\t\tif(!this._underConstruct)\r\n\t\t\t\tthis.update();\r\n\t\t}\r\n\r\n\t\t__proto.setup_afterAdd=function(xml){\r\n\t\t\tfairygui.GObject.prototype.setup_afterAdd.call(this,xml);\r\n\t\t\txml=ToolSet.findChildNode(xml,\"Slider\");\r\n\t\t\tif (xml){\r\n\t\t\t\tthis._value=parseInt(xml.getAttribute(\"value\"));\r\n\t\t\t\tthis._max=parseInt(xml.getAttribute(\"max\"));\r\n\t\t\t}\r\n\t\t\tthis.update();\r\n\t\t}\r\n\r\n\t\t__proto.__gripMouseDown=function(evt){\r\n\t\t\tthis._clickPos=this.globalToLocal(Laya.stage.mouseX,Laya.stage.mouseY);\r\n\t\t\tthis._clickPercent=this._value / this._max;\r\n\t\t\tLaya.stage.on(\"mousemove\",this,this.__gripMouseMove);\r\n\t\t\tLaya.stage.on(\"mouseup\",this,this.__gripMouseUp);\r\n\t\t}\r\n\r\n\t\t__proto.__gripMouseMove=function(evt){\r\n\t\t\tvar pt=this.globalToLocal(Laya.stage.mouseX,Laya.stage.mouseY,fairygui.GSlider.sSilderHelperPoint);\r\n\t\t\tvar deltaX=pt.x-this._clickPos.x;\r\n\t\t\tvar deltaY=pt.y-this._clickPos.y;\r\n\t\t\tvar percent=NaN;\r\n\t\t\tif (this._barObjectH)\r\n\t\t\t\tpercent=this._clickPercent+deltaX / this._barMaxWidth;\r\n\t\t\telse\r\n\t\t\tpercent=this._clickPercent+deltaY / this._barMaxHeight;\r\n\t\t\tif (percent > 1)\r\n\t\t\t\tpercent=1;\r\n\t\t\telse if (percent < 0)\r\n\t\t\tpercent=0;\r\n\t\t\tvar newValue=Math.round(this._max *percent);\r\n\t\t\tif (newValue !=this._value){\r\n\t\t\t\tthis._value=newValue;\r\n\t\t\t\tEvents.dispatch(\"fui_state_changed\",this.displayObject,evt);\r\n\t\t\t}\r\n\t\t\tthis.updateWidthPercent(percent);\r\n\t\t}\r\n\r\n\t\t__proto.__gripMouseUp=function(evt){\r\n\t\t\tvar percent=this._value / this._max;\r\n\t\t\tthis.updateWidthPercent(percent);\r\n\t\t\tLaya.stage.off(\"mousemove\",this,this.__gripMouseMove);\r\n\t\t\tLaya.stage.off(\"mouseup\",this,this.__gripMouseUp);\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'max',function(){\r\n\t\t\treturn this._max;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._max !=value){\r\n\t\t\t\tthis._max=value;\r\n\t\t\t\tthis.update();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'titleType',function(){\r\n\t\t\treturn this._titleType;\r\n\t\t\t},function(value){\r\n\t\t\tthis._titleType=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'value',function(){\r\n\t\t\treturn this._value;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._value !=value){\r\n\t\t\t\tthis._value=value;\r\n\t\t\t\tthis.update();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__static(GSlider,\r\n\t\t['sSilderHelperPoint',function(){return this.sSilderHelperPoint=new Point();}\r\n\t\t]);\r\n\t\treturn GSlider;\r\n\t})(GComponent)\r\n\r\n\r\n\t//class fairygui.Window extends fairygui.GComponent\r\n\tvar Window2=(function(_super){\r\n\t\tfunction Window(){\r\n\t\t\tthis._contentPane=null;\r\n\t\t\tthis._modalWaitPane=null;\r\n\t\t\tthis._closeButton=null;\r\n\t\t\tthis._dragArea=null;\r\n\t\t\tthis._contentArea=null;\r\n\t\t\tthis._frame=null;\r\n\t\t\tthis._modal=false;\r\n\t\t\tthis._uiSources=null;\r\n\t\t\tthis._inited=false;\r\n\t\t\tthis._loading=false;\r\n\t\t\tthis._requestingCmd=0;\r\n\t\t\tthis.bringToFontOnClick=false;\r\n\t\t\tWindow.__super.call(this);\r\n\t\t\tthis.focusable=true;\r\n\t\t\tthis._uiSources=[];\r\n\t\t\tthis.bringToFontOnClick=UIConfig1.bringWindowToFrontOnClick;\r\n\t\t\tthis.displayObject.on(\"display\",this,this.__onShown);\r\n\t\t\tthis.displayObject.on(\"undisplay\",this,this.__onHidden);\r\n\t\t\tthis.displayObject.on(\"mousedown\",this,this.__mouseDown);\r\n\t\t}\r\n\r\n\t\t__class(Window,'fairygui.Window',_super,'Window2');\r\n\t\tvar __proto=Window.prototype;\r\n\t\t__proto.addUISource=function(source){\r\n\t\t\tthis._uiSources.push(source);\r\n\t\t}\r\n\r\n\t\t__proto.show=function(){\r\n\t\t\tGRoot.inst.showWindow(this);\r\n\t\t}\r\n\r\n\t\t__proto.showOn=function(root){\r\n\t\t\troot.showWindow(this);\r\n\t\t}\r\n\r\n\t\t__proto.hide=function(){\r\n\t\t\tif(this.isShowing)\r\n\t\t\t\tthis.doHideAnimation();\r\n\t\t}\r\n\r\n\t\t__proto.hideImmediately=function(){\r\n\t\t\tvar r=((this.parent instanceof fairygui.GRoot ))? (this.parent):null;\r\n\t\t\tif(!r)\r\n\t\t\t\tr=GRoot.inst;\r\n\t\t\tr.hideWindowImmediately(this);\r\n\t\t}\r\n\r\n\t\t__proto.centerOn=function(r,restraint){\r\n\t\t\t(restraint===void 0)&& (restraint=false);\r\n\t\t\tthis.setXY(Math.round((r.width-this.width)/ 2),Math.round((r.height-this.height)/ 2));\r\n\t\t\tif(restraint){\r\n\t\t\t\tthis.addRelation(r,3);\r\n\t\t\t\tthis.addRelation(r,10);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.toggleStatus=function(){\r\n\t\t\tif(this.isTop)\r\n\t\t\t\tthis.hide();\r\n\t\t\telse\r\n\t\t\tthis.show();\r\n\t\t}\r\n\r\n\t\t__proto.bringToFront=function(){\r\n\t\t\tthis.root.bringToFront(this);\r\n\t\t}\r\n\r\n\t\t__proto.showModalWait=function(requestingCmd){\r\n\t\t\t(requestingCmd===void 0)&& (requestingCmd=0);\r\n\t\t\tif(requestingCmd !=0)\r\n\t\t\t\tthis._requestingCmd=requestingCmd;\r\n\t\t\tif(UIConfig1.windowModalWaiting){\r\n\t\t\t\tif(!this._modalWaitPane)\r\n\t\t\t\t\tthis._modalWaitPane=UIPackage.createObjectFromURL(UIConfig1.windowModalWaiting);\r\n\t\t\t\tthis.layoutModalWaitPane();\r\n\t\t\t\tthis.addChild(this._modalWaitPane);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.layoutModalWaitPane=function(){\r\n\t\t\tif(this._contentArea !=null){\r\n\t\t\t\tvar pt=this._frame.localToGlobal();\r\n\t\t\t\tpt=this.globalToLocal(pt.x,pt.y,pt);\r\n\t\t\t\tthis._modalWaitPane.setXY(pt.x+this._contentArea.x,pt.y+this._contentArea.y);\r\n\t\t\t\tthis._modalWaitPane.setSize(this._contentArea.width,this._contentArea.height);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tthis._modalWaitPane.setSize(this.width,this.height);\r\n\t\t}\r\n\r\n\t\t__proto.closeModalWait=function(requestingCmd){\r\n\t\t\t(requestingCmd===void 0)&& (requestingCmd=0);\r\n\t\t\tif(requestingCmd !=0){\r\n\t\t\t\tif(this._requestingCmd !=requestingCmd)\r\n\t\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tthis._requestingCmd=0;\r\n\t\t\tif(this._modalWaitPane && this._modalWaitPane.parent !=null)\r\n\t\t\t\tthis.removeChild(this._modalWaitPane);\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\t__proto.init=function(){\r\n\t\t\tif(this._inited || this._loading)\r\n\t\t\t\treturn;\r\n\t\t\tif(this._uiSources.length > 0){\r\n\t\t\t\tthis._loading=false;\r\n\t\t\t\tvar cnt=this._uiSources.length;\r\n\t\t\t\tfor(var i=0;i < cnt;i++){\r\n\t\t\t\t\tvar lib=this._uiSources[i];\r\n\t\t\t\t\tif(!lib.loaded){\r\n\t\t\t\t\t\tlib.load(this.__uiLoadComplete,this);\r\n\t\t\t\t\t\tthis._loading=true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(!this._loading)\r\n\t\t\t\t\tthis._init();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\tthis._init();\r\n\t\t}\r\n\r\n\t\t__proto.onInit=function(){}\r\n\t\t__proto.onShown=function(){}\r\n\t\t__proto.onHide=function(){}\r\n\t\t__proto.doShowAnimation=function(){\r\n\t\t\tthis.onShown();\r\n\t\t}\r\n\r\n\t\t__proto.doHideAnimation=function(){\r\n\t\t\tthis.hideImmediately();\r\n\t\t}\r\n\r\n\t\t__proto.__uiLoadComplete=function(){\r\n\t\t\tvar cnt=this._uiSources.length;\r\n\t\t\tfor(var i=0;i < cnt;i++){\r\n\t\t\t\tvar lib=this._uiSources[i];\r\n\t\t\t\tif(!lib.loaded)\r\n\t\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._loading=false;\r\n\t\t\tthis._init();\r\n\t\t}\r\n\r\n\t\t__proto._init=function(){\r\n\t\t\tthis._inited=true;\r\n\t\t\tthis.onInit();\r\n\t\t\tif(this.isShowing)\r\n\t\t\t\tthis.doShowAnimation();\r\n\t\t}\r\n\r\n\t\t__proto.dispose=function(){\r\n\t\t\tif(this.parent !=null)\r\n\t\t\t\tthis.hideImmediately();\r\n\t\t\t_super.prototype.dispose.call(this);\r\n\t\t}\r\n\r\n\t\t__proto.closeEventHandler=function(){\r\n\t\t\tthis.hide();\r\n\t\t}\r\n\r\n\t\t__proto.__onShown=function(){\r\n\t\t\tif(!this._inited)\r\n\t\t\t\tthis.init();\r\n\t\t\telse\r\n\t\t\tthis.doShowAnimation();\r\n\t\t}\r\n\r\n\t\t__proto.__onHidden=function(){\r\n\t\t\tthis.closeModalWait();\r\n\t\t\tthis.onHide();\r\n\t\t}\r\n\r\n\t\t__proto.__mouseDown=function(){\r\n\t\t\tif(this.isShowing && this.bringToFontOnClick)\r\n\t\t\t\tthis.bringToFront();\r\n\t\t}\r\n\r\n\t\t__proto.__dragStart=function(evt){\r\n\t\t\tGObject.cast(evt.currentTarget).stopDrag();\r\n\t\t\tthis.startDrag();\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'contentPane',function(){\r\n\t\t\treturn this._contentPane;\r\n\t\t\t},function(val){\r\n\t\t\tif(this._contentPane !=val){\r\n\t\t\t\tif(this._contentPane !=null)\r\n\t\t\t\t\tthis.removeChild(this._contentPane);\r\n\t\t\t\tthis._contentPane=val;\r\n\t\t\t\tif(this._contentPane !=null){\r\n\t\t\t\t\tthis.addChild(this._contentPane);\r\n\t\t\t\t\tthis.setSize(this._contentPane.width,this._contentPane.height);\r\n\t\t\t\t\tthis._contentPane.addRelation(this,24);\r\n\t\t\t\t\tthis._frame=(this._contentPane.getChild(\"frame\"));\r\n\t\t\t\t\tif(this._frame !=null){\r\n\t\t\t\t\t\tthis.closeButton=this._frame.getChild(\"closeButton\");\r\n\t\t\t\t\t\tthis.dragArea=this._frame.getChild(\"dragArea\");\r\n\t\t\t\t\t\tthis.contentArea=this._frame.getChild(\"contentArea\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'isShowing',function(){\r\n\t\t\treturn this.parent !=null;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'isTop',function(){\r\n\t\t\treturn this.parent !=null && this.parent.getChildIndex(this)==this.parent.numChildren-1;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'modal',function(){\r\n\t\t\treturn this._modal;\r\n\t\t\t},function(val){\r\n\t\t\tthis._modal=val;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'dragArea',function(){\r\n\t\t\treturn this._dragArea;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._dragArea !=value){\r\n\t\t\t\tif(this._dragArea !=null){\r\n\t\t\t\t\tthis._dragArea.draggable=false;\r\n\t\t\t\t\tthis._dragArea.off(\"fui_drag_start\",this,this.__dragStart);\r\n\t\t\t\t}\r\n\t\t\t\tthis._dragArea=value;\r\n\t\t\t\tif(this._dragArea !=null){\r\n\t\t\t\t\tif((this._dragArea instanceof fairygui.GGraph ))\r\n\t\t\t\t\t\tthis._dragArea.asGraph.drawRect(0,null,null);\r\n\t\t\t\t\tthis._dragArea.draggable=true;\r\n\t\t\t\t\tthis._dragArea.on(\"fui_drag_start\",this,this.__dragStart);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'frame',function(){\r\n\t\t\treturn this._frame;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'closeButton',function(){\r\n\t\t\treturn this._closeButton;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._closeButton !=null)\r\n\t\t\t\tthis._closeButton.offClick(this,this.closeEventHandler);\r\n\t\t\tthis._closeButton=value;\r\n\t\t\tif(this._closeButton !=null)\r\n\t\t\t\tthis._closeButton.onClick(this,this.closeEventHandler);\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'contentArea',function(){\r\n\t\t\treturn this._contentArea;\r\n\t\t\t},function(value){\r\n\t\t\tthis._contentArea=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'modalWaiting',function(){\r\n\t\t\treturn this._modalWaitPane && this._modalWaitPane.parent !=null;\r\n\t\t});\r\n\r\n\t\treturn Window;\r\n\t})(GComponent)\r\n\r\n\r\n\t//class fairygui.display.Image extends laya.display.Sprite\r\n\tvar Image1=(function(_super){\r\n\t\tfunction Image(){\r\n\t\t\tthis._tex=null;\r\n\t\t\tthis._scaleByTile=false;\r\n\t\t\tthis._scale9Grid=null;\r\n\t\t\tthis._tileGridIndice=0;\r\n\t\t\tthis._textureScaleX=0;\r\n\t\t\tthis._textureScaleY=0;\r\n\t\t\tthis._needRebuild=false;\r\n\t\t\tImage.__super.call(this);\r\n\t\t\tthis.mouseEnabled=false;\r\n\t\t\tthis._textureScaleX=1;\r\n\t\t\tthis._textureScaleY=1;\r\n\t\t}\r\n\r\n\t\t__class(Image,'fairygui.display.Image',_super,'Image1');\r\n\t\tvar __proto=Image.prototype;\r\n\t\t__proto.scaleTexture=function(sx,sy){\r\n\t\t\tif(this._textureScaleX!=sx || this._textureScaleY!=sy){\r\n\t\t\t\tthis._textureScaleX=sx;\r\n\t\t\t\tthis._textureScaleY=sy;\r\n\t\t\t\tif(this._tex)\r\n\t\t\t\t\tthis.size(this._tex.width*sx,this._tex.height*sy);\r\n\t\t\t\tthis.markChanged();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.markChanged=function(){\r\n\t\t\tif(!this._needRebuild){\r\n\t\t\t\tthis._needRebuild=true;\r\n\t\t\t\tLaya.timer.callLater(this,this.rebuild);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.rebuild=function(){\r\n\t\t\tthis._needRebuild=false;\r\n\t\t\tvar g=this.graphics;\r\n\t\t\tg.clear();\r\n\t\t\tif(this._tex==null){\r\n\t\t\t\tthis.repaint();\r\n\t\t\t\treturn;\r\n\t\t\t};\r\n\t\t\tvar width=this.width;\r\n\t\t\tvar height=this.height;\r\n\t\t\tvar sw=this._tex.width;\r\n\t\t\tvar sh=this._tex.height;\r\n\t\t\tif(width==0 || height==0){\r\n\t\t\t\tthis.repaint();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif(this._scaleByTile){\r\n\t\t\t\tg.fillTexture(this._tex,0,0,width,height);\r\n\t\t\t}\r\n\t\t\telse if(this._scale9Grid!=null){\r\n\t\t\t\tvar left=this._scale9Grid.x;\r\n\t\t\t\tvar right=Math.max(sw-this._scale9Grid.right,0);\r\n\t\t\t\tvar top=this._scale9Grid.y;\r\n\t\t\t\tvar bottom=Math.max(sh-this._scale9Grid.bottom,0);\r\n\t\t\t\tvar tmp=NaN;\r\n\t\t\t\tif (height >=(sh-this._scale9Grid.height)){\r\n\t\t\t\t\ttop=this._scale9Grid.y;\r\n\t\t\t\t\tbottom=sh-this._scale9Grid.bottom;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\ttmp=this._scale9Grid.y / (sh-this._scale9Grid.bottom);\r\n\t\t\t\t\ttmp=height *tmp / (1+tmp);\r\n\t\t\t\t\ttop=Math.round(tmp);\r\n\t\t\t\t\tbottom=height-tmp;\r\n\t\t\t\t}\r\n\t\t\t\tif (width >=(sw-this._scale9Grid.width)){\r\n\t\t\t\t\tleft=this._scale9Grid.x;\r\n\t\t\t\t\tright=sw-this._scale9Grid.right;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\ttmp=this._scale9Grid.x / (sw-this._scale9Grid.right);\r\n\t\t\t\t\ttmp=width *tmp / (1+tmp);\r\n\t\t\t\t\tleft=Math.round(tmp);\r\n\t\t\t\t\tright=width-tmp;\r\n\t\t\t\t};\r\n\t\t\t\tvar centerWidth=Math.max(width-left-right,0);\r\n\t\t\t\tvar centerHeight=Math.max(height-top-bottom,0);\r\n\t\t\t\tleft && top && g.drawTexture(fairygui.display.Image.getTexture(this._tex,0,0,left,top),0,0,left,top);\r\n\t\t\t\tright && top && g.drawTexture(fairygui.display.Image.getTexture(this._tex,sw-right,0,right,top),width-right,0,right,top);\r\n\t\t\t\tleft && bottom && g.drawTexture(fairygui.display.Image.getTexture(this._tex,0,sh-bottom,left,bottom),0,height-bottom,left,bottom);\r\n\t\t\t\tright && bottom && g.drawTexture(fairygui.display.Image.getTexture(this._tex,sw-right,sh-bottom,right,bottom),width-right,height-bottom,right,bottom);\r\n\t\t\t\tcenterWidth && top && this.drawTexture(0,fairygui.display.Image.getTexture(this._tex,left,0,sw-left-right,top),left,0,centerWidth,top);\r\n\t\t\t\tcenterWidth && bottom && this.drawTexture(1,fairygui.display.Image.getTexture(this._tex,left,sh-bottom,sw-left-right,bottom),left,height-bottom,centerWidth,bottom);\r\n\t\t\t\tcenterHeight && left && this.drawTexture(2,fairygui.display.Image.getTexture(this._tex,0,top,left,sh-top-bottom),0,top,left,centerHeight);\r\n\t\t\t\tcenterHeight && right && this.drawTexture(3,fairygui.display.Image.getTexture(this._tex,sw-right,top,right,sh-top-bottom),width-right,top,right,centerHeight);\r\n\t\t\t\tcenterWidth && centerHeight && this.drawTexture(4,fairygui.display.Image.getTexture(this._tex,left,top,sw-left-right,sh-top-bottom),left,top,centerWidth,centerHeight);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tg.drawTexture(this._tex,0,0,width,height);\r\n\t\t\t}\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\r\n\t\t__proto.drawTexture=function(part,tex,x,y,width,height){\r\n\t\t\t(width===void 0)&& (width=0);\r\n\t\t\t(height===void 0)&& (height=0);\r\n\t\t\tif(part==-1 || (this._tileGridIndice & (1<<part))==0)\r\n\t\t\t\tthis.graphics.drawTexture(tex,x,y,width,height);\r\n\t\t\telse\r\n\t\t\tthis.graphics.fillTexture(tex,x,y,width,height);\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'tex',function(){\r\n\t\t\treturn this._tex;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._tex!=value){\r\n\t\t\t\tthis._tex=value;\r\n\t\t\t\tif(this._tex)\r\n\t\t\t\t\tthis.size(this._tex.width*this._textureScaleX,this._tex.height*this._textureScaleY);\r\n\t\t\t\telse\r\n\t\t\t\tthis.size(0,0);\r\n\t\t\t\tthis.markChanged();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'scale9Grid',function(){\r\n\t\t\treturn this._scale9Grid;\r\n\t\t\t},function(value){\r\n\t\t\tthis._scale9Grid=value;\r\n\t\t\tthis.markChanged();\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'scaleByTile',function(){\r\n\t\t\treturn this._scaleByTile;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._scaleByTile!=value){\r\n\t\t\t\tthis._scaleByTile=value;\r\n\t\t\t\tthis.markChanged();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'tileGridIndice',function(){\r\n\t\t\treturn this._tileGridIndice;\r\n\t\t\t},function(value){\r\n\t\t\tif(this._tileGridIndice!=value){\r\n\t\t\t\tthis._tileGridIndice=value;\r\n\t\t\t\tthis.markChanged();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tImage.getTexture=function(source,x,y,width,height){\r\n\t\t\tsource.$GID || (source.$GID=Utils.getGID());\r\n\t\t\tvar key=source.$GID+\".\"+x+\".\"+y+\".\"+width+\".\"+height;\r\n\t\t\tvar texture=fairygui.display.Image._textureCache[key];\r\n\t\t\tif (!texture){\r\n\t\t\t\ttexture=fairygui.display.Image._textureCache[key]=Texture.create(source,x,y,width,height);\r\n\t\t\t}\r\n\t\t\treturn texture;\r\n\t\t}\r\n\r\n\t\tImage.clearCache=function(){\r\n\t\t\tfairygui.display.Image._textureCache={};\r\n\t\t}\r\n\r\n\t\tImage._textureCache={};\r\n\t\treturn Image;\r\n\t})(Sprite)\r\n\r\n\r\n\t//class fairygui.display.MovieClip extends laya.display.Sprite\r\n\tvar MovieClip1=(function(_super){\r\n\t\tfunction MovieClip(){\r\n\t\t\tthis.interval=0;\r\n\t\t\tthis.swing=false;\r\n\t\t\tthis.repeatDelay=0;\r\n\t\t\tthis.playState=null;\r\n\t\t\tthis._$3__texture=null;\r\n\t\t\tthis._needRebuild=false;\r\n\t\t\tthis._playing=false;\r\n\t\t\tthis._frameCount=0;\r\n\t\t\tthis._frames=null;\r\n\t\t\tthis._currentFrame=0;\r\n\t\t\tthis._boundsRect=null;\r\n\t\t\tthis._start=0;\r\n\t\t\tthis._end=0;\r\n\t\t\tthis._times=0;\r\n\t\t\tthis._endAt=0;\r\n\t\t\tthis._status=0;\r\n\t\t\tthis._endHandler=null;\r\n\t\t\tMovieClip.__super.call(this);\r\n\t\t\tthis.playState=new PlayState();\r\n\t\t\tthis._playing=true;\r\n\t\t\tthis.mouseEnabled=false;\r\n\t\t\tthis.setPlaySettings();\r\n\t\t\tthis.on(\"display\",this,this.__addToStage);\r\n\t\t\tthis.on(\"undisplay\",this,this.__removeFromStage);\r\n\t\t}\r\n\r\n\t\t__class(MovieClip,'fairygui.display.MovieClip',_super,'MovieClip1');\r\n\t\tvar __proto=MovieClip.prototype;\r\n\t\t//从start帧开始，播放到end帧（-1表示结尾），重复times次（0表示无限循环），循环结束后，停止在endAt帧（-1表示参数end）\r\n\t\t__proto.setPlaySettings=function(start,end,times,endAt,endHandler){\r\n\t\t\t(start===void 0)&& (start=0);\r\n\t\t\t(end===void 0)&& (end=-1);\r\n\t\t\t(times===void 0)&& (times=0);\r\n\t\t\t(endAt===void 0)&& (endAt=-1);\r\n\t\t\tthis._start=start;\r\n\t\t\tthis._end=end;\r\n\t\t\tif(this._end==-1 || this._end > this._frameCount-1)\r\n\t\t\t\tthis._end=this._frameCount-1;\r\n\t\t\tthis._times=times;\r\n\t\t\tthis._endAt=endAt;\r\n\t\t\tif(this._endAt==-1)\r\n\t\t\t\tthis._endAt=this._end;\r\n\t\t\tthis._status=0;\r\n\t\t\tthis._endHandler=endHandler;\r\n\t\t\tthis.currentFrame=start;\r\n\t\t}\r\n\r\n\t\t__proto.update=function(){\r\n\t\t\tif (this._playing && this._frameCount !=0 && this._status !=3){\r\n\t\t\t\tthis.playState.update(this);\r\n\t\t\t\tif (this._currentFrame !=this.playState.currentFrame){\r\n\t\t\t\t\tif (this._status==1){\r\n\t\t\t\t\t\tthis._currentFrame=this._start;\r\n\t\t\t\t\t\tthis.playState.currentFrame=this._currentFrame;\r\n\t\t\t\t\t\tthis._status=0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (this._status==2){\r\n\t\t\t\t\t\tthis._currentFrame=this._endAt;\r\n\t\t\t\t\t\tthis.playState.currentFrame=this._currentFrame;\r\n\t\t\t\t\t\tthis._status=3;\r\n\t\t\t\t\t\tif (this._endHandler !=null){\r\n\t\t\t\t\t\t\tthis._endHandler.run();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tthis._currentFrame=this.playState.currentFrame;\r\n\t\t\t\t\t\tif (this._currentFrame==this._end){\r\n\t\t\t\t\t\t\tif (this._times > 0){\r\n\t\t\t\t\t\t\t\tthis._times--;\r\n\t\t\t\t\t\t\t\tif (this._times==0)\r\n\t\t\t\t\t\t\t\t\tthis._status=2;\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\tthis._status=1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.setFrame(this._frames[this._currentFrame]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t__proto.setFrame=function(frame){\r\n\t\t\tthis.graphics.clear();\r\n\t\t\tif (frame !=null)\r\n\t\t\t\tthis.graphics.drawTexture(frame.texture,frame.rect.x,frame.rect.y);\r\n\t\t}\r\n\r\n\t\t__proto.__addToStage=function(){\r\n\t\t\tif(this._playing)\r\n\t\t\t\tLaya.timer.frameLoop(1,this,this.update);\r\n\t\t}\r\n\r\n\t\t__proto.__removeFromStage=function(){\r\n\t\t\tif(this._playing)\r\n\t\t\t\tLaya.timer.clear(this,this.update);\r\n\t\t}\r\n\r\n\t\t__getset(0,__proto,'frames',function(){\r\n\t\t\treturn this._frames;\r\n\t\t\t},function(value){\r\n\t\t\tthis._frames=value;\r\n\t\t\tif (this._frames !=null)\r\n\t\t\t\tthis._frameCount=this._frames.length;\r\n\t\t\telse\r\n\t\t\tthis._frameCount=0;\r\n\t\t\tif(this._end==-1 || this._end > this._frameCount-1)\r\n\t\t\t\tthis._end=this._frameCount-1;\r\n\t\t\tif(this._endAt==-1 || this._endAt > this._frameCount-1)\r\n\t\t\t\tthis._endAt=this._frameCount-1;\r\n\t\t\tif(this._currentFrame < 0 || this._currentFrame > this._frameCount-1)\r\n\t\t\t\tthis._currentFrame=this._frameCount-1;\r\n\t\t\tif(this._frameCount > 0)\r\n\t\t\t\tthis.setFrame(this._frames[this._currentFrame]);\r\n\t\t\telse\r\n\t\t\tthis.setFrame(null);\r\n\t\t\tthis.playState.rewind();\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'playing',function(){\r\n\t\t\treturn this._playing;\r\n\t\t\t},function(value){\r\n\t\t\tthis._playing=value;\r\n\t\t\tif(value && this.stage!=null){\r\n\t\t\t\tLaya.timer.frameLoop(1,this,this.update);\r\n\t\t\t\t}else {\r\n\t\t\t\tLaya.timer.clear(this,this.update);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'frameCount',function(){\r\n\t\t\treturn this._frameCount;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'boundsRect',function(){\r\n\t\t\treturn this._boundsRect;\r\n\t\t\t},function(value){\r\n\t\t\tthis._boundsRect=value;\r\n\t\t});\r\n\r\n\t\t__getset(0,__proto,'currentFrame',function(){\r\n\t\t\treturn this._currentFrame;\r\n\t\t\t},function(value){\r\n\t\t\tif (this._currentFrame !=value){\r\n\t\t\t\tthis._currentFrame=value;\r\n\t\t\t\tthis.playState.currentFrame=value;\r\n\t\t\t\tthis.setFrame(this._currentFrame < this._frameCount ? this._frames[this._currentFrame] :null);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn MovieClip;\r\n\t})(Sprite)\r\n\r\n\r\n\tLaya.__init([GList,Transition,UIPackage,ScrollPane,GBasicTextField,Controller,GearAnimation,GearLook,GearSize,RelationItem]);\r\n})(window,document,Laya);\n}.call(window));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/imports-loader?this=>window!./client/libs/fairygui/fairygui.js\n// module id = 35\n// module chunks = 4","/*** IMPORTS FROM imports-loader ***/\n(function() {\n\nwindow.__extends = (this && this.__extends) || function (d, b) {\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    function __() { this.constructor = d; }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * annie引擎类的基类\n     * @class annie.AObject\n     * @since 1.0.0\n     */\n    var AObject = (function () {\n        function AObject() {\n            this._id = 0;\n            this._id = AObject._object_id++;\n        }\n        /**\n         * 每一个annie引擎对象都会有一个唯一的id码。\n         * @method getInstanceId\n         * @public\n         * @since 1.0.0\n         * @returns {number}\n         * @example\n         *      //获取 annie引擎类对象唯一码\n         *      trace(this.getInstanceId());\n         */\n        AObject.prototype.getInstanceId = function () {\n            return this._id;\n        };\n        AObject._object_id = 0;\n        return AObject;\n    }());\n    annie.AObject = AObject;\n    /**\n     * 事件触发基类\n     * @class annie.EventDispatcher\n     * @extends annie.AObject\n     * @public\n     * @since 1.0.0\n     */\n    var EventDispatcher = (function (_super) {\n        __extends(EventDispatcher, _super);\n        function EventDispatcher() {\n            _super.call(this);\n            this.eventTypes = null;\n            this.eventTypes = {};\n        }\n        /**\n         * 看看有多少mouse或者touch侦听数\n         * @method getMouseEventCount\n         * @returns {number}\n         * @static\n         * @private\n         * @since 1.0.0\n         * @param {string} type 获取事件类型，默认是所有\n         */\n        EventDispatcher.getMouseEventCount = function (type) {\n            if (type === void 0) { type = \"\"; }\n            var count = 0;\n            if (type == \"\") {\n                //返回所有鼠标事件数\n                for (var item in EventDispatcher._MECO) {\n                    if (item.indexOf(\"onMouse\") == 0) {\n                        count += EventDispatcher._MECO[item];\n                    }\n                }\n            }\n            else {\n                if (EventDispatcher._MECO[type]) {\n                    count = EventDispatcher._MECO[type];\n                }\n            }\n            return count;\n        };\n        /**\n         * 给对象添加一个侦听\n         * @method addEventListener\n         * @public\n         * @since 1.0.0\n         * @param {string} type 侦听类形\n         * @param {Function}listener 侦听后的回调方法,如果这个方法是类实例的方法,为了this引用的正确性,请在方法参数后加上.bind(this);\n         * @example\n         *      this.addEventListener(annie.Event.ADD_TO_STAGE,function(e){trace(this);}.bind(this));\n         */\n        EventDispatcher.prototype.addEventListener = function (type, listener) {\n            if (!type) {\n                trace(\"添加侦听的type值为undefined\");\n                return;\n            }\n            var s = this;\n            if (!s.eventTypes[type]) {\n                s.eventTypes[type] = [];\n            }\n            if (s.eventTypes[type].indexOf(listener) < 0) {\n                s.eventTypes[type].push(listener);\n                s._changeMouseCount(type, true);\n            }\n        };\n        /**\n         * 增加或删除相应mouse或touch侦听记数\n         * @method _changeMouseCount\n         * @private\n         * @since 1.0.0\n         * @param {string} type\n         * @param {boolean} isAdd\n         */\n        EventDispatcher.prototype._changeMouseCount = function (type, isAdd) {\n            var count = isAdd ? 1 : -1;\n            if (!EventDispatcher._MECO[type]) {\n                EventDispatcher._MECO[type] = 0;\n            }\n            EventDispatcher._MECO[type] += count;\n            if (EventDispatcher._MECO[type] < 0) {\n                EventDispatcher._MECO[type] = 0;\n            }\n            EventDispatcher._totalMEC += count;\n        };\n        /**\n         * 广播侦听\n         * @method dispatchEvent\n         * @public\n         * @since 1.0.0\n         * @param {annie.Event|string} event 广播所带的事件对象,如果传的是字符串则直接自动生成一个的事件对象,事件类型就是你传入进来的字符串的值\n         * @param {Object} data 广播后跟着事件一起传过去的其他任信息,默认值为null\n         * @returns {boolean} 如果有收听者则返回true\n         */\n        EventDispatcher.prototype.dispatchEvent = function (event, data) {\n            if (data === void 0) { data = null; }\n            var s = this;\n            if (typeof (event) == \"string\") {\n                event = new annie.Event(event);\n            }\n            var listeners = s.eventTypes[event.type];\n            if (listeners) {\n                var len = listeners.length;\n                if (event.target == null) {\n                    event.target = s;\n                }\n                if (data != null) {\n                    event.data = data;\n                }\n                for (var i = 0; i < len; i++) {\n                    listeners[i](event);\n                }\n                return true;\n            }\n            else {\n                return false;\n            }\n        };\n        /**\n         * 是否有添加过此类形的侦听\n         * @method hasEventListener\n         * @public\n         * @since 1.0.0\n         * @param {string} type 侦听类形\n         * @returns {boolean} 如果有则返回true\n         */\n        EventDispatcher.prototype.hasEventListener = function (type) {\n            if (this.eventTypes[type]) {\n                return true;\n            }\n            return false;\n        };\n        /**\n         * 移除对应类型的侦听\n         * @method removeEventListener\n         * @public\n         * @since 1.0.0\n         * @param {string} type 要移除的侦听类型\n         * @param {Function} listener 及侦听时绑定的回调方法\n         */\n        EventDispatcher.prototype.removeEventListener = function (type, listener) {\n            var s = this;\n            var listeners = s.eventTypes[type];\n            if (listeners) {\n                var len = listeners.length;\n                for (var i = len - 1; i >= 0; i--) {\n                    if (listeners[i] === listener) {\n                        listeners.splice(i, 1);\n                        if (type.indexOf(\"onMouse\") == 0) {\n                            s._changeMouseCount(type, false);\n                        }\n                    }\n                }\n            }\n        };\n        /**\n         * 移除对象中所有的侦听\n         * @method removeAllEventListener\n         * @public\n         * @since 1.0.0\n         */\n        EventDispatcher.prototype.removeAllEventListener = function () {\n            var s = this;\n            for (var type in s.eventTypes) {\n                if (type.indexOf(\"onMouse\") == 0) {\n                    for (var j = 0; j < s.eventTypes[type].length; j++) {\n                        s._changeMouseCount(type, false);\n                    }\n                }\n            }\n            s.eventTypes = {};\n        };\n        /**\n         * 全局的鼠标事件的监听数对象表\n         * @property _MECO\n         * @private\n         * @since 1.0.0\n         */\n        EventDispatcher._MECO = {};\n        EventDispatcher._totalMEC = 0;\n        return EventDispatcher;\n    }(AObject));\n    annie.EventDispatcher = EventDispatcher;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 事件类,annie引擎中一切事件的基类\n     * @class annie.Event\n     * @extends annie.AObject\n     * @public\n     * @since 1.0.0\n     */\n    var Event = (function (_super) {\n        __extends(Event, _super);\n        /**\n         * @method Event\n         * @param {string} type 事件类型\n         */\n        function Event(type) {\n            _super.call(this);\n            /**\n             * 事件类型名\n             * @property type\n             * @type {string}\n             * @public\n             * @since 1.0.0\n             */\n            this.type = \"\";\n            /**\n             * 触发此事件的对象\n             * @property target\n             * @public\n             * @since 1.0.0\n             * @type {any}\n             */\n            this.target = null;\n            /**\n             * 随着事件一起附带的信息对象\n             * 所有需要随事件一起发送的信息都可以放在此对象中\n             * @property data\n             * @public\n             * @since 1.0.0\n             * @type {any}\n             * @default null\n             */\n            this.data = null;\n            /**\n             * 是否阻止事件向下冒泡\n             * @property _pd\n             * @type {boolean}\n             * @private\n             * @since 1.0.0\n             */\n            this._pd = false;\n            this.type = type;\n        }\n        /**\n         * 阻止向下冒泡事件,如果在接收到事件后调用事件的这个方法,那么这个事件将不会再向显示对象的子级派送\n         * @method preventDefault\n         * @public\n         * @since 1.0.0\n         */\n        Event.prototype.preventDefault = function () {\n            this._pd = true;\n        };\n        /**\n         * 舞台尺寸发生变化时触发\n         * @Event\n         * @property RESIZE\n         * @type {string}\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Event.RESIZE = \"onResize\";\n        /**\n         * 舞台初始化完成后会触发的事件\n         * @Event\n         * @property ON_STAGE_INIT\n         * @type {string}\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Event.INIT_TO_STAGE = \"onInitStage\";\n        /**\n         * 显示对象加入到舞台事件\n         * @Event\n         * @property ADD_TO_STAGE\n         * @type {string}\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Event.ADD_TO_STAGE = \"onAddToStage\";\n        /**\n         * 显示对象从舞台移出事件\n         * @Event\n         * @property REMOVE_TO_STAGE\n         * @type {string}\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Event.REMOVE_TO_STAGE = \"onRemoveToStage\";\n        /**\n         * 显示对象 循环帧事件\n         * @Event\n         * @property ENTER_FRAME\n         * @type {string}\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Event.ENTER_FRAME = \"onEnterFrame\";\n        /**\n         * MovieClip 播放完成事件\n         * @Event\n         * @property END_FRAME\n         * @type {string}\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Event.END_FRAME = \"onEndFrame\";\n        /**\n         * MovieClip 帧标签事件\n         * @Event\n         * @property CALL_FRAME\n         * @type {string}\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Event.CALL_FRAME = \"onCallFrame\";\n        /**\n         * 完成事件\n         * @Event\n         * @property COMPLETE\n         * @type {string}\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Event.COMPLETE = \"onComplete\";\n        /**\n         * 加载过程事件\n         * @Event\n         * @property PROGRESS\n         * @type {string}\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Event.PROGRESS = \"onProgress\";\n        /**\n         * 出错事件\n         * @Event\n         * @property ERROR\n         * @type {string}\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Event.ERROR = \"onError\";\n        /**\n         * 中断事件\n         * @Event\n         * @property ABORT\n         * @type {string}\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Event.ABORT = \"onAbort\";\n        /**\n         * 开始事件\n         * @Event\n         * @property START\n         * @type {string}\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Event.START = \"onStart\";\n        return Event;\n    }(annie.AObject));\n    annie.Event = Event;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 鼠标事件类,电脑端鼠标,移动设备端的触摸都使用此事件来监听\n     * @class annie.MouseEvent\n     * @extends annie.Event\n     * @public\n     * @since 1.0.0\n     */\n    var MouseEvent = (function (_super) {\n        __extends(MouseEvent, _super);\n        /**\n         * @method MouseEvent\n         * @public\n         * @since 1.0.0\n         * @param {string} type\n         */\n        function MouseEvent(type) {\n            _super.call(this, type);\n            /**\n             * mouse或touch事件时rootDiv坐标x点\n             * @property clientX\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.clientX = 0;\n            /**\n             * mouse或touch事件时rootDiv坐标y点\n             * @property clientY\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.clientY = 0;\n            /**\n             * mouse或touch事件时全局坐标x点\n             * @property stageX\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.stageX = 0;\n            /**\n             * mouse或touch事件时全局坐标y点\n             * @property stageY\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.stageY = 0;\n            /**\n             * mouse或touch事件时本地坐标x点\n             * @property localX\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.localX = 0;\n            /**\n             * mouse或touch事件时本地坐标y点\n             * @property localY\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.localY = 0;\n            /**\n             * 绑定此事件的侦听对象\n             * @property currentTarget\n             * @public\n             * @since 1.0.0\n             * @type{annie.DisplayObject}\n             * @default null\n             */\n            this.currentTarget = null;\n        }\n        /**\n         * 鼠标或者手指按下事件\n         * @property MOUSE_DOWN\n         * @static\n         * @public\n         * @since 1.0.0\n         * @type {string}\n         */\n        MouseEvent.MOUSE_DOWN = \"onMouseDown\";\n        /**\n         * 鼠标或者手指抬起事件\n         * @property MOUSE_UP\n         * @static\n         * @public\n         * @since 1.0.0\n         * @type {string}\n         */\n        MouseEvent.MOUSE_UP = \"onMouseUp\";\n        /**\n         * 鼠标或者手指单击\n         * @property CLICK\n         * @static\n         * @public\n         * @since 1.0.0\n         * @type {string}\n         */\n        MouseEvent.CLICK = \"onMouseClick\";\n        /**\n         * 鼠标或者手指移动事件\n         * @property MOUSE_MOVE\n         * @static\n         * @public\n         * @since 1.0.0\n         * @type {string}\n         */\n        MouseEvent.MOUSE_MOVE = \"onMouseMove\";\n        /**\n         * 鼠标或者手指移入到显示对象上里触发的事件\n         * @property MOUSE_OVER\n         * @static\n         * @public\n         * @since 1.0.0\n         * @type {string}\n         */\n        MouseEvent.MOUSE_OVER = \"onMouseOver\";\n        /**\n         * 鼠标或者手指移出显示对象边界触发的事件\n         * @property MOUSE_OUT\n         * @static\n         * @public\n         * @since 1.0.0\n         * @type {string}\n         */\n        MouseEvent.MOUSE_OUT = \"onMouseOut\";\n        return MouseEvent;\n    }(annie.Event));\n    annie.MouseEvent = MouseEvent;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * @class annie.Point\n     * @extends annie.AObject\n     * @since 1.0.0\n     * @public\n     */\n    var Point = (function (_super) {\n        __extends(Point, _super);\n        /**\n         * 构造函数\n         * @method Point\n         * @public\n         * @since 1.0.0\n         * @param x\n         * @param y\n         */\n        function Point(x, y) {\n            if (x === void 0) { x = 0; }\n            if (y === void 0) { y = 0; }\n            _super.call(this);\n            /**\n             * @property x\n             * @public\n             * @since 1.0.0\n             * @type{number}\n             */\n            this.x = 0;\n            /**\n             * @property y\n             * @since 1.0.0\n             * @public\n             * @type {number}\n             */\n            this.y = 0;\n            var s = this;\n            s.x = x;\n            s.y = y;\n        }\n        /**\n         * 求两点之间的距离\n         * @method distance\n         * @static\n         * @param p1\n         * @param p2\n         * @returns {number}\n         */\n        Point.distance = function (p1, p2) {\n            return Math.sqrt(p1.x * p1.x * +p1.y * p2.y);\n        };\n        return Point;\n    }(annie.AObject));\n    annie.Point = Point;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    var PI = Math.PI;\n    var HalfPI = PI >> 1;\n    var PacPI = PI + HalfPI;\n    var TwoPI = PI << 1;\n    var DEG_TO_RAD = Math.PI / 180;\n    function cos(angle) {\n        switch (angle) {\n            case HalfPI:\n            case -PacPI:\n                return 0;\n            case PI:\n            case -PI:\n                return -1;\n            case PacPI:\n            case -HalfPI:\n                return 0;\n            default:\n                return Math.cos(angle);\n        }\n    }\n    /**\n     * @private\n     */\n    function sin(angle) {\n        switch (angle) {\n            case HalfPI:\n            case -PacPI:\n                return 1;\n            case PI:\n            case -PI:\n                return 0;\n            case PacPI:\n            case -HalfPI:\n                return -1;\n            default:\n                return Math.sin(angle);\n        }\n    }\n    /**\n     * 2维矩阵,不熟悉的朋友可以找相关书箱看看\n     * @class annie.Matrix\n     * @extends annie.AObject\n     * @public\n     * @since 1.0.0\n     */\n    var Matrix = (function (_super) {\n        __extends(Matrix, _super);\n        /**\n         * 构造函数\n         * @method Matrix\n         * @param {number} a\n         * @param {number} b\n         * @param {number} c\n         * @param {number} d\n         * @param {number} tx\n         * @param {number} ty\n         * @public\n         * @since 1.0.0\n         */\n        function Matrix(a, b, c, d, tx, ty) {\n            if (a === void 0) { a = 1; }\n            if (b === void 0) { b = 0; }\n            if (c === void 0) { c = 0; }\n            if (d === void 0) { d = 1; }\n            if (tx === void 0) { tx = 0; }\n            if (ty === void 0) { ty = 0; }\n            _super.call(this);\n            /**\n             * @property a\n             * @type {number}\n             * @public\n             * @default 1\n             * @since 1.0.0\n             */\n            this.a = 1;\n            /**\n             * @property b\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.b = 0;\n            /**\n             * @property c\n             * @type {number}\n             * @public\n             * @since 1.0.0\n             */\n            this.c = 0;\n            /**\n             * @property d\n             * @type {number}\n             * @public\n             * @since 1.0.0\n             */\n            this.d = 1;\n            /**\n             * @property tx\n             * @type {number}\n             * @public\n             * @since 1.0.0\n             */\n            this.tx = 0;\n            /**\n             * @property ty\n             * @type {number}\n             * @since 1.0.0\n             * @public\n             */\n            this.ty = 0;\n            /**\n             * 将一个点通过矩阵变换后的点\n             * @method transformPoint\n             * @param {number} x\n             * @param {number} y\n             * @param {annie.Point} 默认为空，如果不为null，则返回的是Point就是此对象，如果为null，则返回来的Point是新建的对象\n             * @returns {annie.Point}\n             * @public\n             * @since 1.0.0\n             */\n            this.transformPoint = function (x, y, bp) {\n                if (bp === void 0) { bp = null; }\n                var s = this;\n                if (!bp) {\n                    bp = new annie.Point();\n                }\n                bp.x = x * s.a + y * s.c + s.tx;\n                bp.y = x * s.b + y * s.d + s.ty;\n                return bp;\n            };\n            /**\n             * 矩阵相乘\n             * @method prepend\n             * @public\n             * @since 1.0.0\n             * @param {annie.Matrix} mtx\n             */\n            this.prepend = function (mtx) {\n                var s = this;\n                var a = mtx.a;\n                var b = mtx.b;\n                var c = mtx.c;\n                var d = mtx.d;\n                var tx = mtx.tx;\n                var ty = mtx.ty;\n                var a1 = s.a;\n                var c1 = s.c;\n                var tx1 = s.tx;\n                s.a = a * a1 + c * s.b;\n                s.b = b * a1 + d * s.b;\n                s.c = a * c1 + c * s.d;\n                s.d = b * c1 + d * s.d;\n                s.tx = a * tx1 + c * s.ty + tx;\n                s.ty = b * tx1 + d * s.ty + ty;\n            };\n            var s = this;\n            s.a = a;\n            s.b = b;\n            s.c = c;\n            s.d = d;\n            s.tx = tx;\n            s.ty = ty;\n        }\n        /**\n         * 复制一个矩阵\n         * @method clone\n         * @since 1.0.0\n         * @public\n         * @returns {annie.Matrix}\n         */\n        Matrix.prototype.clone = function () {\n            var s = this;\n            return new Matrix(s.a, s.b, s.c, s.d, s.tx, s.ty);\n        };\n        /**\n         * 从一个矩阵里赋值给这个矩阵\n         * @method setFrom\n         * @param {annie.Matrix} mtx\n         * @public\n         * @since 1.0.0\n         */\n        Matrix.prototype.setFrom = function (mtx) {\n            var s = this;\n            s.a = mtx.a;\n            s.b = mtx.b;\n            s.c = mtx.c;\n            s.d = mtx.d;\n            s.tx = mtx.tx;\n            s.ty = mtx.ty;\n        };\n        /**\n         * 将矩阵恢复成原始矩阵\n         * @method\n         * @public\n         * @since 1.0.0\n         */\n        Matrix.prototype.identity = function () {\n            var s = this;\n            s.a = s.d = 1;\n            s.b = s.c = s.tx = s.ty = 0;\n        };\n        /**\n         * 反转一个矩阵\n         * @method\n         * @returns {Matrix}\n         * @since 1.0.0\n         * @public\n         */\n        Matrix.prototype.invert = function () {\n            var s = this;\n            var target = new Matrix(s.a, s.b, s.c, s.d, s.tx, s.ty);\n            var a = s.a;\n            var b = s.b;\n            var c = s.c;\n            var d = s.d;\n            var tx = s.tx;\n            var ty = s.ty;\n            if (b == 0 && c == 0) {\n                if (a == 0 || d == 0) {\n                    target.a = target.d = target.tx = target.ty = 0;\n                }\n                else {\n                    a = target.a = 1 / a;\n                    d = target.d = 1 / d;\n                    target.tx = -a * tx;\n                    target.ty = -d * ty;\n                }\n                return target;\n            }\n            var determinant = a * d - b * c;\n            if (determinant == 0) {\n                target.identity();\n                return target;\n            }\n            determinant = 1 / determinant;\n            var k = target.a = d * determinant;\n            b = target.b = -b * determinant;\n            c = target.c = -c * determinant;\n            d = target.d = a * determinant;\n            target.tx = -(k * tx + c * ty);\n            target.ty = -(b * tx + d * ty);\n            return target;\n        };\n        /**\n         * 设置一个矩阵通过普通的显示对象的相关九大属性\n         * @method createBox\n         * @param {number} x\n         * @param {number} y\n         * @param {number} scaleX\n         * @param {number} scaleY\n         * @param {number} rotation\n         * @param {number} skewX\n         * @param {number} skewY\n         * @param {number} ax\n         * @param {number} ay\n         * @since 1.0.0\n         * @public\n         */\n        Matrix.prototype.createBox = function (x, y, scaleX, scaleY, rotation, skewX, skewY, ax, ay) {\n            var s = this;\n            if (rotation != 0) {\n                skewX = skewY = rotation % 360;\n            }\n            else {\n                skewX %= 360;\n                skewY %= 360;\n            }\n            if ((skewX == 0) && (skewY == 0)) {\n                s.a = scaleX;\n                s.b = s.c = 0;\n                s.d = scaleY;\n            }\n            else {\n                skewX *= DEG_TO_RAD;\n                skewY *= DEG_TO_RAD;\n                var u = cos(skewX);\n                var v = sin(skewX);\n                if (skewX == skewY) {\n                    s.a = u * scaleX;\n                    s.b = v * scaleX;\n                }\n                else {\n                    s.a = cos(skewY) * scaleX;\n                    s.b = sin(skewY) * scaleX;\n                }\n                s.c = -v * scaleY;\n                s.d = u * scaleY;\n            }\n            ;\n            s.tx = x + ax - (ax * s.a + ay * s.c);\n            s.ty = y + ay - (ax * s.b + ay * s.d);\n        };\n        /**\n         * 判断两个矩阵是否相等\n         * @method isEqual\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {annie.Matrix} m1\n         * @param {annie.Matrix} m2\n         * @returns {boolean}\n         */\n        Matrix.isEqual = function (m1, m2) {\n            return m1.tx == m2.tx && m1.ty == m2.ty && m1.a == m2.a && m1.b == m2.b && m1.c == m2.c && m1.d == m2.d;\n        };\n        return Matrix;\n    }(annie.AObject));\n    annie.Matrix = Matrix;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     *\n     * @class annie.Rectangle\n     * @extends annie.AObject\n     * @public\n     * @since 1.0.0\n     */\n    var Rectangle = (function (_super) {\n        __extends(Rectangle, _super);\n        /**\n         * 构造函数\n         * @method Rectangle\n         * @param {number} x\n         * @param {number} y\n         * @param {number} width\n         * @param {number} height\n         */\n        function Rectangle(x, y, width, height) {\n            if (x === void 0) { x = 0; }\n            if (y === void 0) { y = 0; }\n            if (width === void 0) { width = 0; }\n            if (height === void 0) { height = 0; }\n            _super.call(this);\n            /**\n             * @property x\n             * @public\n             * @since 1.0.0\n             * @type{number}\n             * @default 0\n             */\n            this.x = 0;\n            /**\n             * @property y\n             * @public\n             * @since 1.0.0\n             * @type{number}\n             * @default 0\n             */\n            this.y = 0;\n            /**\n             * @property width\n             * @public\n             * @since 1.0.0\n             * @type{number}\n             * @default 0\n             */\n            this.width = 0;\n            /**\n             * @property height\n             * @public\n             * @since 1.0.0\n             * @type{number}\n             * @default 0\n             */\n            this.height = 0;\n            this.x = x;\n            this.y = y;\n            this.height = height;\n            this.width = width;\n        }\n        /**\n         * 判断一个点是否在矩形内包括边\n         * @method isPointIn\n         * @param {annie.Point} point\n         * @returns {boolean}\n         * @public\n         * @since 1.0.0\n         */\n        Rectangle.prototype.isPointIn = function (point) {\n            var s = this;\n            return point.x >= s.x && point.x <= (s.x + s.width) && point.y >= s.y && point.y <= (s.y + s.height);\n        };\n        /**\n         * 将多个矩形合成为一个大的矩形\n         * 返回包含所有给定的矩阵拼合之后的一个最小矩形\n         * @method createFromRects\n         * @param {annie.Rectangle} rect\n         * @param {..arg} arg\n         * @public\n         * @since 1.0.0\n         * @static\n         */\n        Rectangle.createFromRects = function (rect) {\n            var arg = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                arg[_i - 1] = arguments[_i];\n            }\n            var x = rect.x, y = rect.y, w = rect.width, h = rect.height, wx1, wx2, hy1, hy2;\n            for (var i = 0; i < arg.length; i++) {\n                if (arg[i] == null)\n                    continue;\n                wx1 = x + w;\n                hy1 = y + h;\n                wx2 = arg[i].x + arg[i].width;\n                hy2 = arg[i].y + arg[i].height;\n                if (x > arg[i].x) {\n                    x = arg[i].x;\n                }\n                if (y > arg[i].y) {\n                    y = arg[i].y;\n                }\n                if (wx1 < wx2) {\n                    wx1 = wx2;\n                }\n                if (hy1 < hy2) {\n                    hy1 = hy2;\n                }\n            }\n            return new Rectangle(x, y, wx1 - x, hy1 - y);\n        };\n        /**\n         * 通过一系列点来生成一个矩形\n         * 返回包含所有给定的点的最小矩形\n         * @method createFromPoints\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {annie.Point} p1\n         * @param {..arg} ary\n         * @returns {annie.Rectangle}\n         */\n        Rectangle.createFromPoints = function (p1) {\n            var arg = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                arg[_i - 1] = arguments[_i];\n            }\n            var x = p1.x, y = p1.y, w = p1.x, h = p1.y;\n            for (var i = 0; i < arg.length; i++) {\n                if (arg[i] == null)\n                    continue;\n                if (x > arg[i].x) {\n                    x = arg[i].x;\n                }\n                if (y > arg[i].y) {\n                    x = arg[i].y;\n                }\n                if (w < arg[i].x) {\n                    w = arg[i].x;\n                }\n                if (h < arg[i].y) {\n                    h = arg[i].y;\n                }\n            }\n            return new Rectangle(x, y, w, h);\n        };\n        /**\n         * 判读两个矩形是否相交\n         * @method testRectCross\n         * @public\n         * @since 1.0.2\n         * @param r1\n         * @param r2\n         * @return {boolean}\n         */\n        Rectangle.testRectCross = function (ra, rb) {\n            var a_cx, a_cy; /* 第一个中心点*/\n            var b_cx, b_cy; /* 第二个中心点*/\n            a_cx = ra.x + (ra.width / 2);\n            a_cy = ra.y + (ra.height / 2);\n            b_cx = rb.x + (rb.width / 2);\n            b_cy = rb.y + (rb.height / 2);\n            return ((Math.abs(a_cx - b_cx) <= (ra.width / 2 + rb.width / 2)) && (Math.abs(a_cy - b_cy) <= (ra.height / 2 + rb.height / 2)));\n        };\n        return Rectangle;\n    }(annie.AObject));\n    annie.Rectangle = Rectangle;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 显示对象抽奖类,不能直接实例化。一切显示对象的基类,包含了显示对象需要的一切属性\n     * DisplayObject 类本身不包含任何用于在屏幕上呈现内容的 API。\n     * 因此，如果要创建 DisplayObject 类的自定义子类，您将需要扩展其中一个具有在屏幕\n     * 上呈现内容的 API 的子类，如 Shape、Sprite、Bitmap、TextField 或 MovieClip 类。\n     * @class annie.DisplayObject\n     * @since 1.0.0\n     * @extends annie.EventDispatcher\n     */\n    var DisplayObject = (function (_super) {\n        __extends(DisplayObject, _super);\n        /**\n         * @method DisplayObject\n         * @since 1.0.0\n         * @public\n         */\n        function DisplayObject() {\n            _super.call(this);\n            /**\n             * 此显示对象所在的舞台对象,如果此对象没有被添加到显示对象列表中,此对象为空。\n             * @property stage\n             * @public\n             * @since 1.0.0\n             * @type {Stage}\n             * @default null;\n             * @readonly\n             * */\n            this.stage = null;\n            /**\n             * 显示对象在显示列表上的最终表现出来的透明度,此透明度会继承父级的透明度依次相乘得到最终的值\n             * @property cAlpha\n             * @private\n             * @type {number}\n             * @since 1.0.0\n             * @default 1\n             */\n            this.cAlpha = 1;\n            /**\n             * 显示对象上对显示列表上的最终合成的矩阵,此矩阵会继承父级的显示属性依次相乘得到最终的值\n             * @property cMatrix\n             * @private\n             * @type {annie.Matrix}\n             * @default null\n             * @since 1.0.0\n             */\n            this.cMatrix = new annie.Matrix();\n            /**\n             * 因为每次enterFrame事件时都生成一个Event非常浪费资源,所以做成一个全局的\n             * @property _enterFrameEvent\n             * @private\n             * @type {annie.Event}\n             * @default null\n             * @since 1.0.0\n             */\n            this._enterFrameEvent = null;\n            /**\n             * 是否可以接受点击事件,如果设置为false,此显示对象将无法接收到点击事件\n             * @property mouseEnable\n             * @type {boolean}\n             * @public\n             * @since 1.0.0\n             * @default true\n             */\n            this.mouseEnable = true;\n            /**\n             * 显示对象上对显示列表上的最终的所有滤镜组\n             * @property cFilters\n             * @private\n             * @default []\n             * @since 1.0.0\n             * @type {Array}\n             */\n            this.cFilters = [];\n            /**\n             * 缓存着的滤镜组信息，通过此信息来判断滤镜是否有更新以此来告诉对象是否需要更新缓存视觉\n             * @property cCacheFilters\n             * @private\n             * @default []\n             * @since 1.0.0\n             * @type {Array}\n             */\n            this.cCacheFilters = [];\n            /**\n             * 是否需要更新缓存的开关\n             * @property _isNeedUpdate\n             * @private\n             * @type {boolean}\n             * @since 1.0.0\n             * @default true\n             */\n            this._isNeedUpdate = true;\n            /**\n             * 每一个显示对象都可以给他启一个名字,这样我们在查找子级的时候就可以直接用this.getChildrndByName(\"name\")获取到这个对象的引用\n             * @property name\n             * @since 1.0.0\n             * @public\n             * @type {string}\n             * @default \"\"\n             */\n            this.name = \"\";\n            /**\n             * 显示对象位置x\n             * @property x\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             */\n            this.x = 0;\n            /**\n             * 显示对象位置y\n             * @property y\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             */\n            this.y = 0;\n            /**\n             * 显示对象x方向的缩放值\n             * @property scaleX\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 1\n             */\n            this.scaleX = 1;\n            /**\n             * 显示对象y方向的缩放值\n             * @property scaleY\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 1\n             */\n            this.scaleY = 1;\n            /**\n             * 显示对象旋转角度\n             * @property rotation\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             */\n            this.rotation = 0;\n            /**\n             * 显示对象透明度\n             * @property alpha\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 1\n             */\n            this.alpha = 1;\n            /**\n             * 显示对象x方向的斜切值\n             * @property skewX\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             */\n            this.skewX = 0;\n            /**\n             * 显示对象y方向的斜切值\n             * @property skewY\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             */\n            this.skewY = 0;\n            /**\n             * 显示对象上x方向的缩放或旋转点\n             * @property anchorX\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             */\n            this.anchorX = 0;\n            /**\n             * 显示对象上y方向的缩放或旋转点\n             * @property anchorY\n             * @pubic\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             */\n            this.anchorY = 0;\n            /**\n             * 显未对象是否可见\n             * @property visible\n             * @public\n             * @since 1.0.0\n             * @type {boolean}\n             * @default 0\n             */\n            this.visible = true;\n            // /**\n            //  * 显示对象的混合模式\n            //  * @property blendMode\n            //  * @public\n            //  * @since 1.0.0\n            //  * @type {number}\n            //  * @default 0\n            //  */\n            // public blendMode:number = 0;\n            /**\n             * 显示对象的变形矩阵\n             * @property matrix\n             * @public\n             * @since 1.0.0\n             * @type {annie.Matrix}\n             * @default null\n             */\n            this.matrix = new annie.Matrix();\n            /**\n             * 显示对象的遮罩, 是一个Shape显示对象或是一个只包含shape显示对象的MovieClip\n             * @property mask\n             * @public\n             * @since 1.0.0\n             * @type {annie.DisplayObject}\n             * @default null\n             */\n            this.mask = null;\n            /**\n             * 显示对象的滤镜数组\n             * @property filters\n             * @since 1.0.0\n             * @public\n             * @type {Array}\n             * @default null\n             */\n            this.filters = null;\n            /**\n             * 显示对象的父级\n             * @property parent\n             * @since 1.0.0\n             * @public\n             * @type {annie.Sprite}\n             * @default null\n             * @readonly\n             */\n            this.parent = null;\n            //需要用webgl渲染的信息\n            this._glInfo = {};\n        }\n        /**\n         *将全局坐标转换到本地坐标值\n         * @method globalToLocal\n         * @since 1.0.0\n         * @public\n         * @param {annie.Point} point\n         * @returns {annie.Point}\n         */\n        DisplayObject.prototype.globalToLocal = function (point, bp) {\n            if (bp === void 0) { bp = null; }\n            return this.cMatrix.invert().transformPoint(point.x, point.y, bp);\n        };\n        /**\n         *将本地坐标转换到全局坐标值\n         * @method localToGlobal\n         * @public\n         * @since 1.0.0\n         * @param {annie.Point} point\n         * @returns {annie.Point}\n         */\n        DisplayObject.prototype.localToGlobal = function (point, bp) {\n            if (bp === void 0) { bp = null; }\n            return this.cMatrix.transformPoint(point.x, point.y, bp);\n        };\n        /**\n         * 点击碰撞测试,就是舞台上的一个point是否在显示对象内,在则返回该对象，不在则返回null\n         * @method hitTestPoint\n         * @public\n         * @since 1.0.0\n         * @param {annie.Point} globalPoint 全局坐标中的一个点\n         * @param {boolean} isMouseEvent 是否是鼠标事件调用此方法,用户一般无须理会,除非你要模拟鼠标点击可以\n         * @returns {annie.DisplayObject}\n         */\n        DisplayObject.prototype.hitTestPoint = function (globalPoint, isMouseEvent) {\n            if (isMouseEvent === void 0) { isMouseEvent = false; }\n            var s = this;\n            if (!s.visible)\n                return null;\n            if (isMouseEvent && !s.mouseEnable)\n                return null;\n            if (s.getBounds().isPointIn(s.globalToLocal(globalPoint, DisplayObject._bp))) {\n                return s;\n            }\n            return null;\n        };\n        /**\n         * 获取对象的自身的没有任何形变的原始姿态下的原点坐标及宽高,抽像方法\n         * @method getBounds\n         * @public\n         * @since 1.0.0\n         * @returns {annie.Rectangle}\n         */\n        DisplayObject.prototype.getBounds = function () {\n            return null;\n        };\n        /**\n         * 获取对象形变后外切矩形。\n         * 可以从这个方法中读取到此显示对象变形后x方向上的宽主y方向上的高\n         * @method getDrawRect\n         * @public\n         * @since 1.0.0\n         * @returns {annie.Rectangle}\n         */\n        DisplayObject.prototype.getDrawRect = function () {\n            var s = this;\n            var rect;\n            var bounds = s.getBounds();\n            if (bounds) {\n                var p1 = s.matrix.transformPoint(bounds.x, bounds.y);\n                var p2 = s.matrix.transformPoint(bounds.x + bounds.width, bounds.y + bounds.height);\n                rect = annie.Rectangle.createFromPoints(p1, p2);\n                rect.width -= rect.x;\n                rect.height -= rect.y;\n            }\n            return rect;\n        };\n        /**\n         * 更新函数\n         * @method update\n         * @public\n         * @since 1.0.0\n         */\n        DisplayObject.prototype.update = function () {\n            var s = this;\n            s.matrix.createBox(s.x, s.y, s.scaleX, s.scaleY, s.rotation, s.skewX, s.skewY, s.anchorX, s.anchorY);\n            s.cFilters.length = 0;\n            s.cMatrix.setFrom(s.matrix);\n            if (s.parent) {\n                s.cMatrix.prepend(s.parent.cMatrix);\n                s.cAlpha = s.alpha * s.parent.cAlpha;\n                if (s.parent.cFilters && s.parent.cFilters.length > 0) {\n                    var len = s.parent.cFilters.length;\n                    var pf = s.parent.cFilters;\n                    for (var i = 0; i < len; i++) {\n                        s.cFilters[i] = pf[i];\n                    }\n                }\n            }\n            else {\n                s.cAlpha = s.alpha;\n            }\n            if (s.visible) {\n                //如果visible为true更新他们的显示列表信息\n                if (s.filters && s.filters.length > 0) {\n                    var len = s.filters.length;\n                    var sf = s.filters;\n                    for (var i = 0; i < len; i++) {\n                        s.cFilters.push(sf[i]);\n                    }\n                }\n                //判读是否显示对象链上是否有滤镜更新\n                if (s.cFilters.length > 0) {\n                    var cLen = s.cFilters.length;\n                    var isNeedUpdateFilters = false;\n                    if (s.cCacheFilters.length != cLen) {\n                        isNeedUpdateFilters = true;\n                    }\n                    else {\n                        for (var i = 0; i < cLen; i++) {\n                            if (s.cFilters[i].toString() != s.cCacheFilters[i]) {\n                                isNeedUpdateFilters = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (isNeedUpdateFilters) {\n                        s._isNeedUpdate = true;\n                        s.cCacheFilters.length = 0;\n                        for (var i = 0; i < cLen; i++) {\n                            s.cCacheFilters[i] = s.cFilters[i].toString();\n                        }\n                    }\n                }\n                else if (s.cCacheFilters.length > 0) {\n                    s.cCacheFilters.length = 0;\n                    s._isNeedUpdate = true;\n                }\n            }\n            //enterFrame事件,因为enterFrame不会冒泡所以不需要调用s._enterFrameEvent._pd=false\n            if (s.hasEventListener(\"onEnterFrame\")) {\n                if (!s._enterFrameEvent) {\n                    s._enterFrameEvent = new annie.Event(\"onEnterFrame\");\n                }\n                s.dispatchEvent(s._enterFrameEvent);\n            }\n        };\n        /**\n         * 抽象方法\n         * 调用此方法将显示对象渲染到屏幕\n         * @method render\n         * @public\n         * @since 1.0.0\n         * @param {annie.IRender} renderObj\n         */\n        DisplayObject.prototype.render = function (renderObj) {\n            //this.isNeedUpdate =false;\n        };\n        /**\n         * 调用些方法会冒泡的将事件向显示列表下方传递\n         * @method _onDispatchBubbledEvent\n         * @private\n         * @since 1.0.0\n         * @param {string} type\n         * @private\n         */\n        DisplayObject.prototype._onDispatchBubbledEvent = function (type) {\n            var s = this;\n            s.stage = s.parent.stage;\n            s.dispatchEvent(type);\n            if (type == \"onRemoveToStage\") {\n                s.stage = null;\n            }\n        };\n        /**\n         * 返回显示对象的宽和高\n         * @method getWH\n         * @public\n         * @since 1.0.0\n         * @returns {width: number, height: number}\n         */\n        DisplayObject.prototype.getWH = function () {\n            var s = this;\n            var dr = s.getDrawRect();\n            return { width: dr.width, height: dr.height };\n        };\n        /**\n         * 设置显示对象的宽和高\n         * @method setWH\n         * @public\n         * @since 1.0.0\n         * @param {number} w\n         * @param {number} h\n         */\n        DisplayObject.prototype.setWH = function (w, h) {\n            var s = this;\n            var wh = s.getWH();\n            if (w != 0) {\n                var sx = w / wh.width;\n                s.scaleX *= sx;\n            }\n            if (h != 0) {\n                var sy = h / wh.height;\n                s.scaleY *= sy;\n            }\n        };\n        /**\n         * 为了hitTestPoint，localToGlobal，globalToLocal等方法不复新不重复生成新的点对象而节约内存\n         * @type {annie.Point}\n         * @private\n         * @static\n         */\n        DisplayObject._bp = new annie.Point();\n        /**\n         * 画缓存位图的时候需要使用\n         * @property _bitmapCanvas\n         * @private\n         * @static\n         * @since 1.0.0\n         * @type {Canvas}\n         */\n        DisplayObject._canvas = window.document.createElement(\"canvas\");\n        return DisplayObject;\n    }(annie.EventDispatcher));\n    annie.DisplayObject = DisplayObject;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 利用 Bitmap() 构造函数，可以创建包含对 BitmapData 对象的引用的 Bitmap 对象。\n     * 创建了 Bitmap 对象后，使用父 Sprite 实例的 addChild() 或 addChildAt() 方法将位图放在显示列表中。\n     * 一个 Bitmap 对象可在若干 Bitmap 对象之中共享其 BitmapData 引用，\n     * 与转换属性或旋转属性无关。由于能够创建引用相同 BitmapData 对象的多个 Bitmap 对象，\n     * 因此，多个显示对象可以使用相同的复杂 BitmapData 对象，而不会因为每个显示对象实例使用一个 BitmapData 对象而产生内存开销。\n     * @class annie.Bitmap\n     * @public\n     * @extends annie.DisplayObject\n     * @since 1.0.0\n     */\n    var Bitmap = (function (_super) {\n        __extends(Bitmap, _super);\n        /**\n         * 构造函数\n         * @method Bitmap\n         * @since 1.0.0\n         * @public\n         * @param {Image|Video|other} bitmapData 一个HTMl Image的实例\n         * @param {annie.Rectangle} rect 设置显示Image的区域,不设置些值则全部显示Image的内容\n         */\n        function Bitmap(bitmapData, rect) {\n            if (bitmapData === void 0) { bitmapData = null; }\n            if (rect === void 0) { rect = null; }\n            _super.call(this);\n            /**\n             * HTML的一个Image对象或者是canvas对象或者是video对象\n             * @property bitmapData\n             * @public\n             * @since 1.0.0\n             * @type {any}\n             * @default null\n             */\n            this.bitmapData = null;\n            /**\n             * 有时候一张大图，我们只需要显示他的部分。其他不显示,对你可能猜到了\n             * SpriteSheet就用到了这个属性。默认为null表示全尺寸显示bitmapData需要显示的范围\n             * @property rect\n             * @public\n             * @since 1.0.0\n             * @type {annie.Rectangle}\n             * @default null\n             */\n            this.rect = null;\n            /**\n             * 缓存起来的纹理对象。最后真正送到渲染器去渲染的对象\n             * @property _cacheImg\n             * @private\n             * @since 1.0.0\n             * @type {any}\n             * @default null\n             */\n            this._cacheImg = null;\n            this._realCacheImg = null;\n            /**\n             * @property _cacheX\n             * @private\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             */\n            this._cacheX = 0;\n            /**\n             * @property _cacheY\n             * @private\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             */\n            this._cacheY = 0;\n            /**\n             * @property _isCache\n             * @private\n             * @since 1.0.0\n             * @type {boolean}\n             * @default false\n             */\n            this._isCache = false;\n            var s = this;\n            s.bitmapData = bitmapData;\n            s.rect = rect;\n        }\n        /**\n         * 重写渲染\n         * @method render\n         * @param {annie.IRender} renderObj\n         * @public\n         * @since 1.0.0\n         */\n        Bitmap.prototype.render = function (renderObj) {\n            if (this._cacheImg) {\n                renderObj.draw(this, 0);\n            }\n            //super.render();\n        };\n        /**\n         * 重写刷新\n         * @method update\n         * @public\n         * @since 1.0.0\n         */\n        Bitmap.prototype.update = function () {\n            var s = this;\n            _super.prototype.update.call(this);\n            //滤镜\n            if (s._isNeedUpdate) {\n                if (!s.bitmapData || (s.bitmapData.nodeName == \"IMG\" && !s.bitmapData.complete))\n                    return;\n                if (s[\"cFilters\"] && s[\"cFilters\"].length > 0) {\n                    if (!s._realCacheImg) {\n                        s._realCacheImg = window.document.createElement(\"canvas\");\n                    }\n                    var _canvas = s._realCacheImg;\n                    var tr = s.rect;\n                    var w = tr ? tr.width : s.bitmapData.width;\n                    var h = tr ? tr.height : s.bitmapData.height;\n                    var newW = w + 20;\n                    var newH = h + 20;\n                    _canvas.width = newW;\n                    _canvas.height = newH;\n                    _canvas.style.width = newW / annie.devicePixelRatio + \"px\";\n                    _canvas.style.height = newH / annie.devicePixelRatio + \"px\";\n                    var ctx = _canvas.getContext(\"2d\");\n                    ctx.clearRect(0, 0, newW, newH);\n                    ctx.translate(10, 10);\n                    ctx.shadowBlur = 0;\n                    ctx.shadowColor = \"#0\";\n                    ctx.shadowOffsetX = 0;\n                    ctx.shadowOffsetY = 0;\n                    /////////////////////\n                    var cf = s.cFilters;\n                    var cfLen = cf.length;\n                    for (var i = 0; i < cfLen; i++) {\n                        if (s.cFilters[i].type == \"Shadow\") {\n                            ctx.shadowBlur = cf[i].blur;\n                            ctx.shadowColor = cf[i].color;\n                            ctx.shadowOffsetX = cf[i].offsetX;\n                            ctx.shadowOffsetY = cf[i].offsetY;\n                            break;\n                        }\n                    }\n                    ////////////////////\n                    if (tr) {\n                        ctx.drawImage(s.bitmapData, tr.x, tr.y, w, h, 0, 0, w, h);\n                    }\n                    else {\n                        ctx.drawImage(s.bitmapData, 0, 0);\n                    }\n                    var len = s[\"cFilters\"].length;\n                    var imageData = ctx.getImageData(0, 0, newW, newH);\n                    for (var i = 0; i < len; i++) {\n                        var f = s[\"cFilters\"][i];\n                        f.drawFilter(imageData);\n                    }\n                    ctx.putImageData(imageData, 0, 0);\n                    //s._realCacheImg.src = _canvas.toDataURL(\"image/png\");\n                    s._cacheImg = s._realCacheImg;\n                    s._cacheX = -10;\n                    s._cacheY = -10;\n                    s._isCache = true;\n                }\n                else {\n                    s._isCache = false;\n                    s._cacheX = 0;\n                    s._cacheY = 0;\n                    s._cacheImg = s.bitmapData;\n                }\n                //给webgl更新新\n                s._isNeedUpdate = false;\n                annie.WGRender.setDisplayInfo(s, 0);\n            }\n        };\n        /**\n         * 重写getBounds\n         * 获取Bitmap对象的Bounds\n         * @method getBounds\n         * @public\n         * @since 1.0.0\n         * @returns {annie.Rectangle}\n         */\n        Bitmap.prototype.getBounds = function () {\n            var s = this;\n            var r = new annie.Rectangle();\n            if (s.rect) {\n                r.width = s.rect.width;\n                r.height = s.rect.height;\n            }\n            else {\n                r.width = s.bitmapData ? s.bitmapData.width : 0;\n                r.height = s.bitmapData ? s.bitmapData.height : 0;\n            }\n            return r;\n        };\n        /**\n         * 从SpriteSheet的大图中剥离出单独的小图以供特殊用途\n         * @method convertToImage\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {annie.Bitmap} bitmap\n         * @return {Image}\n         */\n        Bitmap.convertToImage = function (bitmap) {\n            if (!bitmap.bitmapData || (bitmap.bitmapData.nodeName == \"IMG\" && !bitmap.bitmapData.complete))\n                return;\n            if (!bitmap.rect) {\n                return bitmap.bitmapData;\n            }\n            else {\n                var _canvas = annie.DisplayObject._canvas;\n                var w = bitmap.rect.width;\n                var h = bitmap.rect.height;\n                _canvas.width = w;\n                _canvas.height = h;\n                var ctx = _canvas.getContext(\"2d\");\n                var tr = bitmap.rect;\n                ctx.clearRect(0, 0, w, h);\n                ctx.drawImage(bitmap.bitmapData, tr.x, tr.y, w, h, 0, 0, w, h);\n                var _realCacheImg = window.document.createElement(\"img\");\n                _realCacheImg.src = _canvas.toDataURL(\"image/png\");\n                return _realCacheImg;\n            }\n        };\n        return Bitmap;\n    }(annie.DisplayObject));\n    annie.Bitmap = Bitmap;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 矢量对象\n     * @class annie.Shape\n     * @extends annie.DisplayObject\n     * @since 1.0.0\n     * @public\n     */\n    var Shape = (function (_super) {\n        __extends(Shape, _super);\n        function Shape() {\n            _super.call(this);\n            /**\n             * 一个数组，每个元素也是一个数组[类型 0是属性,1是方法,名字 执行的属性或方法名,参数]\n             * @property _command\n             * @private\n             * @since 1.0.0\n             * @type {Array}\n             * @default []\n             */\n            this._command = [];\n            /**\n             * @property _cacheCanvas\n             * @since 1.0.0\n             * @private\n             * @type {Canvas}\n             */\n            this._cacheImg = window.document.createElement(\"canvas\");\n            this._cacheX = 0;\n            this._cacheY = 0;\n            /**\n             * 碰撞或鼠标点击时的检测精度,为false只会粗略检测,如果形状规则,建议使用,检测速度快。\n             * 为true则会进行像素检测,只会检测有像素区域,检测效果好,建议需要严格的点击碰撞检测\n             * @property hitPixel\n             * @public\n             * @since 1.0.0\n             * @type {boolean}\n             * @default true\n             */\n            this.hitPixel = true;\n            /**\n             * 径向渐变填充 一般给Flash2x用\n             * @method beginRadialGradientFill\n             * @param {Array} colors 一组颜色值\n             * @param {Array} ratios 一组范围比例值\n             * @param {Array} points 一组点\n             * @public\n             * @since 1.0.0\n             */\n            this.beginRadialGradientFill = function (colors, ratios, points) {\n                this._fill(Shape.getGradientColor(colors, ratios, points));\n            };\n            /**\n             * 画径向渐变的线条 一般给Flash2x用\n             * @method beginRadialGradientStroke\n             * @param {Array} colors 一组颜色值\n             * @param {Array} ratios 一组范围比例值\n             * @param {Array} points 一组点\n             * @param {number} lineWidth\n             * @public\n             * @since 1.0.0\n             */\n            this.beginRadialGradientStroke = function (colors, ratios, points, lineWidth) {\n                if (lineWidth === void 0) { lineWidth = 1; }\n                this._stroke(Shape.getGradientColor(colors, ratios, points), lineWidth);\n            };\n            /**\n             * 解析一段路径 一般给Flash2x用\n             * @method decodePath\n             * @param {string} data\n             * @public\n             * @since 1.0.0\n             */\n            this.decodePath = function (data) {\n                var s = this;\n                var instructions = [\"moveTo\", \"lineTo\", \"quadraticCurveTo\", \"bezierCurveTo\", \"closePath\"];\n                var paramCount = [2, 2, 4, 6, 0];\n                var i = 0, l = data.length;\n                var params;\n                var x = 0, y = 0;\n                var base64 = Shape.BASE_64;\n                while (i < l) {\n                    var c = data.charAt(i);\n                    var n = base64[c];\n                    var fi = n >> 3; // highest order bits 1-3 code for operation.\n                    var f = instructions[fi];\n                    // check that we have a valid instruction & that the unused bits are empty:\n                    if (!f || (n & 3)) {\n                        throw (\"bad path data (@\" + i + \"): \" + c);\n                    }\n                    var pl = paramCount[fi];\n                    if (!fi) {\n                        x = y = 0;\n                    } // move operations reset the position.\n                    params = [];\n                    i++;\n                    var charCount = (n >> 2 & 1) + 2; // 4th header bit indicates number size for this operation.\n                    for (var p = 0; p < pl; p++) {\n                        var num = base64[data.charAt(i)];\n                        var sign = (num >> 5) ? -1 : 1;\n                        num = ((num & 31) << 6) | (base64[data.charAt(i + 1)]);\n                        if (charCount == 3) {\n                            num = (num << 6) | (base64[data.charAt(i + 2)]);\n                        }\n                        num = sign * num / 10;\n                        if (p % 2) {\n                            x = (num += x);\n                        }\n                        else {\n                            y = (num += y);\n                        }\n                        params[p] = num;\n                        i += charCount;\n                    }\n                    s.addDraw(f, params);\n                }\n            };\n        }\n        /**\n         * 通过一系统参数获取生成颜色或渐变所需要的对象\n         * 一般给用户使用较少,Flash2x工具自动使用\n         * @method getGradientColor\n         * @static\n         * @param {string} colors\n         * @param {number}ratios\n         * @param {annie.Point} points\n         * @returns {any}\n         * @since 1.0.0\n         * @pubic\n         */\n        Shape.getGradientColor = function (colors, ratios, points) {\n            var colorObj;\n            var ctx = annie.DisplayObject[\"_canvas\"].getContext(\"2d\");\n            if (points.length == 4) {\n                colorObj = ctx.createLinearGradient(points[0], points[1], points[2], points[3]);\n            }\n            else {\n                colorObj = ctx.createRadialGradient(points[0], points[1], points[2], points[3], points[4], points[5]);\n            }\n            for (var i = 0, l = colors.length; i < l; i++) {\n                colorObj.addColorStop(ratios[i], colors[i]);\n            }\n            return colorObj;\n        };\n        /**\n         * 设置位图填充时需要使用的方法,一般给用户使用较少,Flash2x工具自动使用\n         * @method getBitmapStyle\n         * @static\n         * @param {Image} image HTML Image元素\n         * @returns {CanvasPattern}\n         * @public\n         * @since 1.0.0\n         */\n        Shape.getBitmapStyle = function (image) {\n            var ctx = annie.DisplayObject[\"_canvas\"].getContext(\"2d\");\n            return ctx.createPattern(image, \"repeat\");\n        };\n        /**\n         * 通过24位颜色值和一个透明度值生成RGBA值\n         * @method getRGBA\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {string} color 字符串的颜色值,如:#33ffee\n         * @param {number} alpha 0-1区间的一个数据 0完全透明 1完全不透明\n         * @returns {string}\n         */\n        Shape.getRGBA = function (color, alpha) {\n            if (color.indexOf(\"0x\") == 0) {\n                color = color.replace(\"0x\", \"#\");\n            }\n            if (color.length < 7) {\n                color = \"#000000\";\n            }\n            if (alpha != 1) {\n                var r = parseInt(\"0x\" + color.substr(1, 2));\n                var g = parseInt(\"0x\" + color.substr(3, 2));\n                var b = parseInt(\"0x\" + color.substr(5, 2));\n                color = \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + alpha + \")\";\n            }\n            return color;\n        };\n        /**\n         * 添加一条绘画指令,具体可以查阅Html Canvas画图方法\n         * @method addDraw\n         * @param {string} commandName ctx指令的方法名 如moveTo lineTo arcTo等\n         * @param {Array} params\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.addDraw = function (commandName, params) {\n            var s = this;\n            s._isNeedUpdate = true;\n            s._command.push([1, commandName, params]);\n        };\n        /**\n         * 画一个带圆角的矩形\n         * @method drawRoundRect\n         * @param {number} x 点x值\n         * @param {number} y 点y值\n         * @param {number} w 宽\n         * @param {number} h 高\n         * @param {number} rTL 左上圆角半径\n         * @param {number} rTR 右上圆角半径\n         * @param {number} rBL 左下圆角半径\n         * @param {number} rBR 右上圆角半径\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.drawRoundRect = function (x, y, w, h, rTL, rTR, rBL, rBR) {\n            if (rTL === void 0) { rTL = 0; }\n            if (rTR === void 0) { rTR = 0; }\n            if (rBL === void 0) { rBL = 0; }\n            if (rBR === void 0) { rBR = 0; }\n            //var ctx = DisplayObject._canvas.getContext(\"2d\");\n            var max = (w < h ? w : h) / 2;\n            var mTL = 0, mTR = 0, mBR = 0, mBL = 0;\n            if (rTL < 0) {\n                rTL *= (mTL = -1);\n            }\n            if (rTL > max) {\n                rTL = max;\n            }\n            if (rTR < 0) {\n                rTR *= (mTR = -1);\n            }\n            if (rTR > max) {\n                rTR = max;\n            }\n            if (rBR < 0) {\n                rBR *= (mBR = -1);\n            }\n            if (rBR > max) {\n                rBR = max;\n            }\n            if (rBL < 0) {\n                rBL *= (mBL = -1);\n            }\n            if (rBL > max) {\n                rBL = max;\n            }\n            var c = this._command;\n            c.push([1, \"moveTo\", [x + w - rTR, y]]);\n            c.push([1, \"arcTo\", [x + w + rTR * mTR, y - rTR * mTR, x + w, y + rTR, rTR]]);\n            c.push([1, \"lineTo\", [x + w, y + h - rBR]]);\n            c.push([1, \"arcTo\", [x + w + rBR * mBR, y + h + rBR * mBR, x + w - rBR, y + h, rBR]]);\n            c.push([1, \"lineTo\", [x + rBL, y + h]]);\n            c.push([1, \"arcTo\", [x - rBL * mBL, y + h + rBL * mBL, x, y + h - rBL, rBL]]);\n            c.push([1, \"lineTo\", [x, y + rTL]]);\n            c.push([1, \"arcTo\", [x - rTL * mTL, y - rTL * mTL, x + rTL, y, rTL]]);\n            c.push([1, \"closePath\", []]);\n        };\n        /**\n         * 绘画时移动到某一点\n         * @method moveTo\n         * @param {number} x\n         * @param {number} y\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.moveTo = function (x, y) {\n            this._command.push([1, \"moveTo\", [x, y]]);\n        };\n        /**\n         * 从上一点画到某一点,如果没有设置上一点，则上一占默认为(0,0)\n         * @method lineTo\n         * @param {number} x\n         * @param {number} y\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.lineTo = function (x, y) {\n            this._command.push([1, \"lineTo\", [x, y]]);\n        };\n        /**\n         * 从上一点画弧到某一点,如果没有设置上一点，则上一占默认为(0,0)\n         * @method arcTo\n         * @param {number} x\n         * @param {number} y\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.arcTo = function (x, y) {\n            this._command.push([1, \"arcTo\", [x, y]]);\n        };\n        /**\n         * 二次贝赛尔曲线\n         * 从上一点画二次贝赛尔曲线到某一点,如果没有设置上一点，则上一占默认为(0,0)\n         * @method quadraticCurveTo\n         * @param {number} cpX 控制点X\n         * @param {number} cpX 控制点Y\n         * @param {number} x 终点X\n         * @param {number} y 终点Y\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.quadraticCurveTo = function (cpX, cpY, x, y) {\n            this._command.push([1, \"quadraticCurveTo\", [cpX, cpY, x, y]]);\n        };\n        /**\n         * 三次贝赛尔曲线\n         * 从上一点画二次贝赛尔曲线到某一点,如果没有设置上一点，则上一占默认为(0,0)\n         * @method bezierCurveTo\n         * @param {number} cp1X 1控制点X\n         * @param {number} cp1Y 1控制点Y\n         * @param {number} cp2X 2控制点X\n         * @param {number} cp2Y 2控制点Y\n         * @param {number} x 终点X\n         * @param {number} y 终点Y\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.bezierCurveTo = function (cp1X, cp1Y, cp2X, cp2Y, x, y) {\n            this._command.push([1, \"bezierCurveTo\", [cp1X, cp1Y, cp2X, cp2Y, x, y]]);\n        };\n        /**\n         * 闭合一个绘画路径\n         * @method closePath\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.closePath = function () {\n            this._command.push([1, \"closePath\", []]);\n        };\n        /**\n         * 画一个矩形\n         * @method drawRect\n         * @param {number} x\n         * @param {number} y\n         * @param {number} w\n         * @param {number} h\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.drawRect = function (x, y, w, h) {\n            var c = this._command;\n            c.push([1, \"moveTo\", [x, y]]);\n            c.push([1, \"lineTo\", [x + w, y]]);\n            c.push([1, \"lineTo\", [x + w, y + h]]);\n            c.push([1, \"lineTo\", [x, y + h]]);\n            c.push([1, \"closePath\", []]);\n        };\n        /**\n         * 画一个弧形\n         * @method drawArc\n         * @param {number} x 起始点x\n         * @param {number} y 起始点y\n         * @param {number} radius 半径\n         * @param {number} start 开始角度\n         * @param {number} end 结束角度\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.drawArc = function (x, y, radius, start, end) {\n            this._command.push([1, \"arc\", [x, y, radius, start / 180 * Math.PI, end / 180 * Math.PI]]);\n        };\n        /**\n         * 画一个圆\n         * @method drawCircle\n         * @param {number} x 圆心x\n         * @param {number} y 圆心y\n         * @param {number} radius 半径\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.drawCircle = function (x, y, radius) {\n            this._command.push([1, \"arc\", [x, y, radius, 0, 2 * Math.PI]]);\n        };\n        /**\n         * 画一个椭圆\n         * @method drawEllipse\n         * @param {number} x\n         * @param {number} y\n         * @param {number} w\n         * @param {number} h\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.drawEllipse = function (x, y, w, h) {\n            var k = 0.5522848;\n            var ox = (w / 2) * k;\n            var oy = (h / 2) * k;\n            var xe = x + w;\n            var ye = y + h;\n            var xm = x + w / 2;\n            var ym = y + h / 2;\n            var c = this._command;\n            c.push([1, \"moveTo\", [x, ym]]);\n            c.push([1, \"bezierCurveTo\", [x, ym - oy, xm - ox, y, xm, y]]);\n            c.push([1, \"bezierCurveTo\", [xm + ox, y, xe, ym - oy, xe, ym]]);\n            c.push([1, \"bezierCurveTo\", [xe, ym + oy, xm + ox, ye, xm, ye]]);\n            c.push([1, \"bezierCurveTo\", [xm - ox, ye, x, ym + oy, x, ym]]);\n        };\n        /**\n         * 清除掉之前所有绘画的东西\n         * @method clear\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.clear = function () {\n            var s = this;\n            s._command = [];\n            s._isNeedUpdate = true;\n        };\n        /**\n         * 开始绘画填充,如果想画的东西有颜色填充,一定要从此方法开始\n         * @method beginFill\n         * @param {string} color 颜色值 单色和RGBA格式\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.beginFill = function (color) {\n            this._fill(color);\n        };\n        /**\n         * 线性渐变填充 一般给Flash2x用\n         * @method beginLinearGradientFill\n         * @param {Array} colors 一组颜色值\n         * @param {Array} ratios 一组范围比例值\n         * @param {Array} points 一组点\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.beginLinearGradientFill = function (colors, ratios, points) {\n            this._fill(Shape.getGradientColor(colors, ratios, points));\n        };\n        /**\n         * 位图填充 一般给Flash2x用\n         * @method beginBitmapFill\n         * @param {Image} image\n         * @param {annie.Matrix} matrix\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.beginBitmapFill = function (image, matrix) {\n            var s = this;\n            if (matrix) {\n                s._isBitmapFill = matrix;\n            }\n            s._fill(Shape.getBitmapStyle(image));\n        };\n        Shape.prototype._fill = function (fillStyle) {\n            var c = this._command;\n            c.push([0, \"fillStyle\", fillStyle]);\n            c.push([1, \"beginPath\", []]);\n            this._isNeedUpdate = true;\n        };\n        /**\n         * 给线条着色\n         * @method beginStroke\n         * @param {string} color\n         * @param {number} lineWidth\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.beginStroke = function (color, lineWidth) {\n            if (lineWidth === void 0) { lineWidth = 1; }\n            this._stroke(color, lineWidth);\n        };\n        /**\n         * 画线性渐变的线条 一般给Flash2x用\n         * @method beginLinearGradientStroke\n         * @param {Array} colors 一组颜色值\n         * @param {Array} ratios 一组范围比例值\n         * @param {Array} points 一组点\n         * @param {number} lineWidth\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.beginLinearGradientStroke = function (colors, ratios, points, lineWidth) {\n            if (lineWidth === void 0) { lineWidth = 1; }\n            this._stroke(Shape.getGradientColor(colors, ratios, points), lineWidth);\n        };\n        /**\n         * 线条位图填充 一般给Flash2x用\n         * @method beginBitmapStroke\n         * @param {Image} image\n         * @param {annie.Matrix} matrix\n         * @param {number} lineWidth\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.beginBitmapStroke = function (image, matrix, lineWidth) {\n            if (lineWidth === void 0) { lineWidth = 1; }\n            var s = this;\n            if (matrix) {\n                s._isBitmapStroke = matrix;\n            }\n            s._stroke(Shape.getBitmapStyle(image), lineWidth);\n        };\n        Shape.prototype._stroke = function (strokeStyle, width) {\n            var c = this._command;\n            c.push([0, \"lineWidth\", width]);\n            c.push([0, \"strokeStyle\", strokeStyle]);\n            c.push([1, \"beginPath\", []]);\n            this._isNeedUpdate = true;\n        };\n        /**\n         * 结束填充\n         * @method endFill\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.endFill = function () {\n            var s = this;\n            var c = s._command;\n            var m = s._isBitmapFill;\n            if (m) {\n                //c.push([1, \"save\", []]);\n                c.push([2, \"setTransform\", [m.a, m.b, m.c, m.d, m.tx, m.ty]]);\n            }\n            c.push([1, \"fill\", []]);\n            if (m) {\n                s._isBitmapFill = null;\n            }\n        };\n        /**\n         * 结束画线\n         * @method endStroke\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.endStroke = function () {\n            var s = this;\n            var c = s._command;\n            var m = s._isBitmapStroke;\n            if (m) {\n                //c.push([1, \"save\", []]);\n                //如果为2则还需要特别处理\n                c.push([2, \"setTransform\", [m.a, m.b, m.c, m.d, m.tx, m.ty]]);\n            }\n            c.push([1, \"stroke\", []]);\n            if (m) {\n                s._isBitmapStroke = null;\n            }\n        };\n        /**\n         * 重写渲染\n         * @method render\n         * @param {annie.IRender} renderObj\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.render = function (renderObj) {\n            var s = this;\n            if (s._cacheImg.src != \"\") {\n                renderObj.draw(s, 1);\n            }\n            //super.render();\n        };\n        /**\n         * 重写刷新\n         * @method update\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.update = function () {\n            var s = this;\n            _super.prototype.update.call(this);\n            if (s._isNeedUpdate) {\n                //更新缓存\n                var cLen = s._command.length;\n                var leftX;\n                var leftY;\n                var buttonRightX;\n                var buttonRightY;\n                var i;\n                if (cLen > 0) {\n                    //确定是否有数据,如果有数据的话就计算出缓存图的宽和高\n                    var data;\n                    var lastX = 0;\n                    var lastY = 0;\n                    var lineWidth = 0;\n                    for (i = 0; i < cLen; i++) {\n                        data = s._command[i];\n                        if (data[0] == 1) {\n                            if (data[1] == \"moveTo\" || data[1] == \"lineTo\" || data[1] == \"arcTo\" || data[1] == \"bezierCurveTo\") {\n                                if (leftX == undefined) {\n                                    leftX = data[2][0];\n                                }\n                                if (leftY == undefined) {\n                                    leftY = data[2][1];\n                                }\n                                if (buttonRightX == undefined) {\n                                    buttonRightX = data[2][0];\n                                }\n                                if (buttonRightY == undefined) {\n                                    buttonRightY = data[2][1];\n                                }\n                                if (data[1] == \"bezierCurveTo\") {\n                                    leftX = Math.min(leftX, data[2][0], data[2][2], data[2][4]);\n                                    leftY = Math.min(leftY, data[2][1], data[2][3], data[2][5]);\n                                    buttonRightX = Math.max(buttonRightX, data[2][0], data[2][2], data[2][4]);\n                                    buttonRightY = Math.max(buttonRightY, data[2][1], data[2][3], data[2][5]);\n                                    lastX = data[2][4];\n                                    lastY = data[2][5];\n                                }\n                                else {\n                                    leftX = Math.min(leftX, data[2][0]);\n                                    leftY = Math.min(leftY, data[2][1]);\n                                    buttonRightX = Math.max(buttonRightX, data[2][0]);\n                                    buttonRightY = Math.max(buttonRightY, data[2][1]);\n                                    lastX = data[2][0];\n                                    lastY = data[2][1];\n                                }\n                            }\n                            else if (data[1] == \"quadraticCurveTo\") {\n                                //求中点\n                                var mid1X = (lastX + data[2][0]) * 0.5;\n                                var mid1Y = (lastX + data[2][1]) * 0.5;\n                                var mid2X = (data[2][0] + data[2][2]) * 0.5;\n                                var mid2Y = (data[2][1] + data[2][3]) * 0.5;\n                                if (leftX == undefined) {\n                                    leftX = mid1X;\n                                }\n                                if (leftY == undefined) {\n                                    leftY = mid1Y;\n                                }\n                                if (buttonRightX == undefined) {\n                                    buttonRightX = mid1X;\n                                }\n                                if (buttonRightY == undefined) {\n                                    buttonRightY = mid1Y;\n                                }\n                                leftX = Math.min(leftX, mid1X, mid2X, data[2][2]);\n                                leftY = Math.min(leftY, mid1Y, mid2Y, data[2][3]);\n                                buttonRightX = Math.max(buttonRightX, mid1X, mid2X, data[2][2]);\n                                buttonRightY = Math.max(buttonRightY, mid1Y, mid2Y, data[2][3]);\n                                lastX = data[2][2];\n                                lastY = data[2][3];\n                            }\n                            else if (data[1] == \"arc\") {\n                                var yuanPointX = data[2][0];\n                                var yuanPointY = data[2][1];\n                                var radio = data[2][2];\n                                var yuanLeftX = yuanPointX - radio;\n                                var yuanLeftY = yuanPointY - radio;\n                                var yuanBRX = yuanPointX + radio;\n                                var yuanBRY = yuanPointY + radio;\n                                if (leftX == undefined) {\n                                    leftX = yuanLeftX;\n                                }\n                                if (leftY == undefined) {\n                                    leftY = yuanLeftY;\n                                }\n                                if (buttonRightX == undefined) {\n                                    buttonRightX = yuanBRX;\n                                }\n                                if (buttonRightY == undefined) {\n                                    buttonRightY = yuanBRY;\n                                }\n                                leftX = Math.min(leftX, yuanLeftX);\n                                leftY = Math.min(leftY, yuanLeftY);\n                                buttonRightX = Math.max(buttonRightX, yuanBRX);\n                                buttonRightY = Math.max(buttonRightY, yuanBRY);\n                            }\n                        }\n                        else {\n                            if (data[1] == \"lineWidth\") {\n                                if (lineWidth < data[2]) {\n                                    lineWidth = data[2];\n                                }\n                            }\n                        }\n                    }\n                    if (leftX != undefined) {\n                        leftX -= 20 + lineWidth >> 1;\n                        leftY -= 20 + lineWidth >> 1;\n                        buttonRightX += 20 + lineWidth >> 1;\n                        buttonRightY += 20 + lineWidth >> 1;\n                        var w = buttonRightX - leftX;\n                        var h = buttonRightY - leftY;\n                        s._cacheX = leftX;\n                        s._cacheY = leftY;\n                        ///////////////////////////\n                        var _canvas = s._cacheImg;\n                        _canvas.width = w;\n                        _canvas.height = h;\n                        _canvas.style.width = w / annie.devicePixelRatio + \"px\";\n                        _canvas.style.height = h / annie.devicePixelRatio + \"px\";\n                        var ctx = _canvas[\"getContext\"]('2d');\n                        ctx.clearRect(0, 0, w, h);\n                        ctx.setTransform(1, 0, 0, 1, -leftX, -leftY);\n                        /////////////////////\n                        if (s[\"cFilters\"] && s[\"cFilters\"].length > 0) {\n                            var cf = s.cFilters;\n                            var cfLen = cf.length;\n                            for (var i = 0; i < cfLen; i++) {\n                                if (s.cFilters[i].type == \"Shadow\") {\n                                    ctx.shadowBlur += cf[i].blur;\n                                    ctx.shadowColor += cf[i].color;\n                                    ctx.shadowOffsetX += cf[i].offsetX;\n                                    ctx.shadowOffsetY += cf[i].offsetY;\n                                    break;\n                                }\n                            }\n                        }\n                        else {\n                            ctx.shadowBlur = 0;\n                            ctx.shadowColor = \"#0\";\n                            ctx.shadowOffsetX = 0;\n                            ctx.shadowOffsetY = 0;\n                        }\n                        ////////////////////\n                        var data;\n                        for (i = 0; i < cLen; i++) {\n                            data = s._command[i];\n                            if (data[0] > 0) {\n                                var paramsLen = data[2].length;\n                                if (paramsLen == 0) {\n                                    ctx[data[1]]();\n                                }\n                                else if (paramsLen == 2) {\n                                    ctx[data[1]](data[2][0], data[2][1]);\n                                }\n                                else if (paramsLen == 4) {\n                                    ctx[data[1]](data[2][0], data[2][1], data[2][2], data[2][3]);\n                                }\n                                else if (paramsLen == 5) {\n                                    ctx[data[1]](data[2][0], data[2][1], data[2][2], data[2][3], data[2][4]);\n                                }\n                                else if (paramsLen == 6) {\n                                    if (data[0] == 2) {\n                                        //位图填充\n                                        data[2][4] -= leftX;\n                                        data[2][5] -= leftY;\n                                    }\n                                    ctx[data[1]](data[2][0], data[2][1], data[2][2], data[2][3], data[2][4], data[2][5]);\n                                }\n                            }\n                            else {\n                                ctx[data[1]] = data[2];\n                            }\n                        }\n                        ///////////////////////////\n                        //滤镜\n                        if (s[\"cFilters\"] && s[\"cFilters\"].length > 0) {\n                            var len = s[\"cFilters\"].length;\n                            var imageData = ctx.getImageData(0, 0, w, h);\n                            for (var i = 0; i < len; i++) {\n                                var f = s[\"cFilters\"][i];\n                                f.drawFilter(imageData);\n                            }\n                            ctx.putImageData(imageData, 0, 0);\n                        }\n                    }\n                    else {\n                        s._cacheImg.width = 0;\n                        s._cacheImg.height = 0;\n                        s._cacheX = 0;\n                        s._cacheY = 0;\n                    }\n                }\n                else {\n                    s._cacheImg.width = 0;\n                    s._cacheImg.height = 0;\n                    s._cacheX = 0;\n                    s._cacheY = 0;\n                }\n                s._isNeedUpdate = false;\n                annie.WGRender.setDisplayInfo(s, 1);\n            }\n        };\n        /*private _drawPath(){\n            var s=this;\n            var leftX:number=s._cacheX,leftY:number=s._cacheY,w:number=s._cacheW,h:number=s._cacheH;\n            var _canvas = DisplayObject._canvas;\n            _canvas.width = w;\n            _canvas.height = h;\n            var ctx = _canvas[\"getContext\"]('2d');\n            ctx.setTransform(1, 0, 0, 1, -leftX, -leftY);\n            ctx.clearRect(leftX, leftY, w + 1, h + 1);\n            var data;\n            var cLen:number=s._command.length;\n            for (var i = 0; i < cLen; i++) {\n                data = s._command[i];\n                if (data[0]>0) {\n                    var paramsLen = data[2].length;\n                    if (paramsLen == 0) {\n                        ctx[data[1]]();\n                    } else if (paramsLen == 2) {\n                        ctx[data[1]](data[2][0], data[2][1]);\n                    } else if (paramsLen == 4) {\n                        ctx[data[1]](data[2][0], data[2][1], data[2][2], data[2][3]);\n                    }else if(paramsLen==5){\n                        ctx[data[1]](data[2][0], data[2][1], data[2][2], data[2][3], data[2][4]);\n                    }else if(paramsLen==6){\n                        if(data[0]==2){\n                            //位图填充\n                            data[2][4]-=leftX;\n                            data[2][5]-=leftY;\n                        }\n                        ctx[data[1]](data[2][0], data[2][1], data[2][2], data[2][3], data[2][4], data[2][5]);\n                    }\n                }else {\n                    ctx[data[1]] = data[2];\n                }\n            }\n        }*/\n        /**\n         * 重写getBounds\n         * @method getBounds\n         * @public\n         * @since 1.0.0\n         * @returns {annie.Rectangle}\n         */\n        Shape.prototype.getBounds = function () {\n            var s = this;\n            var r = new annie.Rectangle();\n            if (s._cacheImg) {\n                r.x = s._cacheX + 20;\n                r.y = s._cacheY + 20;\n                r.width = s._cacheImg.width - 20;\n                r.height = s._cacheImg.height - 20;\n            }\n            return r;\n        };\n        /**\n         * 重写hitTestPoint\n         * @method  hitTestPoint\n         * @param {annie.Point} globalPoint\n         * @param {boolean} isMouseEvent\n         * @returns {any}\n         * @public\n         * @since 1.0.0\n         */\n        Shape.prototype.hitTestPoint = function (globalPoint, isMouseEvent) {\n            if (isMouseEvent === void 0) { isMouseEvent = false; }\n            var s = this;\n            if (isMouseEvent && !s.mouseEnable)\n                return null;\n            //如果都不在缓存范围内,那就更不在矢量范围内了;如果在则继续看\n            var p = s.globalToLocal(globalPoint, annie.DisplayObject._bp);\n            if (s.getBounds().isPointIn(p)) {\n                if (!s.hitPixel) {\n                    return s;\n                }\n                //继续检测\n                var _canvas = annie.DisplayObject[\"_canvas\"];\n                _canvas.width = 1;\n                _canvas.height = 1;\n                var ctx = _canvas[\"getContext\"]('2d');\n                ctx.clearRect(0, 0, 1, 1);\n                ctx.setTransform(1, 0, 0, 1, s._cacheX - p.x, s._cacheY - p.y);\n                ctx.drawImage(s._cacheImg, 0, 0);\n                if (ctx.getImageData(0, 0, 1, 1).data[3] > 0) {\n                    return s;\n                }\n                ;\n            }\n            return null;\n        };\n        /**\n         * 如果有的话,改变矢量对象的边框或者填充的颜色.\n         * @method changeColor\n         * @param {Object} infoObj\n         * @param {string} infoObj.fillColor 填充颜色值，如\"#fff\" 或者 \"rgba(255,255,255,1)\";\n         * @param {string} infoObj.strokeColor 线条颜色值，如\"#fff\" 或者 \"rgba(255,255,255,1)\";\n         * @param {number} infoObj.lineWidth 线条的粗细，如\"1,2,3...\";\n         * @public\n         * @since 1.0.2\n         */\n        Shape.prototype.changeColor = function (infoObj) {\n            var s = this;\n            var cLen = s._command.length;\n            var c = s._command;\n            for (var i = 0; i < cLen; i++) {\n                if (c[i][0] == 0) {\n                    if (c[i][1] == \"fillStyle\" && infoObj.fillColor && c[i][2] != infoObj.fillColor) {\n                        c[i][2] = infoObj.fillColor;\n                        s._isNeedUpdate = true;\n                    }\n                    if (c[i][1] == \"strokeStyle\" && infoObj.strokeColor && c[i][2] != infoObj.strokeColor) {\n                        c[i][2] = infoObj.strokeColor;\n                        s._isNeedUpdate = true;\n                    }\n                    if (c[i][1] == \"lineWidth\" && infoObj.lineWidth && c[i][2] != infoObj.lineWidth) {\n                        c[i][2] = infoObj.lineWidth;\n                        s._isNeedUpdate = true;\n                    }\n                }\n            }\n        };\n        Shape.BASE_64 = {\n            \"A\": 0,\n            \"B\": 1,\n            \"C\": 2,\n            \"D\": 3,\n            \"E\": 4,\n            \"F\": 5,\n            \"G\": 6,\n            \"H\": 7,\n            \"I\": 8,\n            \"J\": 9,\n            \"K\": 10,\n            \"L\": 11,\n            \"M\": 12,\n            \"N\": 13,\n            \"O\": 14,\n            \"P\": 15,\n            \"Q\": 16,\n            \"R\": 17,\n            \"S\": 18,\n            \"T\": 19,\n            \"U\": 20,\n            \"V\": 21,\n            \"W\": 22,\n            \"X\": 23,\n            \"Y\": 24,\n            \"Z\": 25,\n            \"a\": 26,\n            \"b\": 27,\n            \"c\": 28,\n            \"d\": 29,\n            \"e\": 30,\n            \"f\": 31,\n            \"g\": 32,\n            \"h\": 33,\n            \"i\": 34,\n            \"j\": 35,\n            \"k\": 36,\n            \"l\": 37,\n            \"m\": 38,\n            \"n\": 39,\n            \"o\": 40,\n            \"p\": 41,\n            \"q\": 42,\n            \"r\": 43,\n            \"s\": 44,\n            \"t\": 45,\n            \"u\": 46,\n            \"v\": 47,\n            \"w\": 48,\n            \"x\": 49,\n            \"y\": 50,\n            \"z\": 51,\n            \"0\": 52,\n            \"1\": 53,\n            \"2\": 54,\n            \"3\": 55,\n            \"4\": 56,\n            \"5\": 57,\n            \"6\": 58,\n            \"7\": 59,\n            \"8\": 60,\n            \"9\": 61,\n            \"+\": 62,\n            \"/\": 63\n        };\n        return Shape;\n    }(annie.DisplayObject));\n    annie.Shape = Shape;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 显示对象的容器类,可以将其他显示对象放入其中,是annie引擎的核心容器类.\n     * Sprite 类是基本显示列表构造块：一个可显示图形并且也可包含子项的显示列表节点。\n     * Sprite 对象与影片剪辑类似，但没有时间轴。Sprite 是不需要时间轴的对象的相应基类。\n     * 例如，Sprite 将是通常不使用时间轴的用户界面 (UI) 组件的逻辑基类\n     * @class annie.Sprite\n     * @extends annie.DisplayObject\n     * @public\n     * @since 1.0.0\n     */\n    var Sprite = (function (_super) {\n        __extends(Sprite, _super);\n        function Sprite() {\n            _super.call(this);\n            /**\n             * 是否可以让children接收鼠标事件\n             * @property mouseChildren\n             * @type {boolean}\n             * @default true\n             * @public\n             * @since 1.0.0\n             */\n            this.mouseChildren = true;\n            /**\n             * 显示对象的child列表\n             * @property children\n             * @type {Array}\n             * @public\n             * @since 1.0.0\n             * @default []\n             * @readonly\n             */\n            this.children = [];\n        }\n        /**\n         * 添加一个显示对象到Sprite\n         * @method addChild\n         * @param {annie.DisplayObject} child\n         * @public\n         * @since 1.0.0\n         */\n        Sprite.prototype.addChild = function (child) {\n            this.addChildAt(child, this.children.length);\n        };\n        /**\n         * 从Sprite中移除一个child\n         * @method removeChild\n         * @public\n         * @since 1.0.0\n         * @param {annie.DisplayObject} child\n         */\n        Sprite.prototype.removeChild = function (child) {\n            var s = this;\n            var len = s.children.length;\n            for (var i = 0; i < len; i++) {\n                if (s.children[i] == child) {\n                    s.removeChildAt(i);\n                    break;\n                }\n            }\n        };\n        //全局遍历\n        Sprite._getElementsByName = function (rex, root, isOnlyOne, isRecursive, resultList) {\n            var len = root.children.length;\n            if (len > 0) {\n                var name;\n                var child;\n                for (var i = 0; i < len; i++) {\n                    child = root.children[i];\n                    name = child.name;\n                    if (name && name != \"\") {\n                        if (rex.test(name)) {\n                            resultList.push(child);\n                            if (isOnlyOne) {\n                                return;\n                            }\n                        }\n                    }\n                    if (isRecursive) {\n                        if (child[\"children\"] != null) {\n                            Sprite._getElementsByName(rex, child, isOnlyOne, isRecursive, resultList);\n                        }\n                    }\n                }\n            }\n        };\n        /**\n         * 通过给displayObject设置的名字来获取一个child,可以使用正则匹配查找\n         * @method getChildByName\n         * @param {string} name 对象的具体名字或是一个正则表达式\n         * @param {boolean} isOnlyOne 默认为true,如果为true,只返回最先找到的对象,如果为false则会找到所有匹配的对象数组\n         * @param {boolean} isRecursive false,如果为true,则会递归查找下去,而不只是查找当前对象中的child,child里的child也会找,依此类推\n         * @returns {any} 返回一个对象,或者一个对象数组,没有找到则返回空\n         * @public\n         * @since 1.0.0\n         */\n        Sprite.prototype.getChildByName = function (name, isOnlyOne, isRecursive) {\n            if (isOnlyOne === void 0) { isOnlyOne = true; }\n            if (isRecursive === void 0) { isRecursive = false; }\n            if (!name)\n                return null;\n            var s = this;\n            var rex;\n            if (typeof (name) == \"string\") {\n                rex = new RegExp(\"^\" + name + \"$\");\n            }\n            else {\n                rex = name;\n            }\n            var elements = [];\n            Sprite._getElementsByName(rex, s, isOnlyOne, isRecursive, elements);\n            var len = elements.length;\n            if (len == 0) {\n                return null;\n            }\n            else if (len == 1) {\n                return elements[0];\n            }\n            else {\n                return elements;\n            }\n        };\n        /**\n         * 添加一个child到Sprite中并指定添加到哪个层级\n         * @method addChildAt\n         * @param {annie.DisplayObject} child\n         * @param {number} index 从0开始\n         * @pubic\n         * @since 1.0.0\n         */\n        Sprite.prototype.addChildAt = function (child, index) {\n            var s = this;\n            var sameParent = s == child.parent;\n            var len;\n            if (child.parent) {\n                if (!sameParent) {\n                    child.parent.removeChild(child);\n                }\n                else {\n                    len = s.children.length;\n                    for (var i = 0; i < len; i++) {\n                        if (s.children[i] == child) {\n                            s.children.splice(i, 1);\n                            break;\n                        }\n                    }\n                }\n            }\n            child.parent = s;\n            len = s.children.length;\n            if (index >= len) {\n                s.children.push(child);\n            }\n            else if (index == 0) {\n                s.children.unshift(child);\n            }\n            else {\n                s.children.splice(index, 0, child);\n            }\n            if (s.stage && !sameParent) {\n                child._onDispatchBubbledEvent(\"onAddToStage\");\n            }\n        };\n        /**\n         * 获取Sprite中指定层级一个child\n         * @method getChildAt\n         * @param {number} index 从0开始\n         * @pubic\n         * @since 1.0.0\n         * @return {annie.DisplayObject}\n         */\n        Sprite.prototype.getChildAt = function (index) {\n            if ((this.children.length - 1) >= index) {\n                return this.children[index];\n            }\n            else {\n                return null;\n            }\n        };\n        /**\n         * 获取Sprite中一个child所在的层级索引，找到则返回索引数，未找到则返回-1\n         * @method getChildIndex\n         * @param {annie.DisplayObject} child 子对象\n         * @pubic\n         * @since 1.0.2\n         * @return {number}\n         */\n        Sprite.prototype.getChildIndex = function (child) {\n            var len = this.children.length;\n            for (var i = 0; i < len; i++) {\n                if (this.children[i] == child) {\n                    return i;\n                }\n            }\n            return -1;\n        };\n        /**\n         * 调用此方法对Sprite及其child触发一次指定事件\n         * @method _onDispatchBubbledEvent\n         * @private\n         * @param {string} type\n         * @since 1.0.0\n         */\n        Sprite.prototype._onDispatchBubbledEvent = function (type) {\n            var s = this;\n            var len = s.children.length;\n            s.stage = s.parent.stage;\n            for (var i = 0; i < len; i++) {\n                s.children[i]._onDispatchBubbledEvent(type);\n            }\n            _super.prototype._onDispatchBubbledEvent.call(this, type);\n        };\n        /**\n         * 移除指定层级上的孩子\n         * @method removeChildAt\n         * @param {number} index 从0开始\n         * @public\n         * @since 1.0.0\n         */\n        Sprite.prototype.removeChildAt = function (index) {\n            var s = this;\n            var child;\n            var len = s.children.length;\n            if (len == 0)\n                return;\n            if (index == len) {\n                child = s.children.pop();\n            }\n            else if (index == 0) {\n                child = s.children.shift();\n            }\n            else {\n                child = s.children.splice(index, 1)[0];\n            }\n            child._onDispatchBubbledEvent(\"onRemoveToStage\");\n            child.parent = null;\n        };\n        /**\n         * 移除Sprite上的所有child\n         * @method removeAllChildren\n         * @public\n         * @since 1.0.0\n         */\n        Sprite.prototype.removeAllChildren = function () {\n            var s = this;\n            var len = s.children.length;\n            for (var i = len - 1; i >= 0; i--) {\n                s.removeChildAt(i);\n            }\n        };\n        /**\n         * 重写刷新\n         * @method update\n         * @public\n         * @since 1.0.0\n         */\n        Sprite.prototype.update = function () {\n            var s = this;\n            _super.prototype.update.call(this);\n            var len = s.children.length;\n            var child;\n            for (var i = len - 1; i >= 0; i--) {\n                child = s.children[i];\n                //因为悬浮的html元素要时时更新来检查他的visible属性\n                child.update();\n            }\n        };\n        /**\n         * 重写碰撞测试\n         * @method hitTestPoint\n         * @param {annie.Point} globalPoint\n         * @param {boolean} isMouseEvent\n         * @returns {any}\n         * @public\n         * @since 1.0.0\n         */\n        Sprite.prototype.hitTestPoint = function (globalPoint, isMouseEvent) {\n            if (isMouseEvent === void 0) { isMouseEvent = false; }\n            var s = this;\n            if (!s.visible)\n                return null;\n            if (isMouseEvent && !s.mouseEnable)\n                return null;\n            var len = s.children.length;\n            var hitDisplayObject;\n            var child;\n            //这里特别注意是从上往下遍历\n            for (var i = len - 1; i >= 0; i--) {\n                //TODO 这里要考虑遮罩\n                child = s.children[i];\n                if (child.mask) {\n                    //看看点是否在遮罩内\n                    if (!child.mask.hitTestPoint(globalPoint, isMouseEvent)) {\n                        //如果都不在遮罩里面,那还检测什么直接检测下一个\n                        continue;\n                    }\n                }\n                hitDisplayObject = child.hitTestPoint(globalPoint, isMouseEvent);\n                if (hitDisplayObject) {\n                    return hitDisplayObject;\n                }\n            }\n            return null;\n        };\n        /**\n         * 重写getBounds\n         * @method getBounds\n         * @returns {any}\n         * @since 1.0.0\n         * @public\n         */\n        Sprite.prototype.getBounds = function () {\n            var s = this;\n            var len = s.children.length;\n            if (len == 0) {\n                return null;\n            }\n            var rect = s.children[0].getDrawRect();\n            for (var i = 1; i < len; i++) {\n                rect = annie.Rectangle.createFromRects(rect, s.children[i].getDrawRect());\n            }\n            return rect;\n        };\n        /**\n         * 重写渲染\n         * @method render\n         * @param {annie.IRender} renderObj\n         * @public\n         * @since 1.0.0\n         */\n        Sprite.prototype.render = function (renderObj) {\n            var s = this;\n            var maskObj;\n            var maskObjIds = [];\n            var child;\n            var len = s.children.length;\n            for (var i = 0; i < len; i++) {\n                child = s.children[i];\n                if (child.cAlpha > 0 && child.visible) {\n                    if (maskObj) {\n                        if (child.mask) {\n                            if (child.mask != maskObj) {\n                                renderObj.endMask();\n                                maskObj = child.mask;\n                                var mId = maskObj.getInstanceId();\n                                //就是检测遮罩是否被更新过。因为动画遮罩反复更新的话他会播放同一次渲染要确定只能更新一回。\n                                if (maskObjIds.indexOf(mId) < 0) {\n                                    maskObj.parent = s;\n                                    maskObj.stage = s.stage;\n                                    if (s.totalFrames && maskObj.totalFrames) {\n                                        maskObj.gotoAndStop(s.currentFrame);\n                                    }\n                                    maskObj.update();\n                                    maskObjIds.push(mId);\n                                }\n                                renderObj.beginMask(maskObj);\n                            }\n                        }\n                        else {\n                            renderObj.endMask();\n                            maskObj = null;\n                        }\n                    }\n                    else {\n                        if (child.mask) {\n                            maskObj = child.mask;\n                            var mId = maskObj.getInstanceId();\n                            if (maskObjIds.indexOf(mId) < 0) {\n                                maskObj.parent = s;\n                                maskObj.stage = s.stage;\n                                if (s.totalFrames && maskObj.totalFrames) {\n                                    maskObj.gotoAndStop(s.currentFrame);\n                                }\n                                maskObj.update();\n                                maskObjIds.push(mId);\n                            }\n                            renderObj.beginMask(maskObj);\n                        }\n                    }\n                    child.render(renderObj);\n                }\n            }\n            if (maskObj) {\n                renderObj.endMask();\n            }\n        };\n        return Sprite;\n    }(annie.DisplayObject));\n    annie.Sprite = Sprite;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 抽象类 一般不直接使用\n     * @class annie.Media\n     * @extends annie.AObject\n     * @public\n     * @since 1.0.0\n     */\n    var Media = (function (_super) {\n        __extends(Media, _super);\n        /**\n         * 构造函数\n         * @method Media\n         * @param {string|HtmlElement} src\n         * @param {string} type\n         * @since 1.0.0\n         */\n        function Media(src, type) {\n            _super.call(this);\n            /**\n             * html 标签 有可能是audio 或者 video\n             * @property media\n             * @type {Video|Audio}\n             * @public\n             * @since 1.0.0\n             */\n            this.media = null;\n            /**\n             * 媒体类型 VIDEO 或者 AUDIO\n             * @type {string}\n             * @since 1.0.0\n             * @since 1.0.0\n             */\n            this.type = \"\";\n            this._loop = 0;\n            var s = this;\n            if (typeof (src) == \"string\") {\n                s.media = document.createElement(type);\n                s.media.src = src;\n            }\n            else {\n                s.media = src;\n            }\n            s._SBWeixin = s._weixinSB.bind(s);\n            s.media.addEventListener('ended', function () {\n                s._loop--;\n                if (s._loop > 0) {\n                    s.play(0, s._loop);\n                }\n                else {\n                    s.media.pause();\n                }\n                s.dispatchEvent(\"onPlayEnd\");\n            }.bind(s), false);\n            s.type = type.toLocaleUpperCase();\n            s.media.addEventListener(\"timeupdate\", function () {\n                s.dispatchEvent(\"onPlayUpdate\", { currentTime: s.media.currentTime });\n            }, false);\n        }\n        /**\n         * 开始播放媒体\n         * @method play\n         * @param {number} start 开始点 默认为0\n         * @param {number} loop 循环次数\n         * @public\n         * @since 1.0.0\n         */\n        Media.prototype.play = function (start, loop) {\n            var s = this;\n            s._loop = loop;\n            //TODO 好像设置了也没什么用，后期再看看\n            try {\n                s.media.currentTime = start;\n            }\n            catch (e) {\n                trace(e);\n            }\n            //马蛋的有些ios微信无法自动播放,需要做一些特殊处理\n            try {\n                WeixinJSBridge.invoke(\"getNetworkType\", {}, s._SBWeixin);\n            }\n            catch (e) {\n                s.media.play();\n            }\n        };\n        Media.prototype._weixinSB = function () {\n            this.media.play();\n        };\n        /**\n         * 停止播放\n         * @method stop\n         * @public\n         * @since 1.0.0\n         */\n        Media.prototype.stop = function () {\n            this.media.pause();\n            this.media.currentTime = 0;\n        };\n        /**\n         * 暂停播放\n         * @method pause\n         * @public\n         * @since 1.0.0\n         */\n        Media.prototype.pause = function () {\n            this.media.pause();\n        };\n        return Media;\n    }(annie.EventDispatcher));\n    annie.Media = Media;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 声音类\n     * @class annie.Sound\n     * @extends annie.Media\n     * @public\n     * @since 1.0.0\n     */\n    var Sound = (function (_super) {\n        __extends(Sound, _super);\n        function Sound(src) {\n            _super.call(this, src, \"Audio\");\n        }\n        return Sound;\n    }(annie.Media));\n    annie.Sound = Sound;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 视频类\n     * @class annie.Video\n     * @extends annie.Media\n     * @public\n     * @since 1.0.0\n     */\n    var Video = (function (_super) {\n        __extends(Video, _super);\n        function Video(src, width, height) {\n            _super.call(this, src, \"Video\");\n            var s = this;\n            s.media.setAttribute(\"webkit-playsinline\", \"true\");\n            s.media.setAttribute(\"x-webkit-airplay\", \"true\");\n            s.media.width = width;\n            s.media.height = height;\n        }\n        return Video;\n    }(annie.Media));\n    annie.Video = Video;\n})(annie || (annie = {}));\n/**\n * Created by anlun on 16/8/8.\n */\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 将img序列的内容画到canvas里\n     * @class annie.ImageFrames\n     * @extends annie.Bitmap\n     * @public\n     * @since 1.0.0\n     */\n    var ImageFrames = (function (_super) {\n        __extends(ImageFrames, _super);\n        /**\n         * 被始化一个序列图视频\n         * @method ImageFrames 构架函数\n         * @param src\n         * @param width\n         * @param height\n         * @since 1.0.0\n         */\n        function ImageFrames(src, width, height) {\n            _super.call(this);\n            /**\n             * img文件所在的文件夹路径\n             * @property src\n             * @type {string}\n             * @public\n             * @since 1.0.0\n             */\n            this.src = \"\";\n            this._lastSrc = \"\";\n            /**\n             * 当前播放到序列的哪一帧\n             * @property currentFrame\n             * @public\n             * @since 1.0.0\n             * @type{number}\n             * @default 0\n             */\n            this.currentFrame = 0;\n            /**\n             * 当前播放的序列所在的spriteSheet大图引用\n             * @property currentBitmap\n             * @since 1.0.0\n             * @public\n             * @default null\n             * @type {number}\n             */\n            this.currentBitmap = null;\n            /**\n             * 序列的总帧数\n             * @property totalsFrame\n             * @since 1.0.0\n             * @public\n             * @type{number}\n             * @default 1;\n             */\n            this.totalsFrame = 1;\n            /**\n             * 当前帧所在的spriteSheet里的位置区域\n             * @property rect\n             * @public\n             * @since 1.0.0\n             * @type {annie.Rectangle}\n             */\n            this.rect = null;\n            /**\n             * 是否循环播放\n             * @property loop\n             * @public\n             * @since 1.0.0\n             * @type {boolean}\n             */\n            this.loop = false;\n            this._isLoaded = false;\n            /**\n             * 是否能播放状态\n             * @type {boolean}\n             */\n            this.canPlay = false;\n            /**\n             * 是否在播放中\n             * @property isPlaying\n             * @type {boolean}\n             * @public\n             * @since 1.0.0\n             */\n            this.isPlaying = true;\n            /**\n             * 是否在自动播放\n             * @property autoplay\n             * @type {boolean}\n             * @public\n             * @since 1.0.0\n             */\n            this.autoplay = false;\n            var s = this;\n            s.src = src;\n            s.rect = new annie.Rectangle(0, 0, width, height);\n            s.list = [];\n            s._urlLoader = new annie.URLLoader();\n            s._urlLoader.addEventListener(annie.Event.COMPLETE, s.success.bind(s));\n        }\n        /**\n         * 资源加载成功\n         * @private\n         * @since 1.0.0\n         * @param e\n         */\n        ImageFrames.prototype.success = function (e) {\n            var s = this;\n            if (e.data.type == \"json\") {\n                //加载到了配置文件\n                s._configInfo = {};\n                for (var item in e.data.response) {\n                    s._configInfo[item] = e.data.response[item];\n                }\n                s._startTime = Date.now();\n                s._urlLoader.responseType = \"image\";\n                s.loadImage();\n            }\n            else {\n                //加载到了图片\n                s.list.push(e.data.response);\n                s._currentLoadIndex = s.list.length;\n                if (s._currentLoadIndex == s._configInfo.totalsPage) {\n                    //加载结束,抛出结束事件\n                    if (!s.canPlay) {\n                        s.canPlay = true;\n                    }\n                    s._isLoaded = true;\n                    s.dispatchEvent(\"onload\");\n                }\n                else {\n                    s.loadImage();\n                    var bufferFrame = s._currentLoadIndex * s._configInfo.pageCount;\n                    if (bufferFrame >= 30) {\n                        if (bufferFrame == 30) {\n                            //判断网速\n                            var _endTime = Date.now();\n                            var time = _endTime - s._startTime;\n                            if (time < 500) {\n                                s._needBufferFrame = 30;\n                            }\n                            else if (time < 1000) {\n                                s._needBufferFrame = 60;\n                            }\n                            else if (time < 1500) {\n                                s._needBufferFrame = 90;\n                            }\n                            else if (time < 2000) {\n                                s._needBufferFrame = 120;\n                            }\n                            else if (time < 2500) {\n                                s._needBufferFrame = 150;\n                            }\n                            else {\n                                s._needBufferFrame = 180;\n                            }\n                        }\n                        if (bufferFrame >= s._needBufferFrame && !s.canPlay) {\n                            s.canPlay = true;\n                            s.dispatchEvent(\"oncanplay\");\n                        }\n                    }\n                }\n            }\n        };\n        /**\n         * 如果需要单独使用ImageFrames的话,你需要时间调用update来刷新视频的播放进度,使用VideoPlayer的类将无需考虑\n         * @method update\n         * @since 1.0.0\n         * @public\n         */\n        ImageFrames.prototype.update = function () {\n            var s = this;\n            if (s.canPlay && s.autoplay) {\n                if (s.currentFrame == s._configInfo.totalsFrame) {\n                    //播放结束事件\n                    s.currentFrame = 0;\n                    if (!s.loop) {\n                        s.autoplay = false;\n                        s.isPlaying = false;\n                    }\n                    s.dispatchEvent(\"onPlayEnd\");\n                }\n                else {\n                    if (s.currentFrame < (s._currentLoadIndex * s._configInfo.pageCount - 1) || s._isLoaded) {\n                        //////////////////////////////渲染//////////////////////////////////\n                        var pageIndex = Math.floor(s.currentFrame / s._configInfo.pageCount);\n                        var rowIndex = s.currentFrame % s._configInfo.pageCount;\n                        var x = Math.floor(rowIndex / s._configInfo.rowCount);\n                        var y = rowIndex % s._configInfo.rowCount;\n                        s.rect.x = y * (s._configInfo.dis + s._configInfo.width) + s._configInfo.dis;\n                        s.rect.y = x * (s._configInfo.dis + s._configInfo.height) + s._configInfo.dis;\n                        s.rect.width = s._configInfo.width;\n                        s.rect.height = s._configInfo.height;\n                        s.currentBitmap = s.list[pageIndex];\n                        s.currentFrame++;\n                        if (!s.isPlaying) {\n                            s.isPlaying = true;\n                        }\n                    }\n                    else {\n                        s.canPlay = false;\n                        s.isPlaying = false;\n                    }\n                }\n                s.dispatchEvent(\"onPlayUpdate\", { currentTime: s._currentLoadIndex });\n            }\n            s.checkChange();\n        };\n        ImageFrames.prototype.checkChange = function () {\n            var s = this;\n            if (s._lastSrc != s.src) {\n                //开始初始化\n                if (s.src != \"\") {\n                    //加载配置文件\n                    s._urlLoader.responseType = \"json\";\n                    s._urlLoader.load(s.src + \"/config.json\");\n                    s.canPlay = false;\n                    s._currentLoadIndex = 0;\n                    s.currentFrame = 0;\n                    s._needBufferFrame = 1000;\n                    s._isLoaded = false;\n                    s._lastSrc = s.src;\n                }\n                else {\n                    s.clear();\n                }\n            }\n        };\n        ImageFrames.prototype.loadImage = function () {\n            var s = this;\n            s._urlLoader.load(s.src + \"/\" + s._configInfo.name + s._currentLoadIndex + s._configInfo.type);\n        };\n        /**\n         * 播放视频,如果autoplay为true则会加载好后自动播放\n         * @method play\n         * @public\n         * @since 1.0.0\n         */\n        ImageFrames.prototype.play = function () {\n            this.autoplay = true;\n        };\n        /**\n         * 停止播放,如果需要继续播放请再次调用play()方法\n         * @method pause\n         * @public\n         * @since 1.0.0\n         */\n        ImageFrames.prototype.pause = function () {\n            this.autoplay = false;\n        };\n        /**\n         *如果播放了视频后不已不再需要的话,这个时候可以调用这个方法进行资源清理,以方便垃圾回收。\n         * 调用此方法后,此对象一样可以再次设置src重新使用。或者直接进行src的更换,系统会自动调用此方法以清除先前的序列在内存的资源\n         * @method clear\n         * @public\n         * @since 1.0.0\n         */\n        ImageFrames.prototype.clear = function () {\n            var s = this;\n            s._urlLoader.loadCancel();\n            s.list = [];\n            s.src = \"\";\n            s._lastSrc = \"\";\n        };\n        return ImageFrames;\n    }(annie.EventDispatcher));\n    annie.ImageFrames = ImageFrames;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    var McFrame = (function () {\n        function McFrame() {\n            var s = this;\n            s.frameChildList = new Array();\n            s.keyIndex = 0;\n            s.eventName = \"\";\n            s.soundName = \"\";\n            s.soundScene = \"\";\n            s.soundTimes = 1;\n        }\n        McFrame.prototype.setDisplayInfo = function (display, displayBaseInfo, displayExtendInfo) {\n            if (displayBaseInfo === void 0) { displayBaseInfo = null; }\n            if (displayExtendInfo === void 0) { displayExtendInfo = null; }\n            var s = this;\n            var info = {\n                display: display,\n                x: 0,\n                y: 0,\n                scaleX: 1,\n                scaleY: 1,\n                rotation: 0,\n                skewX: 0,\n                skewY: 0,\n                alpha: 1\n            };\n            annie.RESManager.d(info, displayBaseInfo, displayExtendInfo);\n            s.frameChildList.push(info);\n        };\n        McFrame.prototype.setGraphicInfo = function (loopType, firstFrame, parentFrameIndex) {\n            var s = this;\n            var lastIndex = s.frameChildList.length - 1;\n            s.frameChildList[lastIndex].graphicInfo = {\n                loopType: loopType,\n                firstFrame: firstFrame,\n                parentFrameIndex: parentFrameIndex\n            };\n        };\n        return McFrame;\n    }());\n    /**\n     * annie引擎核心类\n     * @class annie.MovieClip\n     * @since 1.0.0\n     * @public\n     * @extends annie.Sprite\n     */\n    var MovieClip = (function (_super) {\n        __extends(MovieClip, _super);\n        //private _isOnStage:boolean=false;\n        function MovieClip() {\n            _super.call(this);\n            /**\n             * 时间轴 一般给Flash2x工具使用\n             * @property _timeline\n             * @private\n             * @since 1.0.0\n             * @type {Array}\n             */\n            this._timeline = [];\n            /**\n             * 有些时候我们需要在一个时间轴动画类中添加子元素\n             * 在默认情况下，MovieClip只有在停止播放的情况下\n             * 使用addChild等方法添加到mc中的子级对象是可见的\n             * 为了能够在动画播放期间的任意时刻都能使添加的对象可见\n             * 我们给MovieClip添加了一个特殊的子级容器对象，你只需要将你的显示\n             * 对象添加到这个特殊的容器对象中，就能在整个动画期间，被添加的显示对象都可见\n             * 此container容器会一直在mc的最上层\n             * @since 1.0.2\n             * @public\n             * @property container\n             * @type {annie.Sprite}\n             */\n            this.container = new annie.Sprite();\n            /**\n             * mc的当前帧\n             * @property currentFrame\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 1\n             * @readonly\n             */\n            this.currentFrame = 1;\n            /**\n             * 当前动画是否处于播放状态\n             * @property isPlaying\n             * @readOnly\n             * @public\n             * @since 1.0.0\n             * @type {boolean}\n             * @default true\n             * @readonly\n             */\n            this.isPlaying = true;\n            /**\n             * 动画的播放方向,是顺着播还是在倒着播\n             * @property isFront\n             * @public\n             * @since 1.0.0\n             * @type {boolean}\n             * @default true\n             * @readonly\n             */\n            this.isFront = true;\n            /**\n             * 当前动画的总帧数\n             * @property totalFrames\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 1\n             * @readonly\n             */\n            this.totalFrames = 1;\n            this._scriptLayer = [];\n            this._labelFrame = {};\n            this._frameLabel = {};\n            this._isNeedUpdateChildren = true;\n            this._isUpdateFrame = false;\n            this._mouseEvent = function (e) {\n                if (e.type == annie.MouseEvent.MOUSE_DOWN) {\n                    this.gotoAndStop(2);\n                }\n                else {\n                    this.gotoAndStop(1);\n                }\n            };\n            var s = this;\n            s.addChild(s.container);\n        }\n        /**\n         * 调用止方法将停止当前帧\n         * @method stop\n         * @public\n         * @since 1.0.0\n         */\n        MovieClip.prototype.stop = function () {\n            var s = this;\n            //s._isNeedUpdateChildren = true;\n            s.isPlaying = false;\n        };\n        /**\n         * Flash2x工具调用的方法,用户一般不需要使用\n         * @method as\n         * @private\n         * @since 1.0.0\n         * @param {Function} frameScript\n         * @param {number} frameIndex\n         */\n        MovieClip.prototype.as = function (frameScript, frameIndex) {\n            var s = this;\n            s._scriptLayer[frameIndex] = frameScript;\n        };\n        /**\n         * 给时间轴添加回调函数,当时间轴播放到当前帧时,此函数将被调用.注意,之前在此帧上添加的所有代码将被覆盖,包括从Fla文件中当前帧的代码.\n         * @method addFrameScript\n         * @public\n         * @since 1.0.0\n         * @param {number} frameIndex {number} 要将代码添加到哪一帧,从0开始.0就是第一帧,1是第二帧...\n         * @param {Function}frameScript {Function} 时间轴播放到当前帧时要执行回调方法\n         */\n        MovieClip.prototype.addFrameScript = function (frameIndex, frameScript) {\n            var s = this;\n            s.as(frameScript, frameIndex);\n        };\n        /**\n         * @移除帧上的回调方法\n         * @method removeFrameScript\n         * @public\n         * @since 1.0.0\n         * @param {number} frameIndex\n         */\n        MovieClip.prototype.removeFrameScript = function (frameIndex) {\n            var s = this;\n            if (s._scriptLayer[frameIndex]) {\n                s._scriptLayer[frameIndex] = null;\n            }\n        };\n        //addLayer\n        /**\n         * Flash2x工具调用的方法,用户一般不需要使用\n         * @method a\n         * @private\n         * @since 1.0.0\n         * @returns {annie.MovieClip}\n         */\n        MovieClip.prototype.a = function () {\n            var s = this;\n            s._currentLayer = [];\n            s._timeline.unshift(s._currentLayer);\n            return s;\n        };\n        //addFrame\n        /**\n         * Flash2x工具调用的方法,用户一般不需要使用\n         * @method b\n         * @private\n         * @since 1.0.0\n         * @returns {annie.MovieClip}\n         * @param {number} count\n         */\n        MovieClip.prototype.b = function (count) {\n            var s = this;\n            s._currentLayerFrame = new McFrame();\n            s._currentLayerFrame.keyIndex = s._currentLayer.length;\n            for (var i = 0; i < count; i++) {\n                s._currentLayer.push(s._currentLayerFrame);\n            }\n            if (s.totalFrames < s._currentLayer.length) {\n                s.totalFrames = s._currentLayer.length;\n            }\n            return s;\n        };\n        //setFrameDisplay\n        /**\n         * Flash2x工具调用的方法,用户一般不需要使用\n         * @method c\n         * @private\n         * @since 1.0.0\n         * @param {annie.DisplayObject} display\n         * @param {Object} displayBaseInfo\n         * @param {Object} displayExtendInfo\n         * @returns {annie.MovieClip}\n         */\n        MovieClip.prototype.c = function (display, displayBaseInfo, displayExtendInfo) {\n            if (displayBaseInfo === void 0) { displayBaseInfo = null; }\n            if (displayExtendInfo === void 0) { displayExtendInfo = null; }\n            var s = this;\n            s._currentLayerFrame.setDisplayInfo(display, displayBaseInfo, displayExtendInfo);\n            return s;\n        };\n        //setGraphic\n        /**\n         * Flash2x工具调用的方法,用户一般不需要使用\n         * @method g\n         * @private\n         * @since 1.0.0\n         * @param loopType\n         * @param {number} firstFrame\n         * @param {number} parentFrameIndex\n         * @returns {annie.MovieClip}\n         */\n        MovieClip.prototype.g = function (loopType, firstFrame, parentFrameIndex) {\n            var s = this;\n            s._currentLayerFrame.setGraphicInfo(loopType, firstFrame, parentFrameIndex);\n            return s;\n        };\n        /**\n         * 当将mc设置为图形动画模式时需要设置的相关信息 Flash2x工具调用的方法,用户一般不需要使用\n         * @method setGraphicInfo\n         * @public\n         * @since 1.0.0\n         * @param{Object} graphicInfo\n         */\n        MovieClip.prototype.setGraphicInfo = function (graphicInfo) {\n            var s = this;\n            s._graphicInfo = graphicInfo;\n        };\n        /**\n         * 将一个mc变成按钮来使用 如果mc在于2帧,那么点击此mc将自动有被按钮的状态,无需用户自己写代码\n         * @method initButton\n         * @public\n         * @since 1.0.0\n         */\n        MovieClip.prototype.initButton = function () {\n            var s = this;\n            s.mouseChildren = false;\n            //将mc设置成按钮形式\n            if (s.totalFrames > 1) {\n                s.gotoAndStop(1);\n                s.addEventListener(\"onMouseDown\", this._mouseEvent.bind(this));\n                s.addEventListener(\"onMouseUp\", this._mouseEvent.bind(this));\n                s.addEventListener(\"onMouseOut\", this._mouseEvent.bind(this));\n            }\n        };\n        //setLabelFrame;\n        /**\n         * Flash2x工具调用的方法,用户一般不需要使用\n         * @method d\n         * @private\n         * @since 1.0.0\n         * @param {string} name\n         * @param {number} index\n         * @returns {annie.MovieClip}\n         */\n        MovieClip.prototype.d = function (name, index) {\n            var s = this;\n            s._labelFrame[name] = index + 1;\n            s._frameLabel[index + 1] = name;\n            return s;\n        };\n        //getFrameLabel\n        /**\n         * mc的当前帧的标签名,没有则为空\n         * @method getCurrentLabel\n         * @public\n         * @since 1.0.0\n         * @returns {string}\n         * */\n        MovieClip.prototype.getCurrentLabel = function () {\n            var s = this;\n            return s._frameLabel[s.currentFrame] ? s._frameLabel[s.currentFrame] : \"\";\n        };\n        //setFrameEvent\n        /**\n         * Flash2x工具调用的方法,用户一般不需要使用\n         * @method e\n         * @private\n         * @since 1.0.0\n         * @param {string} eventName\n         * @returns {annie.MovieClip}\n         */\n        MovieClip.prototype.e = function (eventName) {\n            var s = this;\n            s._currentLayerFrame.eventName = eventName;\n            return s;\n        };\n        //setSoundName\n        /**\n         * Flash2x工具调用的方法,用户一般不需要使用\n         * @method f\n         * @private\n         * @since 1.0.0\n         * @param {string} sceneName\n         * @param {string} soundName\n         * @param {number} times\n         * @returns {annie.MovieClip}\n         */\n        MovieClip.prototype.f = function (sceneName, soundName, times) {\n            var s = this;\n            s._currentLayerFrame.soundName = soundName;\n            s._currentLayerFrame.soundScene = sceneName;\n            s._currentLayerFrame.soundTimes = times;\n            return s;\n        };\n        /**\n         * 将播放头向后移一帧并停在下一帧,如果本身在最后一帧则不做任何反应\n         * @method nextFrame\n         * @since 1.0.0\n         * @public\n         */\n        MovieClip.prototype.nextFrame = function () {\n            var s = this;\n            if (s.currentFrame < s.totalFrames) {\n                s.currentFrame++;\n                s._isNeedUpdateChildren = true;\n            }\n            s.isPlaying = false;\n            s._isUpdateFrame = false;\n        };\n        /**\n         * 将播放头向前移一帧并停在下一帧,如果本身在第一帧则不做任何反应\n         * @method prevFrame\n         * @since 1.0.0\n         * @public\n         */\n        MovieClip.prototype.prevFrame = function () {\n            var s = this;\n            if (s.currentFrame > 1) {\n                s.currentFrame--;\n                s._isNeedUpdateChildren = true;\n            }\n            s.isPlaying = false;\n            s._isUpdateFrame = false;\n        };\n        /**\n         * 将播放头跳转到指定帧并停在那一帧,如果本身在第一帧则不做任何反应\n         * @method gotoAndStop\n         * @public\n         * @since 1.0.0\n         * @param {number} frameIndex{number|string} 批定帧的帧数或指定帧的标签名\n         */\n        MovieClip.prototype.gotoAndStop = function (frameIndex) {\n            var s = this;\n            s.isPlaying = false;\n            var tempFrame;\n            if (typeof (frameIndex) == \"string\") {\n                if (s._labelFrame[frameIndex] != undefined) {\n                    tempFrame = s._labelFrame[frameIndex];\n                }\n                else {\n                    trace(\"未找到帧标签叫'\" + frameIndex + \"'的帧\");\n                }\n            }\n            else if (typeof (frameIndex) == \"number\") {\n                if (frameIndex > s.totalFrames) {\n                    frameIndex = s.totalFrames;\n                }\n                if (frameIndex < 1) {\n                    frameIndex = 1;\n                }\n                tempFrame = frameIndex;\n            }\n            if (s.currentFrame != tempFrame) {\n                s.currentFrame = tempFrame;\n                s._isNeedUpdateChildren = true;\n                s._isUpdateFrame = false;\n            }\n        };\n        /**\n         * 如果当前时间轴停在某一帧,调用此方法将继续播放.\n         * @method play\n         * @public\n         * @since 1.0.0\n         */\n        MovieClip.prototype.play = function (isFront) {\n            if (isFront === void 0) { isFront = true; }\n            var s = this;\n            s.isPlaying = true;\n            if (isFront == undefined) {\n                s.isFront = true;\n            }\n            else {\n                s.isFront = isFront;\n            }\n            s._isUpdateFrame = true;\n        };\n        /**\n         * 将播放头跳转到指定帧并从那一帧开始继续播放\n         * @method gotoAndPlay\n         * @public\n         * @since 1.0.0\n         * @param {number} frameIndex 批定帧的帧数或指定帧的标签名\n         * @param {boolean} isFront 跳到指定帧后是向前播放, 还是向后播放.不设置些参数将默认向前播放\n         */\n        MovieClip.prototype.gotoAndPlay = function (frameIndex, isFront) {\n            if (isFront === void 0) { isFront = true; }\n            var s = this;\n            if (isFront == undefined) {\n                s.isFront = true;\n            }\n            else {\n                s.isFront = isFront;\n            }\n            s.isPlaying = true;\n            var tempFrame;\n            if (typeof (frameIndex) == \"string\") {\n                if (s._labelFrame[frameIndex] != undefined) {\n                    tempFrame = s._labelFrame[frameIndex];\n                }\n                else {\n                    trace(\"未找到帧标签叫'\" + frameIndex + \"'的帧\");\n                }\n            }\n            else if (typeof (frameIndex) == \"number\") {\n                if (frameIndex > s.totalFrames) {\n                    frameIndex = s.totalFrames;\n                }\n                if (frameIndex < 1) {\n                    frameIndex = 1;\n                }\n                tempFrame = frameIndex;\n            }\n            if (s.currentFrame != tempFrame) {\n                s.currentFrame = tempFrame;\n                s._isUpdateFrame = false;\n                s._isNeedUpdateChildren = true;\n            }\n        };\n        /**\n         * 动画播放过程中更改movieClip中的一个child的显示属性，\n         * 如果是停止状态，可以直接设置子级显示属性\n         * 因为moveClip在播放的过程中是无法更新子级的显示属性的，\n         * 比如你要更新子级的坐标，透明度，旋转等等，这些更改都会无效\n         * 因为，moveClip自己记录了子级每一帧的这些属性，所有你需要通过\n         * 此方法告诉moveClip我要自己控制这些属性\n         * @method setFrameChild\n         * @public\n         * @since 1.0.0\n         * @param {annie.DisplayObject} child\n         * @param {Object} attr\n         */\n        MovieClip.prototype.setFrameChild = function (child, attr) {\n            child._donotUpdateinMC = child._donotUpdateinMC || {};\n            for (var i in attr) {\n                if (attr[i] != null) {\n                    child._donotUpdateinMC[i] = attr[i];\n                }\n                else {\n                    delete child._donotUpdateinMC[attr[i]];\n                }\n            }\n        };\n        /**\n         * 重写刷新\n         * @method update\n         * @public\n         * @since 1.0.0\n         */\n        MovieClip.prototype.update = function () {\n            //super.update();\n            var s = this;\n            if (s.pauseUpdate)\n                return;\n            if (s._graphicInfo) {\n                //核心代码\n                //loopType,firstFrame,parentFrameIndex\n                var curParentFrameIndex = s.parent[\"currentFrame\"] ? s.parent[\"currentFrame\"] : 1;\n                var tempCurrentFrame = 1;\n                var pStartFrame = s._graphicInfo.parentFrameIndex + 1;\n                var cStartFrame = s._graphicInfo.firstFrame + 1;\n                if (s._graphicInfo.loopType == \"play once\") {\n                    if (curParentFrameIndex - pStartFrame >= 0) {\n                        tempCurrentFrame = curParentFrameIndex - pStartFrame + cStartFrame;\n                        if (tempCurrentFrame > s.totalFrames) {\n                            tempCurrentFrame = s.totalFrames;\n                        }\n                    }\n                }\n                else if (s._graphicInfo.loopType == \"loop\") {\n                    if (curParentFrameIndex - pStartFrame >= 0) {\n                        tempCurrentFrame = (curParentFrameIndex - pStartFrame + cStartFrame) % s.totalFrames;\n                    }\n                    if (tempCurrentFrame == 0) {\n                        tempCurrentFrame = s.totalFrames;\n                    }\n                }\n                else {\n                    tempCurrentFrame = cStartFrame;\n                }\n                if (s.currentFrame != tempCurrentFrame) {\n                    s.currentFrame = tempCurrentFrame;\n                    s._isNeedUpdateChildren = true;\n                }\n                s.isPlaying = false;\n            }\n            else {\n                if (s.isPlaying && s._isUpdateFrame) {\n                    //核心代码\n                    if (s.isFront) {\n                        s.currentFrame++;\n                        if (s.currentFrame > s.totalFrames) {\n                            s.currentFrame = 1;\n                        }\n                    }\n                    else {\n                        s.currentFrame--;\n                        if (s.currentFrame < 1) {\n                            s.currentFrame = s.totalFrames;\n                        }\n                    }\n                    s._isNeedUpdateChildren = true;\n                }\n            }\n            s._isUpdateFrame = true;\n            if (s._isNeedUpdateChildren) {\n                var layerCount = s._timeline.length;\n                var frameCount = 0;\n                var frame = null;\n                var displayObject = null;\n                var infoObject = null;\n                var frameChildrenCount = 0;\n                var lastFrameChildren = s.children;\n                var i;\n                var frameEvents = [];\n                for (i = 0; i < s.children.length - 1; i++) {\n                    lastFrameChildren[i].parent = null;\n                }\n                s.children = [];\n                for (i = 0; i < layerCount; i++) {\n                    frameCount = s._timeline[i].length;\n                    if (s.currentFrame <= frameCount) {\n                        frame = s._timeline[i][s.currentFrame - 1];\n                        if (frame == undefined)\n                            continue;\n                        if (frame.keyIndex == (s.currentFrame - 1)) {\n                            if (frame.soundName != \"\") {\n                                annie.RESManager.getMediaByName(frame.soundScene, frame.soundName).play(0, frame.soundTimes);\n                            }\n                            if (frame.eventName != \"\" && s.hasEventListener(annie.Event.CALL_FRAME)) {\n                                var event = new annie.Event(annie.Event.CALL_FRAME);\n                                event.data = { frameIndex: s.currentFrame, frameName: frame.eventName };\n                                frameEvents.push(event);\n                            }\n                        }\n                        frameChildrenCount = frame.frameChildList.length;\n                        for (var j = 0; j < frameChildrenCount; j++) {\n                            infoObject = frame.frameChildList[j];\n                            displayObject = infoObject.display;\n                            displayObject.x = infoObject.x;\n                            displayObject.y = infoObject.y;\n                            displayObject.scaleX = infoObject.scaleX;\n                            displayObject.scaleY = infoObject.scaleY;\n                            displayObject.rotation = infoObject.rotation;\n                            displayObject.skewX = infoObject.skewX;\n                            displayObject.skewY = infoObject.skewY;\n                            displayObject.alpha = infoObject.alpha;\n                            if (infoObject.filters) {\n                                displayObject.filters = infoObject.filters;\n                            }\n                            else {\n                                displayObject.filters = null;\n                            }\n                            if (infoObject.graphicInfo) {\n                                displayObject[\"_graphicInfo\"] = infoObject.graphicInfo;\n                            }\n                            else {\n                                if (displayObject[\"_graphicInfo\"]) {\n                                    displayObject[\"_graphicInfo\"] = null;\n                                }\n                            }\n                            if (displayObject[\"_donotUpdateinMC\"] != undefined) {\n                                for (var o in displayObject[\"_donotUpdateinMC\"]) {\n                                    if (displayObject[\"_donotUpdateinMC\"][o] != undefined) {\n                                        displayObject[o] = displayObject[\"_donotUpdateinMC\"][o];\n                                    }\n                                }\n                            }\n                            displayObject.parent = s;\n                            s.children.push(displayObject);\n                            if (lastFrameChildren.indexOf(displayObject) < 0) {\n                                displayObject._onDispatchBubbledEvent(\"onAddToStage\");\n                            }\n                        }\n                    }\n                }\n                s._isNeedUpdateChildren = false;\n                //update一定要放在事件处理之前\n                var len = lastFrameChildren.length;\n                for (i = 0; i < len; i++) {\n                    if (!lastFrameChildren[i].parent) {\n                        lastFrameChildren[i].parent = s;\n                        lastFrameChildren[i]._onDispatchBubbledEvent(\"onRemoveToStage\");\n                        lastFrameChildren[i].parent = null;\n                    }\n                }\n                s.children.push(s.container);\n                _super.prototype.update.call(this);\n                //看看是否到了第一帧，或是最后一帧,如果是准备事件\n                if ((s.currentFrame == 1 && !s.isFront) || (s.currentFrame == s.totalFrames && s.isFront)) {\n                    if (s.hasEventListener(annie.Event.END_FRAME)) {\n                        var event = new annie.Event(annie.Event.END_FRAME);\n                        event.data = {\n                            frameIndex: s.currentFrame,\n                            frameName: s.currentFrame == 1 ? \"firstFrame\" : \"endFrame\"\n                        };\n                        frameEvents.push(event);\n                    }\n                }\n                //看看是否有帧事件,有则派发\n                var len = frameEvents.length;\n                for (i = 0; i < len; i++) {\n                    s.dispatchEvent(frameEvents[i]);\n                }\n                //看看是否有回调,有则调用\n                if (s._scriptLayer[s.currentFrame - 1] != undefined) {\n                    s._scriptLayer[s.currentFrame - 1]();\n                }\n            }\n            else {\n                _super.prototype.update.call(this);\n            }\n        };\n        /**\n         * 触发显示列表上相关的事件\n         * @method _onDispatchBubbledEvent\n         * @param {string} type\n         * @private\n         */\n        MovieClip.prototype._onDispatchBubbledEvent = function (type) {\n            _super.prototype._onDispatchBubbledEvent.call(this, type);\n            if (type == \"onRemoveToStage\") {\n                var s = this;\n                s.currentFrame = 1;\n                s.isPlaying = true;\n                s.isFront = true;\n                s._isNeedUpdateChildren = true;\n                s._isUpdateFrame = false;\n            }\n        };\n        return MovieClip;\n    }(annie.Sprite));\n    annie.MovieClip = MovieClip;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 此类对于需要在canvas上放置html其他类型元素的时候非常有用<br/>\n     * 比如有时候我们需要放置一个注册,登录或者其他的内容.这些内容包含了输入框<br/>\n     * 或者下拉框什么的,无法在canvas里实现,但这些元素又跟canvas里面的元素<br/>\n     * 位置,大小,缩放对应.就相当于是annie里的一个显示对象一样。可以随意设置他的<br/>\n     * 属性,那么将你的html元素通过此类封装成annie的显示对象再合适不过了\n     * @class annie.FloatDisplay\n     * @extends annie.DisplayObject\n     * @public\n     * @since 1.0.0\n     */\n    var FloatDisplay = (function (_super) {\n        __extends(FloatDisplay, _super);\n        function FloatDisplay() {\n            _super.call(this);\n            /**\n             * 需要封装起来的html元素的引用。你可以通过这个引用来调用或设置此元素自身的属性方法和事件,甚至是样式\n             * @property htmlElement\n             * @public\n             * @since 1.0.0\n             * @type{HtmlElement}\n             */\n            this.htmlElement = null;\n            /**\n             * 上一交刷新时保留的数据\n             * @property _oldProps\n             * @private\n             * @since 1.0.0\n             * @type {{alpha: number, matrix: {a: number, b: number, c: number, d: number, tx: number, ty: number}}}\n             */\n            this._oldProps = { alpha: 1, matrix: { a: 1, b: 0, c: 0, d: 1, tx: 0, ty: 0 } };\n            /**\n             * 是否已经添加了舞台事件\n             * @property _isAdded\n             * @since 1.0.0\n             * @type {boolean}\n             * @private\n             */\n            this._isAdded = false;\n            var s = this;\n            s.addEventListener(annie.Event.REMOVE_TO_STAGE, function (e) {\n                if (s.htmlElement) {\n                    s.htmlElement.style.display = \"none\";\n                }\n            });\n            s.addEventListener(annie.Event.ADD_TO_STAGE, function (e) {\n                if (!s._isAdded) {\n                    s._isAdded = true;\n                    s.stage.rootDiv.insertBefore(s.htmlElement, s.stage.rootDiv.childNodes[0]);\n                }\n                else {\n                    if (s.htmlElement && s.visible) {\n                        s.htmlElement.style.display = \"inline\";\n                    }\n                }\n            });\n        }\n        /**\n         * 初始化方法\n         * @method init\n         * @public\n         * @since 1.0.0\n         * @param {HtmlElement} htmlElement 需要封装起来的html元素的引用。你可以通过这个引用来调用或设置此元素自身的属性方法和事件,甚至是样式\n         */\n        FloatDisplay.prototype.init = function (htmlElement) {\n            var s = this;\n            if (typeof (htmlElement) == \"string\") {\n                htmlElement = document.getElementById(htmlElement);\n            }\n            var style = htmlElement.style;\n            style.position = \"absolute\";\n            style.display = \"none\";\n            style.transformOrigin = style.WebkitTransformOrigin = \"0 0 0\";\n            s.htmlElement = htmlElement;\n        };\n        /**\n         * 删除html元素,这样就等于解了封装\n         * @method delElement\n         * @since 1.0.0\n         * @public\n         */\n        FloatDisplay.prototype.delElement = function () {\n            var elem = this.htmlElement;\n            if (elem) {\n                elem.style.display = \"none\";\n                if (elem.parentNode) {\n                    elem.parentNode.removeChild(elem);\n                }\n                this._isAdded = false;\n                this.htmlElement = null;\n            }\n        };\n        /**\n         * 重写刷新\n         * @method update\n         * @public\n         * @since 1.0.0\n         */\n        FloatDisplay.prototype.update = function () {\n            _super.prototype.update.call(this);\n            var s = this;\n            var o = s.htmlElement;\n            if (!o) {\n                return;\n            }\n            var style = o.style;\n            var visible = s.visible;\n            var parent = s.parent;\n            while (visible && parent) {\n                visible = parent.visible;\n                parent = parent.parent;\n            }\n            var show = visible ? \"inline\" : \"none\";\n            if (show != style.display) {\n                style.display = show;\n            }\n            if (!s.visible) {\n                return;\n            }\n            var props = new Object;\n            props.alpha = s[\"cAlpha\"];\n            var mtx = s[\"cMatrix\"];\n            var oldProps = s._oldProps;\n            var d = annie.devicePixelRatio;\n            if (!annie.Matrix.isEqual(oldProps.matrix, mtx)) {\n                style.transform = style.webkitTransform = \"matrix(\" + (mtx.a / d) + \",\" + (mtx.b / d) + \",\" + (mtx.c / d) + \",\" + (mtx.d / d) + \",\" + (mtx.tx / d) + \",\" + (mtx.ty / d) + \")\";\n                oldProps.matrix = { tx: mtx.tx, ty: mtx.ty, a: mtx.a, b: mtx.b, c: mtx.c, d: mtx.d };\n            }\n            if (oldProps.alpha != props.alpha) {\n                style.opacity = props.alpha;\n                oldProps.alpha = props.alpha;\n            }\n        };\n        /**\n         * 重写getBounds\n         * @method getBounds\n         * @public\n         * @since 1.0.0\n         * @returns {annie.Rectangle}\n         */\n        FloatDisplay.prototype.getBounds = function () {\n            var s = this;\n            var r = new annie.Rectangle();\n            if (s.htmlElement) {\n                var hs = s.htmlElement.style;\n                r.width = parseInt(hs.width);\n                r.height = parseInt(hs.height);\n            }\n            return r;\n        };\n        return FloatDisplay;\n    }(annie.DisplayObject));\n    annie.FloatDisplay = FloatDisplay;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 将video的内容或者是序列图画到canvas里形成连续播放的效果,以方便做交互\n     * @class annie.VideoPlayer\n     * @extends annie.Bitmap\n     * @public\n     * @since 1.0.0\n     */\n    var VideoPlayer = (function (_super) {\n        __extends(VideoPlayer, _super);\n        /**\n         * @method VideoPlayer\n         * @param {string} src\n         * @param {number} width\n         * @param {number} height\n         * @param {number} type 视频类型 值为0则会自动检测android下用序列图,其他系统下支持mp4的用mp4,不支持mp4的用序列图\\n,值为1时全部使用序列图,值为2时全部使用mp4\n         */\n        function VideoPlayer(src, type, width, height) {\n            if (type === void 0) { type = 0; }\n            _super.call(this);\n            /**\n             * 播放的视频类型 值为0是序列图,1是视频 只读\n             * @property videoType\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             */\n            this.videoType = 0;\n            var isUseVideo = true;\n            if (type == 0) {\n                if (annie.osType == \"android\") {\n                    isUseVideo = false;\n                }\n                else {\n                    //检测是否支持mp4,如果不支持,也将用序列\n                    var testVideo = document.createElement(\"video\");\n                    isUseVideo = testVideo.canPlayType('video/mp4; codecs=\"avc1.42E01E, mp4a.40.2\"') == \"probably\";\n                }\n            }\n            else if (type == 1) {\n                isUseVideo = false;\n            }\n            if (isUseVideo) {\n                this.video = new annie.Video(src + \".mp4\", width, height);\n            }\n            else {\n                this.video = new annie.ImageFrames(src, width, height);\n            }\n            this.videoType = isUseVideo ? 1 : 0;\n        }\n        /**\n         * 重写update\n         * @method update\n         * @public\n         * @since 1.0.0\n         */\n        VideoPlayer.prototype.update = function () {\n            //刷新视频\n            if (this.videoType == 0) {\n                this.video.update();\n                this.rect = this.video.rect;\n                this[\"_cacheImg\"] = this.bitmapData = this.video.currentBitmap;\n            }\n            else {\n                this[\"_cacheImg\"] = this.bitmapData = this.video;\n            }\n            _super.prototype.update.call(this);\n        };\n        return VideoPlayer;\n    }(annie.Bitmap));\n    annie.VideoPlayer = VideoPlayer;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 动态文本类,有时需要在canvas里有一个动态文本,能根据我们的显示内容来改变\n     * @class annie.TextField\n     * @extends annie.DisplayObject\n     * @since 1.0.0\n     * @public\n     */\n    var TextField = (function (_super) {\n        __extends(TextField, _super);\n        function TextField() {\n            _super.call(this);\n            this._cacheImg = window.document.createElement(\"canvas\");\n            this._cacheX = 0;\n            this._cacheY = 0;\n            this._cacheObject = { bold: false, italic: false, size: 12, lineType: \"single\", text: \"ILoveAnnie\", textAlign: \"left\", font: \"Arial\", color: \"#fff\", lineWidth: 0, lineHeight: 0 };\n            /**\n             * 文本的对齐方式\n             * @property textAlign\n             * @public\n             * @since 1.0.0\n             * @type {string}\n             * @default left\n             */\n            this.textAlign = \"left\";\n            /**\n             * 文本的行高\n             * @property lineHeight\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             */\n            this.lineHeight = 0;\n            /**\n             * 文本的宽\n             * @property lineWidth\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             */\n            this.lineWidth = 0;\n            /**\n             * 文本类型,单行还是多行 single multi\n             * @property lineType\n             * @public\n             * @since 1.0.0\n             * @type {string} 两种 single和multi\n             * @default single\n             */\n            this.lineType = \"single\";\n            /**\n             * 文本内容\n             * @property text\n             * @type {string}\n             * @public\n             * @default \"\"\n             * @since 1.0.0\n             */\n            this.text = \"\";\n            /**\n             * 文本的css字体样式\n             * @property font\n             * @public\n             * @since 1.0.0\n             * @type {string}\n             * @default 12px Arial\n             */\n            this.font = \"Arial\";\n            /**\n             * 文本的size\n             * @property size\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 12\n             */\n            this.size = 12;\n            /**\n             * 文本的颜色值\n             * @property color\n             * @type {string}\n             * @public\n             * @since 1.0.0\n             * @default #fff\n             */\n            this.color = \"#fff\";\n            /**\n             * 文本是否倾斜\n             * @property italic\n             * @public\n             * @since\n             * @default false\n             * @type {boolean}\n             */\n            this.italic = false;\n            /**\n             * 文本是否加粗\n             * @property bold\n             * @public\n             * @since\n             * @default false\n             * @type {boolean}\n             */\n            this.bold = false;\n        }\n        /**\n         * 设置文本在canvas里的渲染样式\n         * @param ctx\n         * @private\n         * @since 1.0.0\n         */\n        TextField.prototype._prepContext = function (ctx) {\n            var s = this;\n            var font = s.size || 12;\n            font += \"px \";\n            font += s.font;\n            //font-weight:bold;font-style:italic;\n            if (s.bold) {\n                font = \"bold \" + font;\n            }\n            if (s.italic) {\n                font = \"italic \" + font;\n            }\n            ctx.font = font;\n            ctx.textAlign = this.textAlign || \"left\";\n            ctx.textBaseline = \"top\";\n            ctx.fillStyle = this.color;\n        };\n        /**\n         * 获取文本宽\n         * @method _getMeasuredWidth\n         * @param text\n         * @return {number}\n         * @private\n         * @since 1.0.0\n         */\n        TextField.prototype._getMeasuredWidth = function (text) {\n            var ctx = this._cacheImg.getContext(\"2d\");\n            //ctx.save();\n            var w = ctx.measureText(text).width;\n            //ctx.restore();\n            return w;\n        };\n        /**\n         * 重写 render\n         * @method render\n         * @return {annie.Rectangle}\n         * @public\n         * @since 1.0.0\n         */\n        TextField.prototype.render = function (renderObj) {\n            var s = this;\n            if (s._cacheImg.src != \"\") {\n                renderObj.draw(s, 2);\n            }\n            //super.render();\n        };\n        /**\n         * 重写 update\n         * @method update\n         * @return {annie.Rectangle}\n         * @public\n         * @since 1.0.0\n         */\n        TextField.prototype.update = function () {\n            var s = this;\n            if (s.pauseUpdate)\n                return;\n            _super.prototype.update.call(this);\n            for (var item in s._cacheObject) {\n                if (s._cacheObject[item] != s[item]) {\n                    s._cacheObject[item] = s[item];\n                    s._isNeedUpdate = true;\n                }\n            }\n            if (s._isNeedUpdate) {\n                s.text += \"\";\n                var can = s._cacheImg;\n                var ctx = can.getContext(\"2d\");\n                var hardLines = s.text.toString().split(/(?:\\r\\n|\\r|\\n)/);\n                var realLines = [];\n                s._prepContext(ctx);\n                var lineH;\n                if (s.lineHeight) {\n                    lineH = s.lineHeight;\n                }\n                else {\n                    lineH = s._getMeasuredWidth(\"M\") * 1.2;\n                }\n                if (!s.lineWidth) {\n                    s.lineWidth = lineH * 10;\n                }\n                else {\n                    if (s.lineWidth < lineH) {\n                        s.lineWidth = lineH;\n                    }\n                }\n                if (s.text.indexOf(\"\\n\") < 0 && s.lineType == \"single\") {\n                    realLines.push(hardLines[0]);\n                    var str = hardLines[0];\n                    var lineW = s._getMeasuredWidth(str);\n                    if (lineW > s.lineWidth) {\n                        var w = s._getMeasuredWidth(str[0]);\n                        var lineStr = str[0];\n                        var wordW = 0;\n                        var strLen = str.length;\n                        for (var j = 1; j < strLen; j++) {\n                            wordW = ctx.measureText(str[j]).width;\n                            w += wordW;\n                            if (w > s.lineWidth) {\n                                realLines[0] = lineStr;\n                                break;\n                            }\n                            else {\n                                lineStr += str[j];\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var i = 0, l = hardLines.length; i < l; i++) {\n                        var str = hardLines[i];\n                        var w = s._getMeasuredWidth(str[0]);\n                        var lineStr = str[0];\n                        var wordW = 0;\n                        var strLen = str.length;\n                        for (var j = 1; j < strLen; j++) {\n                            wordW = ctx.measureText(str[j]).width;\n                            w += wordW;\n                            if (w > this.lineWidth) {\n                                realLines.push(lineStr);\n                                lineStr = str[j];\n                                w = wordW;\n                            }\n                            else {\n                                lineStr += str[j];\n                            }\n                        }\n                        realLines.push(lineStr);\n                    }\n                }\n                var maxH = lineH * realLines.length;\n                var maxW = s.lineWidth;\n                var tx = 0;\n                if (s.textAlign == \"center\") {\n                    tx = maxW * 0.5;\n                }\n                else if (s.textAlign == \"right\") {\n                    tx = maxW;\n                }\n                can.width = maxW + 20;\n                can.height = maxH + 20;\n                can.style.width = can.width / annie.devicePixelRatio + \"px\";\n                can.style.height = can.height / annie.devicePixelRatio + \"px\";\n                ctx.clearRect(0, 0, maxW, maxH);\n                ctx.setTransform(1, 0, 0, 1, tx + 10, 10);\n                /////////////////////\n                if (s[\"cFilters\"] && s[\"cFilters\"].length > 0) {\n                    var cf = s.cFilters;\n                    var cfLen = cf.length;\n                    for (var i = 0; i < cfLen; i++) {\n                        if (s.cFilters[i].type == \"Shadow\") {\n                            ctx.shadowBlur = cf[i].blur;\n                            ctx.shadowColor = cf[i].color;\n                            ctx.shadowOffsetX = cf[i].offsetX;\n                            ctx.shadowOffsetY = cf[i].offsetY;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    ctx.shadowBlur = 0;\n                    ctx.shadowColor = \"#0\";\n                    ctx.shadowOffsetX = 0;\n                    ctx.shadowOffsetY = 0;\n                }\n                ////////////////////\n                s._prepContext(ctx);\n                for (var i = 0; i < realLines.length; i++) {\n                    ctx.fillText(realLines[i], 0, i * lineH, maxW);\n                }\n                //滤镜\n                if (s[\"cFilters\"] && s[\"cFilters\"].length > 0) {\n                    var len = s[\"cFilters\"].length;\n                    var imageData = ctx.getImageData(0, 0, maxW + 20, maxH + 20);\n                    for (var i = 0; i < len; i++) {\n                        var f = s[\"cFilters\"][i];\n                        f.drawFilter(imageData);\n                        trace(s[\"cFilters\"][i].type);\n                    }\n                    ctx.putImageData(imageData, 0, 0);\n                }\n                s._cacheX = -10;\n                s._cacheY = -10;\n                s._isNeedUpdate = false;\n                annie.WGRender.setDisplayInfo(s, 2);\n            }\n        };\n        /**\n         * 重写 getBounds\n         * @method getBounds\n         * @return {annie.Rectangle}\n         * @public\n         * @since 1.0.0\n         */\n        TextField.prototype.getBounds = function () {\n            var s = this;\n            var r = new annie.Rectangle();\n            if (s._cacheImg) {\n                r.x = 0;\n                r.y = 0;\n                r.width = s._cacheImg.width - 20;\n                r.height = s._cacheImg.height - 20;\n            }\n            return r;\n        };\n        return TextField;\n    }(annie.DisplayObject));\n    annie.TextField = TextField;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 输入文本,此文本类是annie.FloatDisplay对象的典型代表\n     * @class annie.InputText\n     * @public\n     * @since 1.0.0\n     * @extends annie.FloatDisplay\n     */\n    var InputText = (function (_super) {\n        __extends(InputText, _super);\n        /**\n         * @method InputText\n         * @public\n         * @since 1.0.0\n         * @param {string} inputType multiline 多行 password 密码 singleline 单行\n         */\n        function InputText(inputType) {\n            _super.call(this);\n            /**\n             * 输入文本的类型.\n             * multiline 多行\n             * password 密码\n             * singleline 单行\n             * @property inputType\n             * @public\n             * @since 1.0.0\n             * @type {string}\n             * @default \"singleline\"\n             */\n            this.inputType = \"singleline\";\n            var input = null;\n            var s = this;\n            if (inputType != \"multiline\") {\n                input = document.createElement(\"input\");\n                if (inputType == \"password\") {\n                    input.type = \"password\";\n                }\n                else {\n                    input.type = \"text\";\n                }\n            }\n            else {\n                input = document.createElement(\"textarea\");\n                input.style.resize = \"none\";\n                input.style.overflow = \"hidden\";\n            }\n            s.inputType = inputType;\n            s.init(input);\n        }\n        InputText.prototype.init = function (htmlElement) {\n            _super.prototype.init.call(this, htmlElement);\n            //默认设置\n            var s = this;\n            s.htmlElement.style.outline = \"none\";\n            s.htmlElement.style.borderWidth = \"thin\";\n            s.htmlElement.style.borderColor = \"#000\";\n        };\n        /**\n         * 被始化输入文件的一些属性\n         * @method initInfo\n         * @public\n         * @since 1.0.0\n         * @param {string} text 默认文字\n         * @param {number} w 文本宽\n         * @param {number} h 文本高\n         * @param {string}color 文字颜色\n         * @param {string}align 文字的对齐方式\n         * @param {number}size  文字大小\n         * @param {string}font  文字所使用的字体\n         * @param {boolean}showBorder 是否需要显示边框\n         * @param {number}lineSpacing 如果是多行,请设置行高\n         */\n        InputText.prototype.initInfo = function (text, w, h, color, align, size, font, showBorder, lineSpacing) {\n            var s = this;\n            s.htmlElement.placeholder = text;\n            s.htmlElement.style.width = w + \"px\";\n            s.htmlElement.style.height = h + \"px\";\n            //font包括字体和大小\n            s.htmlElement.style.font = size + \"px \" + font;\n            s.htmlElement.style.color = color;\n            s.htmlElement.style.textAlign = align;\n            /////////////////////设置边框//////////////\n            s.setBorder(showBorder);\n            //color:blue; text-align:center\"\n            if (s.inputType == \"multiLine\") {\n                s.htmlElement.style.lineHeight = lineSpacing + \"px\";\n            }\n        };\n        /**\n         * 设置文本是否为粗体\n         * @method setBold\n         * @param {boolean} bold true或false\n         * @public\n         * @since 1.0.0\n         */\n        InputText.prototype.setBold = function (bold) {\n            var s = this.htmlElement.style;\n            if (bold) {\n                s.fontWeight = \"bold\";\n            }\n            else {\n                s.fontWeight = \"normal\";\n            }\n        };\n        /**\n         * 设置文本是否倾斜\n         * @method setItalic\n         * @param {boolean} italic true或false\n         * @public\n         * @since 1.0.0\n         */\n        InputText.prototype.setItalic = function (italic) {\n            var s = this.htmlElement.style;\n            if (italic) {\n                s.fontStyle = \"italic\";\n            }\n            else {\n                s.fontStyle = \"normal\";\n            }\n        };\n        /**\n         * 设置是否有边框\n         * @method setBorder\n         * @param {boolean} show true或false\n         * @public\n         * @sinc 1.0.0\n         */\n        InputText.prototype.setBorder = function (show) {\n            var s = this;\n            if (show) {\n                s.htmlElement.style.borderStyle = \"inset\";\n                s.htmlElement.style.backgroundColor = \"#fff\";\n            }\n            else {\n                s.htmlElement.style.borderStyle = \"none\";\n                s.htmlElement.style.backgroundColor = \"transparent\";\n            }\n        };\n        /**\n         * 获取输入文本的值,因为输入文本调用了html的input标签,所以不能直接像动态文本那样用textObj.text获取值或者设置值\n         * @method getText\n         * @public\n         * @since 1.0.0\n         * @returns {string}\n         */\n        InputText.prototype.getText = function () {\n            var s = this;\n            if (s.htmlElement) {\n                return s.htmlElement.value;\n            }\n        };\n        /**\n         * 设置输入文本的值,因为输入文本调用了html的input标签,所以不能直接像动态文本那样用textObj.text获取值或者设置值\n         * @method setText\n         * @param {string} text\n         */\n        InputText.prototype.setText = function (text) {\n            var s = this;\n            if (s.htmlElement) {\n                s.htmlElement.value = text;\n            }\n        };\n        return InputText;\n    }(annie.FloatDisplay));\n    annie.InputText = InputText;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * Stage 表示显示 canvas 内容的整个区域，所有显示对象的顶级显示容器\n     * 无法以全局方式访问 Stage 对象,而是需要利用DisplayObject实例的getStage()方法进行访问\n     * @class annie.Stage\n     * @extends annie.Sprite\n     * @public\n     * @since 1.0.0\n     */\n    var Stage = (function (_super) {\n        __extends(Stage, _super);\n        /**\n         * 显示对象入口函数\n         * @method Stage\n         * @param {string} rootDivId\n         * @param {number} desW 舞台宽\n         * @param {number} desH 舞台高\n         * @param {number} fps 刷新率\n         * @param {string} scaleMode 缩放模式 StageScaleMode\n         * @param {string} bgColor 背景颜色-1为透明\n         * @param {number} renderType 渲染模式0:canvas 1:webGl 2:dom\n         * @public\n         * @since 1.0.0\n         */\n        function Stage(rootDivId, desW, desH, frameRate, scaleMode, renderType) {\n            if (rootDivId === void 0) { rootDivId = \"annieEngine\"; }\n            if (desW === void 0) { desW = 640; }\n            if (desH === void 0) { desH = 1040; }\n            if (frameRate === void 0) { frameRate = 30; }\n            if (scaleMode === void 0) { scaleMode = \"fixedHeight\"; }\n            if (renderType === void 0) { renderType = 0; }\n            _super.call(this);\n            /**\n             * 整个引擎的最上层的div元素,\n             * 承载canvas的那个div html元素\n             * @property rootDiv\n             * @public\n             * @since 1.0.0\n             * @type {Html Div}\n             * @default null\n             */\n            this.rootDiv = null;\n            /**\n             * 当前stage所使用的渲染器\n             * 渲染器有两种,一种是canvas 一种是webGl\n             * @property renderObj\n             * @public\n             * @since 1.0.0\n             * @type {IRender}\n             * @default null\n             */\n            this.renderObj = null;\n            /**\n             * 渲染模式值 只读 CANVAS:0, webGl: 1\n             * @property renderType\n             * @readonly\n             * @public\n             * @since 1.0.0\n             * @type {number}\n             * @default 0\n             * @readonly\n             */\n            this.renderType = 0;\n            /**\n             * 如果值为true则暂停更新当前显示对象及所有子对象。在视觉上就相当于界面停止了,但一样能会接收鼠标事件<br/>\n             * 有时候背景为大量动画的一个对象时,当需要弹出一个框或者其他内容,或者模糊一个背景时可以设置此属性让<br/>\n             * 对象视觉暂停更新\n             * @property pause\n             * @type {boolean}\n             * @public\n             * @since 1.0.0\n             * @default false\n             */\n            this.pause = false;\n            /**\n             * 舞台在设备里截取后的可见区域,有些时候知道可见区域是非常重要的,因为这样你就可以根据舞台的可见区域做自适应了。\n             * @property viewRect\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {annie.Rectangle}\n             * @default {x:0,y:0,width:0,height:0}\n             * @readonly\n             * @example\n             *      //始终让一个对象顶对齐，或者\n             */\n            this.viewRect = new annie.Rectangle();\n            /**\n             * 当设备尺寸更新，或者旋转后是否自动更新方向\n             * 端默认不开启\n             * @property autoSteering\n             * @public\n             * @since 1.0.0\n             * @type {boolean}\n             * @default false\n             */\n            this.autoSteering = false;\n            /**\n             * 当设备尺寸更新，或者旋转后是否自动更新尺寸。\n             * @property autoResize\n             * @public\n             * @since 1.0.0\n             * @type {boolean}\n             * @default false\n             */\n            this.autoResize = false;\n            /**\n             * 舞台的尺寸宽,也就是我们常说的设计尺寸\n             * @property width\n             * @public\n             * @since 1.0.0\n             * @default 320\n             * @type {number}\n             * @readonly\n             */\n            this.width = 0;\n            /**\n             * 舞台的尺寸高,也就是我们常说的设计尺寸\n             * @property height\n             * @public\n             * @since 1.0.0\n             * @default 240\n             * @type {number}\n             * @readonly\n             */\n            this.height = 0;\n            /**\n             * 舞台在当前设备中的真实高\n             * @property divHeight\n             * @public\n             * @since 1.0.0\n             * @default 320\n             * @type {number}\n             * @readonly\n             */\n            this.divHeight = 0;\n            /**\n             * 舞台在当前设备中的真实宽\n             * @property divWidth\n             * @public\n             * @since 1.0.0\n             * @default 240\n             * @readonly\n             * @type {number}\n             */\n            this.divWidth = 0;\n            /**\n             * 舞台的背景色\n             * 默认就是透明背景\n             * 可能设置一个颜色值改变舞台背景\n             * @property bgColor\n             * @public\n             * @since 1.0.0\n             * @type {string}\n             * @default \"\";\n             */\n            this.bgColor = \"\";\n            /**\n             * 舞台的缩放模式\n             * 默认为空就是无缩放的真实大小\n             * \"noBorder\" 无边框模式\n             * ”showAll\" 显示所有内容\n             * “fixedWidth\" 固定宽\n             * ”fixedHeight\" 固定高\n             * @property scaleMode\n             * @public\n             * @since 1.0.0\n             * @default \"onScale\"\n             * @type {string}\n             * @example\n             *      //动态更改stage的对齐方式示例\n             *      //以下代码放到一个舞台的显示对象的构造函数中\n             *      var s=this;\n             *      s.addEventListener(annie.Event.ADD_TO_STAGE,function(e){\n             *          var i=0;\n             *          s.stage.addEventListener(annie.MouseEvent.CLICK,function(e){\n             *              var aList=[annie.StageScaleMode.EXACT_FIT,annie.StageScaleMode.NO_BORDER,annie.StageScaleMode.NO_SCALE,annie.StageScaleMode.SHOW_ALL,annie.StageScaleMode.FIXED_WIDTH,annie.StageScaleMode.FIXED_HEIGHT]\n             *              var state=e.currentTarget;\n             *              state.scaleMode=aList[i];\n             *              state.resize();\n             *              if(i>5){i=0;}\n             *          }\n             *      }\n             *\n             */\n            this.scaleMode = \"onScale\";\n            /**\n             * 原始为60的刷新速度时的计数器\n             * @property _flush\n             * @private\n             * @since 1.0.0\n             * @default 0\n             * @type {number}\n             */\n            this._flush = 0;\n            /**\n             * 当前的刷新次数计数器\n             * @property _currentFlush\n             * @private\n             * @since 1.0.0\n             * @default 0\n             * @type {number}\n             */\n            this._currentFlush = 0;\n            /**\n             * 每一次需要刷新整个引擎时积累的鼠标或触摸事件信息对象,同一刷新阶段内相同的事件类型将会被后面的同类事件覆盖\n             * @type {Object}\n             * @private\n             */\n            this._mouseEventInfo = {};\n            this._lastDpList = [];\n            /**\n             * 这个是鼠标事件的对象池,因为如果用户有监听鼠标事件,如果不建立对象池,那每一秒将会new Fps个数的事件对象,影响性能\n             * @type {Array}\n             * @private\n             */\n            this._ml = [];\n            /**\n             * 刷新mouse或者touch事件\n             * @private\n             */\n            this._mouseDownPoint = new annie.Point(0, 0);\n            /**\n             * html的鼠标或单点触摸对应的引擎事件类型名\n             * @type {{mousedown: string, mouseup: string, mousemove: string, touchstart: string, touchmove: string, touchend: string}}\n             * @private\n             */\n            this._mouseEventTypes = {\n                mousedown: \"onMouseDown\",\n                mouseup: \"onMouseUp\",\n                mousemove: \"onMouseMove\",\n                touchstart: \"onMouseDown\",\n                touchmove: \"onMouseMove\",\n                touchend: \"onMouseUp\"\n            };\n            /**\n             * 当document有鼠标或触摸事件时调用\n             * @param e\n             */\n            this.onMouseEvent = function (e) {\n                //检查是否有\n                var s = this;\n                s._mouseEventInfo[s._mouseEventTypes[e.type]] = e;\n                //阻止向下冒泡\n            };\n            /**\n             * 设置舞台的对齐模式\n             */\n            this.setAlign = function () {\n                var s = this;\n                var divH = s.divHeight * annie.devicePixelRatio;\n                var divW = s.divWidth * annie.devicePixelRatio;\n                var desH = s.height;\n                var desW = s.width;\n                //设备是否为竖屏\n                var isDivH = divH > divW;\n                //内容是否为竖屏内容\n                var isDesH = desH > desW;\n                var scaleY = 1;\n                var scaleX = 1;\n                s.x = (divW - desW) / 2;\n                s.y = (divH - desH) / 2;\n                if (s.autoSteering) {\n                    if (isDesH != isDivH) {\n                        var d = divH;\n                        divH = divW;\n                        divW = d;\n                    }\n                }\n                if (s.scaleMode != \"noScale\") {\n                    scaleY = divH / desH;\n                    scaleX = divW / desW;\n                    switch (s.scaleMode) {\n                        case \"noBorder\":\n                            if (scaleX > scaleY) {\n                                scaleY = scaleX;\n                            }\n                            else {\n                                scaleX = scaleY;\n                            }\n                            break;\n                        case \"showAll\":\n                            if (scaleX < scaleY) {\n                                scaleY = scaleX;\n                            }\n                            else {\n                                scaleX = scaleY;\n                            }\n                            break;\n                        case \"fixedWidth\":\n                            scaleY = scaleX;\n                            break;\n                        case \"fixedHeight\":\n                            scaleX = scaleY;\n                            break;\n                    }\n                }\n                s.scaleX = scaleX;\n                s.scaleY = scaleY;\n                s.viewRect.x = (desW - divW / scaleX) / 2;\n                s.viewRect.y = (desH - divH / scaleY) / 2;\n                s.viewRect.width = desW - s.viewRect.x * 2;\n                s.viewRect.height = desH - s.viewRect.y * 2;\n                if (s.autoSteering) {\n                    if (isDesH == isDivH) {\n                        s.rotation = 0;\n                    }\n                    else {\n                        s.rotation = 90;\n                    }\n                }\n                else {\n                    s.rotation = 0;\n                }\n            };\n            /**\n             * 当舞台尺寸发生改变时,如果stage autoResize 为 true，则此方法会自己调用；\n             * 如果设置stage autoResize 为 false 你需要手动调用此方法以更新界面.\n             * 不管autoResize 的状态是什么，你只要侦听 了stage 的 annie.Event.RESIZE 事件\n             * 都可以接收到舞台变化的通知。\n             * @method resize\n             * @public\n             * @since 1.0.0\n             * @\n             */\n            this.resize = function () {\n                var s = this;\n                var whObj = s.getRootDivWH(s.rootDiv);\n                //这里判断\n                if ((s.divWidth + s.divHeight) == 0 || Math.abs((whObj.h + whObj.w) - (s.divWidth + s.divHeight)) < 100) {\n                    s.divHeight = whObj.h;\n                    s.divWidth = whObj.w;\n                    s.renderObj.reSize();\n                    s.setAlign();\n                }\n            };\n            var s = this;\n            s.stage = this;\n            if (annie.osType == \"pc\") {\n                s.autoResize = true;\n            }\n            else {\n                s.autoSteering = true;\n                s.autoResize = true;\n            }\n            s._lastMousePoint = new annie.Point();\n            s.name = \"stageInstance_\" + s.getInstanceId();\n            var div = document.getElementById(rootDivId);\n            s.renderType = renderType;\n            s.width = desW;\n            s.height = desH;\n            s.rootDiv = div;\n            s.setFrameRate(frameRate);\n            s.scaleMode = scaleMode;\n            s.anchorX = desW / 2;\n            s.anchorY = desH / 2;\n            if (renderType == 0) {\n                //canvas\n                s.renderObj = new annie.CanvasRender(s);\n            }\n            else {\n                //webgl\n                s.renderObj = new annie.WGRender(s);\n            }\n            s.renderObj.init();\n            window.addEventListener(\"resize\", function (e) {\n                if (s.autoResize) {\n                    s.resize();\n                }\n                var event = new annie.Event(\"onResize\");\n                s.dispatchEvent(event);\n            });\n            setTimeout(function () {\n                s.resize();\n                s.update();\n                //同时添加到主更新循环中\n                Stage.addUpdateObj(s);\n                //告诉大家我初始化完成\n                //判断debug,如果debug等于true并且之前没有加载过则加载debug所需要的js文件\n                if (annie.debug && !Stage._isLoadedVConsole) {\n                    var script = document.createElement(\"script\");\n                    script.onload = function () {\n                        s.dispatchEvent(new annie.Event(\"onInitStage\"));\n                        script.onload = null;\n                    };\n                    document.head.appendChild(script);\n                    script.src = \"libs/vConsole.min.js\";\n                }\n                else {\n                    s.dispatchEvent(new annie.Event(\"onInitStage\"));\n                }\n            }, 100);\n            var rc = s.renderObj.rootContainer;\n            var mouseEvent = s.onMouseEvent.bind(s);\n            if (annie.osType != \"pc\") {\n                rc.addEventListener(\"touchstart\", mouseEvent);\n                rc.addEventListener('touchmove', mouseEvent);\n                rc.addEventListener('touchend', mouseEvent);\n            }\n            else {\n                rc.addEventListener(\"mousedown\", mouseEvent);\n                rc.addEventListener('mousemove', mouseEvent);\n                rc.addEventListener('mouseup', mouseEvent);\n            }\n        }\n        /**\n         * 刷新函数\n         * @method update\n         */\n        Stage.prototype.update = function () {\n            var s = this;\n            if (!s.pause) {\n                _super.prototype.update.call(this);\n            }\n        };\n        /**\n         * 渲染函数\n         * @method render\n         * @param renderObj\n         */\n        Stage.prototype.render = function (renderObj) {\n            if (!this.pause) {\n                renderObj.begin();\n                _super.prototype.render.call(this, renderObj);\n            }\n            //检查mouse或touch事件是否有，如果有的话，就触发事件函数\n            if (annie.EventDispatcher._totalMEC > 0) {\n                this._mt();\n            }\n        };\n        Stage.prototype._initMouseEvent = function (event, cp, sp) {\n            event[\"_pd\"] = false;\n            event.clientX = cp.x;\n            event.clientY = cp.y;\n            event.stageX = sp.x;\n            event.stageY = sp.y;\n        };\n        Stage.prototype._mt = function () {\n            var s = this;\n            var mt = s._mouseEventInfo;\n            var points;\n            var events = [];\n            var event;\n            //stageMousePoint\n            var sp;\n            //localPoint;\n            var lp;\n            //clientPoint\n            var cp;\n            //事件个数\n            var eLen = 0;\n            for (var item in mt) {\n                if (annie.osType == \"pc\") {\n                    points = [mt[item]];\n                }\n                else {\n                    if (mt[item].targetTouches) {\n                        points = mt[item].targetTouches;\n                    }\n                }\n                if (points && points.length > 0) {\n                    s._lastMousePoint.x = (points[0].clientX - points[0].target.offsetLeft) * annie.devicePixelRatio;\n                    s._lastMousePoint.y = (points[0].clientY - points[0].target.offsetTop) * annie.devicePixelRatio;\n                }\n                //这个地方检查是所有显示对象列表里是否有添加任何鼠标或触碰事件,有的话就检测,没有的话就算啦。\n                cp = s._lastMousePoint;\n                sp = s.globalToLocal(cp, annie.DisplayObject._bp);\n                if (annie.EventDispatcher.getMouseEventCount(item) > 0) {\n                    if (!s._ml[eLen]) {\n                        event = new annie.MouseEvent(item);\n                        s._ml[eLen] = event;\n                    }\n                    else {\n                        event = s._ml[eLen];\n                        event.type = item;\n                    }\n                    events.push(event);\n                    s._initMouseEvent(event, cp, sp);\n                    eLen++;\n                }\n                if (item == \"onMouseDown\") {\n                    s._mouseDownPoint.x = cp.x;\n                    s._mouseDownPoint.y = cp.y;\n                    //清空上次存在的显示列表\n                    s._lastDpList = null;\n                }\n                else if (item == \"onMouseUp\") {\n                    if (Math.abs(s._mouseDownPoint.x - cp.x) <= 1 && Math.abs(s._mouseDownPoint.y - cp.y) <= 1) {\n                        //click事件\n                        //这个地方检查是所有显示对象列表里是否有添加对应的事件\n                        if (annie.EventDispatcher.getMouseEventCount(\"onMouseClick\") > 0) {\n                            if (!s._ml[eLen]) {\n                                event = new annie.MouseEvent(\"onMouseClick\");\n                                s._ml[eLen] = event;\n                            }\n                            else {\n                                event = s._ml[eLen];\n                                event.type = \"onMouseClick\";\n                            }\n                            events.push(event);\n                            s._initMouseEvent(event, cp, sp);\n                            eLen++;\n                        }\n                    }\n                }\n            }\n            if (eLen > 0) {\n                //证明有事件那么就开始遍历显示列表。就算有多个事件也不怕，因为坐标点相同，所以只需要遍历一次\n                var d = s.hitTestPoint(cp, true);\n                var displayList = [];\n                if (d) {\n                    //证明有点击到事件,然后从最底层追上来,看看一路是否有人添加过mouse或touch事件,还要考虑mousechildren和阻止事件方法\n                    //找出真正的target,因为有些父级可能会mouseChildren=false;\n                    while (d) {\n                        if (d[\"mouseChildren\"] === false) {\n                            //丢掉之前的层级,因为根本没用了\n                            displayList.length = 0;\n                        }\n                        displayList.push(d);\n                        d = d.parent;\n                    }\n                }\n                else {\n                    displayList.push(s);\n                }\n                var len = displayList.length;\n                displayList.reverse();\n                for (var i = 0; i < len; i++) {\n                    d = displayList[i];\n                    for (var j = 0; j < eLen; j++) {\n                        if (events[j][\"_pd\"] === false) {\n                            if (d.hasEventListener(events[j].type)) {\n                                events[j].currentTarget = d;\n                                events[j].target = displayList[len - 1];\n                                lp = d.globalToLocal(cp);\n                                events[j].localX = lp.x;\n                                events[j].localY = lp.y;\n                                d.dispatchEvent(events[j]);\n                            }\n                        }\n                    }\n                }\n                //最后要和上一次的遍历者对比下，如果不相同则要触发onMouseOver和onMouseOut\n                if (s._lastDpList) {\n                    //从第二个开始，因为第一个对象始终是stage顶级对象\n                    var len1 = s._lastDpList.length;\n                    var len2 = displayList.length;\n                    len = len1 > len2 ? len1 : len2;\n                    var isDiff = false;\n                    var overEvent;\n                    var outEvent;\n                    for (var i = 1; i < len; i++) {\n                        if (!isDiff) {\n                            if (s._lastDpList[i] != displayList[i]) {\n                                //好就是这里，需要确定哪些有onMouseOver,哪些有onMouseOut\n                                isDiff = true;\n                                if (!s._ml[eLen]) {\n                                    overEvent = new annie.MouseEvent(\"onMouseOver\");\n                                    s._ml[eLen] = overEvent;\n                                }\n                                else {\n                                    overEvent = s._ml[eLen];\n                                    overEvent.type = \"onMouseOver\";\n                                }\n                                s._initMouseEvent(overEvent, cp, sp);\n                                eLen++;\n                                if (!s._ml[eLen]) {\n                                    outEvent = new annie.MouseEvent(\"onMouseOut\");\n                                    s._ml[eLen] = outEvent;\n                                }\n                                else {\n                                    outEvent = s._ml[eLen];\n                                    outEvent.type = \"onMouseOut\";\n                                }\n                                s._initMouseEvent(outEvent, cp, sp);\n                            }\n                        }\n                        if (isDiff) {\n                            if (s._lastDpList[i]) {\n                                //触发onMouseOut事件\n                                if (outEvent[\"_pd\"] === false) {\n                                    d = s._lastDpList[i];\n                                    if (d.hasEventListener(\"onMouseOut\")) {\n                                        outEvent.currentTarget = d;\n                                        outEvent.target = s._lastDpList[len1 - 1];\n                                        lp = d.globalToLocal(cp);\n                                        outEvent.localX = lp.x;\n                                        outEvent.localY = lp.y;\n                                        d.dispatchEvent(outEvent);\n                                    }\n                                }\n                            }\n                            if (displayList[i]) {\n                                //触发onMouseOver事件\n                                if (overEvent[\"_pd\"] === false) {\n                                    d = displayList[i];\n                                    if (d.hasEventListener(\"onMouseOver\")) {\n                                        overEvent.currentTarget = d;\n                                        overEvent.target = displayList[len2 - 1];\n                                        lp = d.globalToLocal(cp);\n                                        overEvent.localX = lp.x;\n                                        overEvent.localY = lp.y;\n                                        d.dispatchEvent(overEvent);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n                s._lastDpList = displayList;\n            }\n            s._mouseEventInfo = {};\n        };\n        /**\n         * 循环刷新页面的函数\n         */\n        Stage.prototype.flush = function () {\n            var s = this;\n            if (s._flush == 0) {\n                s.update();\n                s.render(s.renderObj);\n            }\n            else {\n                //将更新和渲染分放到两个不同的时间更新值来执行,这样可以减轻cpu同时执行的压力。\n                if (s._currentFlush == 0) {\n                    s.update();\n                    s._currentFlush = s._flush;\n                }\n                else {\n                    if (s._currentFlush == s._flush) {\n                        s.render(s.renderObj);\n                    }\n                    s._currentFlush--;\n                }\n            }\n        };\n        /**\n         * 引擎的刷新率,就是一秒中执行多少次刷新\n         * @method setFrameRate\n         * @param {number} fps 最好是60的倍数如 1 2 3 6 10 12 15 20 30 60\n         * @since 1.0.0\n         * @public\n         */\n        Stage.prototype.setFrameRate = function (fps) {\n            var s = this;\n            s._flush = 60 / fps - 1 >> 0;\n            if (s._flush < 0) {\n                s._flush = 0;\n            }\n        };\n        /**\n         * 引擎的刷新率,就是一秒中执行多少次刷新\n         * @method getFrameRate\n         * @since 1.0.0\n         * @public\n         */\n        Stage.prototype.getFrameRate = function () {\n            return 60 / (this._flush + 1);\n        };\n        /**\n         * 获取引擎所在的div宽高\n         * @method getRootDivWH\n         * @public\n         * @since 1.0.0\n         * @param {HTMLDivElement} div\n         * @returns {{w: number, h: number}}\n         */\n        Stage.prototype.getRootDivWH = function (div) {\n            var sw = div.style.width;\n            var sh = div.style.height;\n            var iw = window.innerWidth\n                || document.documentElement.clientWidth\n                || document.body.clientWidth;\n            var ih = window.innerHeight || document.documentElement.clientHeight\n                || document.body.clientHeight;\n            var vW = parseInt(sw);\n            var vH = parseInt(sh);\n            if (vW.toString() == \"NaN\") {\n                vW = iw;\n            }\n            else {\n                if (sw.indexOf(\"%\") > 0) {\n                    vW *= iw / 100;\n                }\n            }\n            if (vH.toString() == \"NaN\") {\n                vH = ih;\n            }\n            else {\n                if (sh.indexOf(\"%\") > 0) {\n                    vH *= ih / 100;\n                }\n            }\n            return { w: vW, h: vH };\n        };\n        /**\n         * 当一个stage不再需要使用,或者要从浏览器移除之前,请先停止它,避免内存泄漏\n         * @method kill\n         * @since 1.0.0\n         * @public\n         */\n        Stage.prototype.kill = function () {\n            Stage.removeUpdateObj(this);\n        };\n        Stage.prototype.getBounds = function () {\n            return this.viewRect;\n        };\n        /**\n         *\n         */\n        Stage.flushAll = function () {\n            var len = Stage.allUpdateObjList.length;\n            for (var i = 0; i < len; i++) {\n                Stage.allUpdateObjList[i] && Stage.allUpdateObjList[i].flush();\n            }\n            requestAnimationFrame(Stage.flushAll);\n        };\n        /**\n         * 添加一个刷新对象，这个对象里一定要有一个 flush 函数。\n         * 因为一但添加，这个对象的 flush 函数会以stage的fps间隔调用\n         * 如，你的stage是30fps 那么你这个对象的 flush 函数1秒会调用30次。\n         * @method addUpdateObj\n         * @param target 要循化调用 flush 函数的对象\n         * @public\n         * @since\n         */\n        Stage.addUpdateObj = function (target) {\n            var isHave = false;\n            var len = Stage.allUpdateObjList.length;\n            for (var i = 0; i < len; i++) {\n                if (Stage.allUpdateObjList[i] === target) {\n                    isHave = true;\n                    break;\n                }\n            }\n            if (!isHave) {\n                Stage.allUpdateObjList.push(target);\n            }\n        };\n        /**\n         * 移除掉已经添加的循环刷新对象\n         * @method removeUpdateObj\n         * @param target\n         * @private\n         * @since 1.0.0\n         */\n        Stage.removeUpdateObj = function (target) {\n            var len = Stage.allUpdateObjList.length;\n            for (var i = 0; i < len; i++) {\n                if (Stage.allUpdateObjList[i] === target) {\n                    Stage.allUpdateObjList.splice(i, 1);\n                    break;\n                }\n            }\n        };\n        /**\n         * 上一次鼠标或触碰经过的显示对象列表\n         * @type {Array}\n         * @private\n         */\n        Stage._isLoadedVConsole = false;\n        /**\n         * 要循环调用 flush 函数对象列表\n         * @type {Array}\n         */\n        Stage.allUpdateObjList = [];\n        return Stage;\n    }(annie.Sprite));\n    annie.Stage = Stage;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 投影或者发光滤镜\n     * @class annie.ShadowFilter\n     * @extends annie.AObject\n     * @public\n     * @since 1.0.0\n     */\n    var ShadowFilter = (function (_super) {\n        __extends(ShadowFilter, _super);\n        /**\n         * @method ShadowFilter\n         * @param {string} color\n         * @param {number} offsetX\n         * @param {number} offsetY\n         * @param {number} blur\n         */\n        function ShadowFilter(color, offsetX, offsetY, blur) {\n            if (color === void 0) { color = \"black\"; }\n            if (offsetX === void 0) { offsetX = 2; }\n            if (offsetY === void 0) { offsetY = 2; }\n            if (blur === void 0) { blur = 2; }\n            _super.call(this);\n            /**\n             * 颜色值\n             * @property color\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @default black\n             * @type {string}\n             */\n            this.color = \"black\";\n            /**\n             * x方向投影距离\n             * @property offsetX\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @default 2\n             * @type {number}\n             */\n            this.offsetX = 2;\n            /**\n             * y方向投影距离\n             * @property offsetY\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @default 2\n             * @type {number}\n             */\n            this.offsetY = 2;\n            /**\n             * 模糊值\n             * @property blur\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @default 2\n             * @type {number}\n             */\n            this.blur = 2;\n            /**\n             * 滤镜类型 只读\n             * @property color\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @default Shadow\n             * @type {string}\n             */\n            this.type = \"Shadow\";\n            var s = this;\n            s.offsetX = offsetX;\n            s.offsetY = offsetY;\n            s.blur = blur;\n            s.color = color;\n        }\n        /**\n         *获取滤镜的字符串表现形式以方便比较两个滤镜是否效果一样\n         * @method toString\n         * @public\n         * @since 1.0.0\n         * @return {string}\n         */\n        ShadowFilter.prototype.toString = function () {\n            var s = this;\n            return s.type + s.offsetX + s.offsetY + s.blur + s.color;\n        };\n        /**\n         * 绘画滤镜效果\n         * @method drawFilter\n         * @public\n         * @since 1.0.0\n         * @param {ImageData} imageData\n         */\n        ShadowFilter.prototype.drawFilter = function (imageData) {\n            if (imageData === void 0) { imageData = null; }\n            //什么也不要做\n        };\n        return ShadowFilter;\n    }(annie.AObject));\n    annie.ShadowFilter = ShadowFilter;\n    /**\n     * 普通变色滤镜\n     * @class annie.ColorFilter\n     * @extends annie.AObject\n     * @public\n     * @since 1.0.0\n     */\n    var ColorFilter = (function (_super) {\n        __extends(ColorFilter, _super);\n        /**\n         * @method ColorFilter\n         * @param {number} redMultiplier\n         * @param {number} greenMultiplier\n         * @param {number} blueMultiplier\n         * @param {number} alphaMultiplier\n         * @param {number} redOffset\n         * @param {number} greenOffset\n         * @param {number} blueOffset\n         * @param {number} alphaOffset\n         */\n        function ColorFilter(redMultiplier, greenMultiplier, blueMultiplier, alphaMultiplier, redOffset, greenOffset, blueOffset, alphaOffset) {\n            if (redMultiplier === void 0) { redMultiplier = 1; }\n            if (greenMultiplier === void 0) { greenMultiplier = 1; }\n            if (blueMultiplier === void 0) { blueMultiplier = 1; }\n            if (alphaMultiplier === void 0) { alphaMultiplier = 1; }\n            if (redOffset === void 0) { redOffset = 0; }\n            if (greenOffset === void 0) { greenOffset = 0; }\n            if (blueOffset === void 0) { blueOffset = 0; }\n            if (alphaOffset === void 0) { alphaOffset = 0; }\n            _super.call(this);\n            /**\n             * @property redMultiplier\n             * @public\n             * @since 1.0.0\n             * @readonly\n             * @type {number}\n             */\n            this.redMultiplier = 0;\n            /**\n             * @property redOffset\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.redOffset = 0;\n            /**\n             * @property greenMultiplier\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.greenMultiplier = 0;\n            /**\n             * @property greenOffset\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.greenOffset = 0;\n            /**\n             * @property blueMultiplier\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.blueMultiplier = 0;\n            /**\n             * @property blueOffset\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.blueOffset = 0;\n            /**\n             * @property alphaMultiplier\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.alphaMultiplier = 0;\n            /**\n             * @property alphaOffset\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.alphaOffset = 0;\n            /**\n             * @property type\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {string}\n             */\n            this.type = \"Color\";\n            var s = this;\n            s.redMultiplier = redMultiplier;\n            s.greenMultiplier = greenMultiplier;\n            s.blueMultiplier = blueMultiplier;\n            s.alphaMultiplier = alphaMultiplier;\n            s.redOffset = redOffset;\n            s.greenOffset = greenOffset;\n            s.blueOffset = blueOffset;\n            s.alphaOffset = alphaOffset;\n        }\n        /**\n         * 绘画滤镜效果\n         * @method drawFilter\n         * @param {ImageData} imageData\n         * @since 1.0.0\n         * @public\n         */\n        ColorFilter.prototype.drawFilter = function (imageData) {\n            if (imageData === void 0) { imageData = null; }\n            if (!imageData)\n                return;\n            var s = this;\n            var data = imageData.data;\n            var l = data.length;\n            for (var i = 0; i < l; i += 4) {\n                data[i] = data[i] * s.redMultiplier + s.redOffset;\n                data[i + 1] = data[i + 1] * s.greenMultiplier + s.greenOffset;\n                data[i + 2] = data[i + 2] * s.blueMultiplier + s.blueOffset;\n                data[i + 3] = data[i + 3] * s.alphaMultiplier + s.alphaOffset;\n            }\n        };\n        /**\n         *获取滤镜的字符串表现形式以方便比较两个滤镜是否效果一样\n         * @method toString\n         * @public\n         * @since 1.0.0\n         * @return {string}\n         */\n        ColorFilter.prototype.toString = function () {\n            var s = this;\n            return s.type + s.redMultiplier + s.greenMultiplier + s.blueMultiplier + s.alphaMultiplier + s.redOffset + s.greenOffset + s.blueOffset + s.alphaOffset;\n        };\n        return ColorFilter;\n    }(annie.AObject));\n    annie.ColorFilter = ColorFilter;\n    /**\n     * 矩阵变色滤镜\n     * @class annie.ColorMatrixFilter\n     * @extends annie.AObject\n     * @public\n     * @since 1.0.0\n     */\n    var ColorMatrixFilter = (function (_super) {\n        __extends(ColorMatrixFilter, _super);\n        /**\n         * @method ColorMatrixFilter\n         * @param {number} brightness\n         * @param {number} contrast\n         * @param {number} saturation\n         * @param {number} hue\n         * @public\n         * @since 1.0.0\n         */\n        function ColorMatrixFilter(brightness, contrast, saturation, hue) {\n            _super.call(this);\n            /**\n             * @property brightness\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.brightness = 0;\n            /**\n             * @property contrast\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.contrast = 0;\n            /**\n             * @property saturation\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.saturation = 0;\n            /**\n             * @property hue\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.hue = 0;\n            /**\n             * 滤镜类型 只读\n             * @property type\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {string}\n             */\n            this.type = \"ColorMatrix\";\n            var s = this;\n            s.brightness = brightness;\n            s.contrast = contrast;\n            s.saturation = saturation;\n            s.hue = hue;\n            s.colorMatrix = [\n                1, 0, 0, 0, 0,\n                0, 1, 0, 0, 0,\n                0, 0, 1, 0, 0,\n                0, 0, 0, 1, 0,\n                0, 0, 0, 0, 1\n            ];\n            //brightness\n            brightness = s._cleanValue(brightness, 255);\n            if (brightness != 0) {\n                s._multiplyMatrix([\n                    1, 0, 0, 0, brightness,\n                    0, 1, 0, 0, brightness,\n                    0, 0, 1, 0, brightness,\n                    0, 0, 0, 1, 0,\n                    0, 0, 0, 0, 1\n                ]);\n            }\n            //contrast\n            contrast = this._cleanValue(contrast, 100);\n            var x;\n            if (contrast != 0) {\n                if (contrast < 0) {\n                    x = 127 + contrast / 100 * 127;\n                }\n                else {\n                    x = contrast % 1;\n                    if (x == 0) {\n                        x = ColorMatrixFilter.DELTA_INDEX[contrast];\n                    }\n                    else {\n                        x = ColorMatrixFilter.DELTA_INDEX[(contrast << 0)] * (1 - x) + ColorMatrixFilter.DELTA_INDEX[(contrast << 0) + 1] * x; // use linear interpolation for more granularity.\n                    }\n                    x = x * 127 + 127;\n                }\n                s._multiplyMatrix([\n                    x / 127, 0, 0, 0, 0.5 * (127 - x),\n                    0, x / 127, 0, 0, 0.5 * (127 - x),\n                    0, 0, x / 127, 0, 0.5 * (127 - x),\n                    0, 0, 0, 1, 0,\n                    0, 0, 0, 0, 1\n                ]);\n            }\n            //saturation\n            saturation = this._cleanValue(saturation, 100);\n            if (saturation != 0) {\n                x = 1 + ((saturation > 0) ? 3 * saturation / 100 : saturation / 100);\n                var lumR = 0.3086;\n                var lumG = 0.6094;\n                var lumB = 0.0820;\n                s._multiplyMatrix([\n                    lumR * (1 - x) + x, lumG * (1 - x), lumB * (1 - x), 0, 0,\n                    lumR * (1 - x), lumG * (1 - x) + x, lumB * (1 - x), 0, 0,\n                    lumR * (1 - x), lumG * (1 - x), lumB * (1 - x) + x, 0, 0,\n                    0, 0, 0, 1, 0,\n                    0, 0, 0, 0, 1\n                ]);\n            }\n            //hue\n            hue = this._cleanValue(hue, 180) / 180 * Math.PI;\n            if (hue != 0) {\n                var cosVal = Math.cos(hue);\n                var sinVal = Math.sin(hue);\n                var lumR = 0.213;\n                var lumG = 0.715;\n                var lumB = 0.072;\n                s._multiplyMatrix([\n                    lumR + cosVal * (1 - lumR) + sinVal * (-lumR), lumG + cosVal * (-lumG) + sinVal * (-lumG), lumB + cosVal * (-lumB) + sinVal * (1 - lumB), 0, 0,\n                    lumR + cosVal * (-lumR) + sinVal * (0.143), lumG + cosVal * (1 - lumG) + sinVal * (0.140), lumB + cosVal * (-lumB) + sinVal * (-0.283), 0, 0,\n                    lumR + cosVal * (-lumR) + sinVal * (-(1 - lumR)), lumG + cosVal * (-lumG) + sinVal * (lumG), lumB + cosVal * (1 - lumB) + sinVal * (lumB), 0, 0,\n                    0, 0, 0, 1, 0,\n                    0, 0, 0, 0, 1\n                ]);\n            }\n        }\n        /**\n         * 绘画滤镜效果\n         * @method drawFilter\n         * @param {ImageData} imageData\n         * @since 1.0.0\n         * @public\n         */\n        ColorMatrixFilter.prototype.drawFilter = function (imageData) {\n            if (imageData === void 0) { imageData = null; }\n            if (!imageData)\n                return;\n            var data = imageData.data;\n            var l = data.length;\n            var r, g, b, a;\n            var mtx = this.colorMatrix;\n            var m0 = mtx[0], m1 = mtx[1], m2 = mtx[2], m3 = mtx[3], m4 = mtx[4];\n            var m5 = mtx[5], m6 = mtx[6], m7 = mtx[7], m8 = mtx[8], m9 = mtx[9];\n            var m10 = mtx[10], m11 = mtx[11], m12 = mtx[12], m13 = mtx[13], m14 = mtx[14];\n            var m15 = mtx[15], m16 = mtx[16], m17 = mtx[17], m18 = mtx[18], m19 = mtx[19];\n            for (var i = 0; i < l; i += 4) {\n                r = data[i];\n                g = data[i + 1];\n                b = data[i + 2];\n                a = data[i + 3];\n                data[i] = r * m0 + g * m1 + b * m2 + a * m3 + m4; //red\n                data[i + 1] = r * m5 + g * m6 + b * m7 + a * m8 + m9; //green\n                data[i + 2] = r * m10 + g * m11 + b * m12 + a * m13 + m14; //blue\n                data[i + 3] = r * m15 + g * m16 + b * m17 + a * m18 + m19; //alpha\n            }\n        };\n        ColorMatrixFilter.prototype._multiplyMatrix = function (colorMat) {\n            var i, j, k, col = [];\n            for (i = 0; i < 5; i++) {\n                for (j = 0; j < 5; j++) {\n                    col[j] = this.colorMatrix[j + i * 5];\n                }\n                for (j = 0; j < 5; j++) {\n                    var val = 0;\n                    for (k = 0; k < 5; k++) {\n                        val += colorMat[j + k * 5] * col[k];\n                    }\n                    this.colorMatrix[j + i * 5] = val;\n                }\n            }\n        };\n        ColorMatrixFilter.prototype._cleanValue = function (value, limit) {\n            return Math.min(limit, Math.max(-limit, value));\n        };\n        /**\n         *获取滤镜的字符串表现形式以方便比较两个滤镜是否效果一样\n         * @method toString\n         * @public\n         * @since 1.0.0\n         * @return {string}\n         */\n        ColorMatrixFilter.prototype.toString = function () {\n            var s = this;\n            return s.type + s.brightness + s.hue + s.saturation + s.contrast;\n        };\n        ColorMatrixFilter.DELTA_INDEX = [\n            0, 0.01, 0.02, 0.04, 0.05, 0.06, 0.07, 0.08, 0.1, 0.11,\n            0.12, 0.14, 0.15, 0.16, 0.17, 0.18, 0.20, 0.21, 0.22, 0.24,\n            0.25, 0.27, 0.28, 0.30, 0.32, 0.34, 0.36, 0.38, 0.40, 0.42,\n            0.44, 0.46, 0.48, 0.5, 0.53, 0.56, 0.59, 0.62, 0.65, 0.68,\n            0.71, 0.74, 0.77, 0.80, 0.83, 0.86, 0.89, 0.92, 0.95, 0.98,\n            1.0, 1.06, 1.12, 1.18, 1.24, 1.30, 1.36, 1.42, 1.48, 1.54,\n            1.60, 1.66, 1.72, 1.78, 1.84, 1.90, 1.96, 2.0, 2.12, 2.25,\n            2.37, 2.50, 2.62, 2.75, 2.87, 3.0, 3.2, 3.4, 3.6, 3.8,\n            4.0, 4.3, 4.7, 4.9, 5.0, 5.5, 6.0, 6.5, 6.8, 7.0,\n            7.3, 7.5, 7.8, 8.0, 8.4, 8.7, 9.0, 9.4, 9.6, 9.8,\n            10.0\n        ];\n        return ColorMatrixFilter;\n    }(annie.AObject));\n    annie.ColorMatrixFilter = ColorMatrixFilter;\n    /**\n     * 模糊滤镜\n     * @class annie.BlurFilter\n     * @extends annie.AOjbect\n     * @public\n     * @since 1.0.0\n     */\n    var BlurFilter = (function (_super) {\n        __extends(BlurFilter, _super);\n        /**\n         * @method BlurFilter\n         * @public\n         * @since 1.0.0\n         * @param {number} blurX\n         * @param {number} blurY\n         * @param {number} quality\n         */\n        function BlurFilter(blurX, blurY, quality) {\n            if (blurX === void 0) { blurX = 2; }\n            if (blurY === void 0) { blurY = 2; }\n            if (quality === void 0) { quality = 1; }\n            _super.call(this);\n            /**\n             * 滤镜类型 只读\n             * @property type\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {string}\n             */\n            this.type = \"blur\";\n            /**\n             * @property blurX\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.blurX = 0;\n            /**\n             * @property blurY\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.blurY = 0;\n            /**\n             * @property quality\n             * @public\n             * @readonly\n             * @since 1.0.0\n             * @type {number}\n             */\n            this.quality = 1;\n            var s = this;\n            s.blurX = blurX > 8 ? 8 : blurX;\n            s.blurY = blurY > 8 ? 8 : blurY;\n            s.quality = quality > 3 ? 3 : quality;\n        }\n        /**\n         *获取滤镜的字符串表现形式以方便比较两个滤镜是否效果一样\n         * @method toString\n         * @public\n         * @since 1.0.0\n         * @return {string}\n         */\n        BlurFilter.prototype.toString = function () {\n            var s = this;\n            return s.type + s.blurX + s.blurY + s.quality;\n        };\n        /**\n         * 绘画滤镜效果\n         * @method drawFilter\n         * @param {ImageData} imageData\n         * @since 1.0.0\n         * @public\n         */\n        BlurFilter.prototype.drawFilter = function (imageData) {\n            if (imageData === void 0) { imageData = null; }\n            var s = this;\n            var radiusX = s.blurX >> 1;\n            if (isNaN(radiusX) || radiusX < 0)\n                return false;\n            var radiusY = s.blurY >> 1;\n            if (isNaN(radiusY) || radiusY < 0)\n                return false;\n            if (radiusX == 0 && radiusY == 0)\n                return false;\n            var iterations = s.quality;\n            if (isNaN(iterations) || iterations < 1)\n                iterations = 1;\n            iterations |= 0;\n            if (iterations > 3)\n                iterations = 3;\n            if (iterations < 1)\n                iterations = 1;\n            var px = imageData.data;\n            var x = 0, y = 0, i = 0, p = 0, yp = 0, yi = 0, yw = 0, r = 0, g = 0, b = 0, a = 0, pr = 0, pg = 0, pb = 0, pa = 0;\n            var divx = (radiusX + radiusX + 1) | 0;\n            var divy = (radiusY + radiusY + 1) | 0;\n            var w = imageData.width | 0;\n            var h = imageData.height | 0;\n            var w1 = (w - 1) | 0;\n            var h1 = (h - 1) | 0;\n            var rxp1 = (radiusX + 1) | 0;\n            var ryp1 = (radiusY + 1) | 0;\n            var ssx = { r: 0, b: 0, g: 0, a: 0 };\n            var sx = ssx;\n            for (i = 1; i < divx; i++) {\n                sx = sx.n = { r: 0, b: 0, g: 0, a: 0 };\n            }\n            sx.n = ssx;\n            var ssy = { r: 0, b: 0, g: 0, a: 0 };\n            var sy = ssy;\n            for (i = 1; i < divy; i++) {\n                sy = sy.n = { r: 0, b: 0, g: 0, a: 0 };\n            }\n            sy.n = ssy;\n            var si = null;\n            var mtx = BlurFilter.MUL_TABLE[radiusX] | 0;\n            var stx = BlurFilter.SHG_TABLE[radiusX] | 0;\n            var mty = BlurFilter.MUL_TABLE[radiusY] | 0;\n            var sty = BlurFilter.SHG_TABLE[radiusY] | 0;\n            while (iterations-- > 0) {\n                yw = yi = 0;\n                var ms = mtx;\n                var ss = stx;\n                for (y = h; --y > -1;) {\n                    r = rxp1 * (pr = px[(yi) | 0]);\n                    g = rxp1 * (pg = px[(yi + 1) | 0]);\n                    b = rxp1 * (pb = px[(yi + 2) | 0]);\n                    a = rxp1 * (pa = px[(yi + 3) | 0]);\n                    sx = ssx;\n                    for (i = rxp1; --i > -1;) {\n                        sx.r = pr;\n                        sx.g = pg;\n                        sx.b = pb;\n                        sx.a = pa;\n                        sx = sx.n;\n                    }\n                    for (i = 1; i < rxp1; i++) {\n                        p = (yi + ((w1 < i ? w1 : i) << 2)) | 0;\n                        r += (sx.r = px[p]);\n                        g += (sx.g = px[p + 1]);\n                        b += (sx.b = px[p + 2]);\n                        a += (sx.a = px[p + 3]);\n                        sx = sx.n;\n                    }\n                    si = ssx;\n                    for (x = 0; x < w; x++) {\n                        px[yi++] = (r * ms) >>> ss;\n                        px[yi++] = (g * ms) >>> ss;\n                        px[yi++] = (b * ms) >>> ss;\n                        px[yi++] = (a * ms) >>> ss;\n                        p = ((yw + ((p = x + radiusX + 1) < w1 ? p : w1)) << 2);\n                        r -= si.r - (si.r = px[p]);\n                        g -= si.g - (si.g = px[p + 1]);\n                        b -= si.b - (si.b = px[p + 2]);\n                        a -= si.a - (si.a = px[p + 3]);\n                        si = si.n;\n                    }\n                    yw += w;\n                }\n                ms = mty;\n                ss = sty;\n                for (x = 0; x < w; x++) {\n                    yi = (x << 2) | 0;\n                    r = (ryp1 * (pr = px[yi])) | 0;\n                    g = (ryp1 * (pg = px[(yi + 1) | 0])) | 0;\n                    b = (ryp1 * (pb = px[(yi + 2) | 0])) | 0;\n                    a = (ryp1 * (pa = px[(yi + 3) | 0])) | 0;\n                    sy = ssy;\n                    for (i = 0; i < ryp1; i++) {\n                        sy.r = pr;\n                        sy.g = pg;\n                        sy.b = pb;\n                        sy.a = pa;\n                        sy = sy.n;\n                    }\n                    yp = w;\n                    for (i = 1; i <= radiusY; i++) {\n                        yi = (yp + x) << 2;\n                        r += (sy.r = px[yi]);\n                        g += (sy.g = px[yi + 1]);\n                        b += (sy.b = px[yi + 2]);\n                        a += (sy.a = px[yi + 3]);\n                        sy = sy.n;\n                        if (i < h1) {\n                            yp += w;\n                        }\n                    }\n                    yi = x;\n                    si = ssy;\n                    if (iterations > 0) {\n                        for (y = 0; y < h; y++) {\n                            p = yi << 2;\n                            px[p + 3] = pa = (a * ms) >>> ss;\n                            if (pa > 0) {\n                                px[p] = ((r * ms) >>> ss);\n                                px[p + 1] = ((g * ms) >>> ss);\n                                px[p + 2] = ((b * ms) >>> ss);\n                            }\n                            else {\n                                px[p] = px[p + 1] = px[p + 2] = 0;\n                            }\n                            p = (x + (((p = y + ryp1) < h1 ? p : h1) * w)) << 2;\n                            r -= si.r - (si.r = px[p]);\n                            g -= si.g - (si.g = px[p + 1]);\n                            b -= si.b - (si.b = px[p + 2]);\n                            a -= si.a - (si.a = px[p + 3]);\n                            si = si.n;\n                            yi += w;\n                        }\n                    }\n                    else {\n                        for (y = 0; y < h; y++) {\n                            p = yi << 2;\n                            px[p + 3] = pa = (a * ms) >>> ss;\n                            if (pa > 0) {\n                                pa = 255 / pa;\n                                px[p] = ((r * ms) >>> ss) * pa;\n                                px[p + 1] = ((g * ms) >>> ss) * pa;\n                                px[p + 2] = ((b * ms) >>> ss) * pa;\n                            }\n                            else {\n                                px[p] = px[p + 1] = px[p + 2] = 0;\n                            }\n                            p = (x + (((p = y + ryp1) < h1 ? p : h1) * w)) << 2;\n                            r -= si.r - (si.r = px[p]);\n                            g -= si.g - (si.g = px[p + 1]);\n                            b -= si.b - (si.b = px[p + 2]);\n                            a -= si.a - (si.a = px[p + 3]);\n                            si = si.n;\n                            yi += w;\n                        }\n                    }\n                }\n            }\n        };\n        BlurFilter.SHG_TABLE = [0, 9, 10, 11, 9, 12, 10, 11, 12, 9, 13, 13, 10, 9, 13, 13, 14, 14, 14, 14, 10, 13, 14, 14, 14, 13, 13, 13, 9, 14, 14, 14, 15, 14, 15, 14, 15, 15, 14, 15, 15, 15, 14, 15, 15, 15, 15, 15, 14, 15, 15, 15, 15, 15, 15, 12, 14, 15, 15, 13, 15, 15, 15, 15, 16, 16, 16, 15, 16, 14, 16, 16, 14, 16, 13, 16, 16, 16, 15, 16, 13, 16, 15, 16, 14, 9, 16, 16, 16, 16, 16, 16, 16, 16, 16, 13, 14, 16, 16, 15, 16, 16, 10, 16, 15, 16, 14, 16, 16, 14, 16, 16, 14, 16, 16, 14, 15, 16, 16, 16, 14, 15, 14, 15, 13, 16, 16, 15, 17, 17, 17, 17, 17, 17, 14, 15, 17, 17, 16, 16, 17, 16, 15, 17, 16, 17, 11, 17, 16, 17, 16, 17, 16, 17, 17, 16, 17, 17, 16, 17, 17, 16, 16, 17, 17, 17, 16, 14, 17, 17, 17, 17, 15, 16, 14, 16, 15, 16, 13, 16, 15, 16, 14, 16, 15, 16, 12, 16, 15, 16, 17, 17, 17, 17, 17, 13, 16, 15, 17, 17, 17, 16, 15, 17, 17, 17, 16, 15, 17, 17, 14, 16, 17, 17, 16, 17, 17, 16, 15, 17, 16, 14, 17, 16, 15, 17, 16, 17, 17, 16, 17, 15, 16, 17, 14, 17, 16, 15, 17, 16, 17, 13, 17, 16, 17, 17, 16, 17, 14, 17, 16, 17, 16, 17, 16, 17, 9];\n        BlurFilter.MUL_TABLE = [1, 171, 205, 293, 57, 373, 79, 137, 241, 27, 391, 357, 41, 19, 283, 265, 497, 469, 443, 421, 25, 191, 365, 349, 335, 161, 155, 149, 9, 278, 269, 261, 505, 245, 475, 231, 449, 437, 213, 415, 405, 395, 193, 377, 369, 361, 353, 345, 169, 331, 325, 319, 313, 307, 301, 37, 145, 285, 281, 69, 271, 267, 263, 259, 509, 501, 493, 243, 479, 118, 465, 459, 113, 446, 55, 435, 429, 423, 209, 413, 51, 403, 199, 393, 97, 3, 379, 375, 371, 367, 363, 359, 355, 351, 347, 43, 85, 337, 333, 165, 327, 323, 5, 317, 157, 311, 77, 305, 303, 75, 297, 294, 73, 289, 287, 71, 141, 279, 277, 275, 68, 135, 67, 133, 33, 262, 260, 129, 511, 507, 503, 499, 495, 491, 61, 121, 481, 477, 237, 235, 467, 232, 115, 457, 227, 451, 7, 445, 221, 439, 218, 433, 215, 427, 425, 211, 419, 417, 207, 411, 409, 203, 202, 401, 399, 396, 197, 49, 389, 387, 385, 383, 95, 189, 47, 187, 93, 185, 23, 183, 91, 181, 45, 179, 89, 177, 11, 175, 87, 173, 345, 343, 341, 339, 337, 21, 167, 83, 331, 329, 327, 163, 81, 323, 321, 319, 159, 79, 315, 313, 39, 155, 309, 307, 153, 305, 303, 151, 75, 299, 149, 37, 295, 147, 73, 291, 145, 289, 287, 143, 285, 71, 141, 281, 35, 279, 139, 69, 275, 137, 273, 17, 271, 135, 269, 267, 133, 265, 33, 263, 131, 261, 130, 259, 129, 257, 1];\n        return BlurFilter;\n    }(annie.AObject));\n    annie.BlurFilter = BlurFilter;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * Canvas 渲染器\n     * @class annie.CanvasRender\n     * @extends annie.AObject\n     * @implements IRender\n     * @public\n     * @since 1.0.0\n     */\n    var CanvasRender = (function (_super) {\n        __extends(CanvasRender, _super);\n        /**\n         * @CanvasRender\n         * @param {annie.Stage} stage\n         * @public\n         * @since 1.0.0\n         */\n        function CanvasRender(stage) {\n            _super.call(this);\n            /**\n             * 渲染器所在最上层的对象\n             * @property rootContainer\n             * @public\n             * @since 1.0.0\n             * @type {any}\n             * @default null\n             */\n            this.rootContainer = null;\n            this._stage = stage;\n        }\n        /**\n         * 开始渲染时执行\n         * @method begin\n         * @since 1.0.0\n         * @public\n         */\n        CanvasRender.prototype.begin = function () {\n            var s = this;\n            var c = s.rootContainer;\n            s._ctx.setTransform(1, 0, 0, 1, 0, 0);\n            if (s._stage.bgColor != \"\") {\n                s._ctx.fillStyle = s._stage.bgColor;\n                s._ctx.fillRect(0, 0, c.width + 1, c.height + 1);\n            }\n            else {\n                s._ctx.clearRect(0, 0, c.width + 1, c.height + 1);\n            }\n        };\n        /**\n         * 开始有遮罩时调用\n         * @method beginMask\n         * @param {annie.DisplayObject} target\n         * @public\n         * @since 1.0.0\n         */\n        CanvasRender.prototype.beginMask = function (target) {\n            var s = this;\n            var isHadPath = false;\n            if (target.children && target.children.length > 0) {\n                target = target.children[0];\n            }\n            if (target._command) {\n                s._ctx.save();\n                s._ctx.globalAlpha = 0;\n                var tm = target.cMatrix;\n                s._ctx.setTransform(tm.a, tm.b, tm.c, tm.d, tm.tx, tm.ty);\n                var data;\n                var cLen = target._command.length;\n                for (var i = 0; i < cLen; i++) {\n                    data = target._command[i];\n                    if (data[0] == 1) {\n                        isHadPath = true;\n                        var paramsLen = data[2].length;\n                        if (paramsLen == 0) {\n                            s._ctx[data[1]]();\n                        }\n                        else if (paramsLen == 2) {\n                            s._ctx[data[1]](data[2][0], data[2][1]);\n                        }\n                        else if (paramsLen == 4) {\n                            s._ctx[data[1]](data[2][0], data[2][1], data[2][2], data[2][3]);\n                        }\n                        else if (paramsLen == 5) {\n                            s._ctx[data[1]](data[2][0], data[2][1], data[2][2], data[2][3], data[2][4]);\n                        }\n                        else if (paramsLen == 6) {\n                            s._ctx[data[1]](data[2][0], data[2][1], data[2][2], data[2][3], data[2][4], data[2][5]);\n                        }\n                    }\n                }\n                s._ctx.restore();\n            }\n            //和后面endMask的restore对应\n            s._ctx.save();\n            if (isHadPath) {\n                s._ctx.clip();\n            }\n        };\n        /**\n         * 结束遮罩时调用\n         * @method endMask\n         * @public\n         * @since 1.0.0\n         */\n        CanvasRender.prototype.endMask = function () {\n            this._ctx.restore();\n        };\n        /**\n         * 调用渲染\n         * @public\n         * @since 1.0.0\n         * @method draw\n         * @param {annie.DisplayObject} target 显示对象\n         * @param {number} type 0图片 1矢量 2文字 3容器\n         */\n        CanvasRender.prototype.draw = function (target, type) {\n            var s = this;\n            if (!target._cacheImg || (target._cacheImg.nodeName == \"IMG\" && !target._cacheImg.complete))\n                return;\n            //s._ctx.save();\n            s._ctx.globalAlpha = target.cAlpha;\n            var tm = target.cMatrix;\n            s._ctx.setTransform(tm.a, tm.b, tm.c, tm.d, tm.tx, tm.ty);\n            if (type == 0) {\n                //图片\n                if (target._cacheImg) {\n                    var tr = target.rect;\n                    //因为如果有滤镜的话是重新画了图的,所以尺寸什么的跟SpriteSheet无关了\n                    if (tr && !target._isCache) {\n                        s._ctx.drawImage(target._cacheImg, tr.x, tr.y, tr.width, tr.height, 0, 0, tr.width, tr.height);\n                    }\n                    else {\n                        s._ctx.translate(target._cacheX, target._cacheY);\n                        s._ctx.drawImage(target._cacheImg, 0, 0);\n                    }\n                }\n            }\n            else {\n                //矢量和文字\n                if (target._cacheImg) {\n                    //需要渲染缓存\n                    s._ctx.translate(target._cacheX, target._cacheY);\n                    s._ctx.drawImage(target._cacheImg, 0, 0);\n                }\n            }\n            //s._ctx.restore();\n        };\n        /**\n         * 初始化渲染器\n         * @public\n         * @since 1.0.0\n         * @method init\n         */\n        CanvasRender.prototype.init = function () {\n            var s = this;\n            if (!s.rootContainer) {\n                s.rootContainer = document.createElement(\"canvas\");\n                s._stage.rootDiv.appendChild(s.rootContainer);\n            }\n            var c = s.rootContainer;\n            s._ctx = c[\"getContext\"]('2d');\n        };\n        /**\n         * 当舞台尺寸改变时会调用\n         * @public\n         * @since 1.0.0\n         * @method reSize\n         */\n        CanvasRender.prototype.reSize = function () {\n            var s = this;\n            var c = s.rootContainer;\n            c.width = s._stage.divWidth * annie.devicePixelRatio;\n            c.height = s._stage.divHeight * annie.devicePixelRatio;\n            c.style.width = s._stage.divWidth + \"px\";\n            c.style.height = s._stage.divHeight + \"px\";\n        };\n        return CanvasRender;\n    }(annie.AObject));\n    annie.CanvasRender = CanvasRender;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * WebGl 渲染器\n     * @class annie.WGRender\n     * @extends annie.AObject\n     * @implements IRender\n     * @public\n     * @since 1.0.2\n     */\n    var WGRender = (function (_super) {\n        __extends(WGRender, _super);\n        /**\n         * @CanvasRender\n         * @param {annie.Stage} stage\n         * @public\n         * @since 1.0.2\n         */\n        function WGRender(stage) {\n            _super.call(this);\n            /**\n             * 渲染器所在最上层的对象\n             * @property rootContainer\n             * @public\n             * @since 1.0.2\n             * @type {any}\n             * @default null\n             */\n            this.rootContainer = null;\n            this._maxTextureCount = 32;\n            this._uniformTexture = 0;\n            this._uniformMaskTexture = 0;\n            this._posAttr = 0;\n            this._textAttr = 0;\n            this._maskObjList = [];\n            this._maskTexture = null;\n            this._maskSrcTexture = null;\n            this._textures = [];\n            this._curTextureId = -1;\n            this._stage = stage;\n        }\n        /**\n         * 开始渲染时执行\n         * @method begin\n         * @since 1.0.2\n         * @public\n         */\n        WGRender.prototype.begin = function () {\n            var s = this;\n            var gl = s._gl;\n            if (s._stage.bgColor != \"\") {\n                var color = s._stage.bgColor;\n                var r = parseInt(\"0x\" + color.substr(1, 2));\n                var g = parseInt(\"0x\" + color.substr(3, 2));\n                var b = parseInt(\"0x\" + color.substr(5, 2));\n                gl.clearColor(r / 255, g / 255, b / 255, 1.0);\n            }\n            else {\n                gl.clearColor(0.0, 0.0, 0.0, 0.0);\n            }\n            gl.clear(gl.COLOR_BUFFER_BIT);\n            s._maskObjList = [];\n        };\n        /**\n         * 开始有遮罩时调用\n         * @method beginMask\n         * @param {annie.DisplayObject} target\n         * @public\n         * @since 1.0.2\n         */\n        WGRender.prototype.beginMask = function (target) {\n            //更新缓冲模板\n            var s = this;\n            var gl = s._gl;\n            gl.bindFramebuffer(gl.FRAMEBUFFER, s._maskFbo);\n            gl.viewport(0, 0, 1024, 1024);\n            gl.disable(gl.BLEND);\n            if (s._maskObjList.length == 0) {\n                gl.clearColor(0.0, 0.0, 0.0, 0.0);\n                gl.clear(gl.COLOR_BUFFER_BIT);\n                gl.bindTexture(gl.TEXTURE_2D, s._maskTexture);\n                gl.copyTexImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 0, 0, 1024, 1024, 0);\n            }\n            s._maskObjList.push(target);\n            //告诉shader这个时候是画遮罩本身的帧缓冲\n            gl.uniform1i(s._uMask, s._maskObjList.length * 100);\n            s.draw(target, 1);\n            gl.bindTexture(gl.TEXTURE_2D, s._maskTexture);\n            gl.copyTexImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 0, 0, 1024, 1024, 0);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n            gl.uniform1i(s._uMask, s._maskObjList.length);\n            gl.viewport(0, 0, s._dW, s._dH);\n            gl.enable(gl.BLEND);\n        };\n        /**\n         * 结束遮罩时调用\n         * @method endMask\n         * @public\n         * @since 1.0.2\n         */\n        WGRender.prototype.endMask = function () {\n            var s = this;\n            var gl = s._gl;\n            var len = s._maskObjList.length;\n            if (len > 1) {\n                s._maskObjList.pop();\n                var mlCopy = s._maskObjList.concat();\n                s._maskObjList.length = 0;\n                for (var i = 0; i < mlCopy.length; i++) {\n                    s.beginMask(mlCopy[i]);\n                }\n            }\n            else {\n                gl.uniform1i(s._uMask, 0);\n                s._maskObjList.length = 0;\n            }\n        };\n        /**\n         * 当舞台尺寸改变时会调用\n         * @public\n         * @since 1.0.2\n         * @method reSize\n         */\n        WGRender.prototype.reSize = function () {\n            var s = this;\n            var c = s.rootContainer;\n            c.width = s._stage.divWidth * annie.devicePixelRatio;\n            c.height = s._stage.divHeight * annie.devicePixelRatio;\n            c.style.width = s._stage.divWidth + \"px\";\n            c.style.height = s._stage.divHeight + \"px\";\n            s._gl.viewport(0, 0, c.width, c.height);\n            s._dW = c.width;\n            s._dH = c.height;\n            s._pMatrix = new Float32Array([\n                1 / s._dW * 2, 0.0, 0.0,\n                0.0, -1 / s._dH * 2, 0.0,\n                -1.0, 1.0, 1.0\n            ]);\n        };\n        WGRender.prototype._getShader = function (id) {\n            var s = this;\n            var gl = s._gl;\n            // Find the shader script element\n            var shaderText = \"\";\n            // Create the shader object instance\n            var shader = null;\n            if (id == 0) {\n                shaderText = 'precision highp float;' +\n                    'varying vec2 v_TC;' +\n                    'varying vec2 v_MP;' +\n                    'uniform sampler2D u_texture;' +\n                    'uniform sampler2D u_maskTexture;' +\n                    'uniform float u_A;' +\n                    'uniform int u_Mask;' +\n                    'void main() {' +\n                    'if(u_Mask==0){' +\n                    'gl_FragColor = texture2D(u_texture, v_TC)*u_A;' +\n                    '}else if(u_Mask>=100){' +\n                    'vec4 textColor = texture2D(u_texture, v_TC);' +\n                    'gl_FragColor = texture2D(u_maskTexture, v_MP);' +\n                    'if(textColor.a>0.0){if(u_Mask==100){gl_FragColor.r=textColor.a;}else if(u_Mask==200&&gl_FragColor.r>0.0){gl_FragColor.g=textColor.a;}else if(u_Mask==300&&gl_FragColor.r>0.0&&gl_FragColor.g>0.0){gl_FragColor.b=textColor.a;}else if(u_Mask==400&&gl_FragColor.r>0.0&&gl_FragColor.g>0.0&&gl_FragColor.b>0.0){gl_FragColor.a=textColor.a;}}' +\n                    '}else{' +\n                    'vec4 textColor=texture2D(u_maskTexture, v_MP);' +\n                    'float maskStep=0.0;' +\n                    'if(u_Mask==1){' +\n                    'maskStep=textColor.r;' +\n                    '}else if(u_Mask==2){' +\n                    'maskStep=textColor.g;' +\n                    '}else if(u_Mask==3){' +\n                    'maskStep=textColor.b;' +\n                    '}else if(u_Mask==4){' +\n                    'maskStep=textColor.a;' +\n                    '}' +\n                    'gl_FragColor = texture2D(u_texture, v_TC)*u_A*maskStep;' +\n                    '}' +\n                    '}';\n                shader = gl.createShader(gl.FRAGMENT_SHADER);\n            }\n            else {\n                shaderText = 'precision highp float;' +\n                    'attribute vec2 a_P;' +\n                    'attribute vec2 a_TC;' +\n                    'varying vec2 v_TC;' +\n                    'varying vec2 v_MP;' +\n                    'uniform mat3 vMatrix;' +\n                    'uniform mat3 pMatrix;' +\n                    'void main() {' +\n                    'gl_Position =vec4((pMatrix*vMatrix*vec3(a_P, 1.0)).xy, 1.0, 1.0);' +\n                    'v_MP=(gl_Position.xy+vec2(1.0,1.0))*0.5;' +\n                    'v_TC = a_TC;' +\n                    '}';\n                shader = gl.createShader(gl.VERTEX_SHADER);\n            }\n            // Set the shader source code in the shader object instance and compile the shader\n            gl.shaderSource(shader, shaderText);\n            gl.compileShader(shader);\n            // Attach the shaders to the shader program\n            gl.attachShader(s._program, shader);\n            return shader;\n        };\n        /**\n         * 初始化渲染器\n         * @public\n         * @since 1.0.2\n         * @method init\n         */\n        WGRender.prototype.init = function () {\n            var s = this;\n            if (!s.rootContainer) {\n                s.rootContainer = document.createElement(\"canvas\");\n                s._stage.rootDiv.appendChild(s.rootContainer);\n            }\n            var c = s.rootContainer;\n            var gl = c.getContext(\"webgl\") || c.getContext('experimental-webgl');\n            s._gl = gl;\n            s._program = gl.createProgram();\n            var _program = s._program;\n            //初始化顶点着色器和片元着色器\n            s._getShader(0);\n            s._getShader(1);\n            //链接到gpu\n            gl.linkProgram(_program);\n            //使用当前编译的程序\n            gl.useProgram(_program);\n            //改变y轴方向,以对应纹理坐标\n            //gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1);\n            //设置支持有透明度纹理\n            gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1);\n            //取消深度检测\n            gl.disable(gl.DEPTH_TEST);\n            //开启混合模式\n            gl.enable(gl.BLEND);\n            gl.disable(gl.CULL_FACE);\n            gl.blendFunc(gl.ONE, gl.ONE_MINUS_SRC_ALPHA);\n            // 新建缓存\n            s._buffer = gl.createBuffer();\n            //\n            s._pMI = gl.getUniformLocation(s._program, 'pMatrix');\n            s._vMI = gl.getUniformLocation(s._program, 'vMatrix');\n            s._uA = gl.getUniformLocation(s._program, 'u_A');\n            s._uMask = gl.getUniformLocation(s._program, 'u_Mask');\n            //\n            s._cM = new annie.Matrix();\n            s._maxTextureCount = 3; // gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n            s._uniformTexture = gl.getUniformLocation(s._program, \"u_texture\");\n            s._uniformMaskTexture = gl.getUniformLocation(s._program, \"u_maskTexture\");\n            s._posAttr = gl.getAttribLocation(s._program, \"a_P\");\n            s._textAttr = gl.getAttribLocation(s._program, \"a_TC\");\n            gl.enableVertexAttribArray(s._posAttr);\n            gl.enableVertexAttribArray(s._textAttr);\n            s.initMaskBuffer();\n        };\n        WGRender.prototype.setBuffer = function (buffer, data) {\n            var s = this;\n            var gl = s._gl;\n            //绑定buffer\n            gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n            gl.bufferData(gl.ARRAY_BUFFER, data, gl.STATIC_DRAW);\n            //将buffer赋值给一变量\n            gl.vertexAttribPointer(s._posAttr, 2, gl.FLOAT, false, 4 * 4, 0);\n            gl.vertexAttribPointer(s._textAttr, 2, gl.FLOAT, false, 4 * 4, 4 * 2);\n        };\n        /**\n         *  调用渲染\n         * @public\n         * @since 1.0.2\n         * @method draw\n         * @param {annie.DisplayObject} target 显示对象\n         * @param {number} type 0图片 1矢量 2文字 3容器\n         */\n        WGRender.prototype.draw = function (target, type) {\n            var s = this;\n            if (!target._cacheImg || (target._cacheImg.nodeName == \"IMG\" && !target._cacheImg.complete))\n                return;\n            var gl = s._gl;\n            var gi = target._glInfo;\n            ////////////////////////////////////////////\n            var vertices = [\n                //x,y,textureX,textureY\n                0.0, 0.0, gi.x, gi.y,\n                gi.pw, 0.0, gi.w, gi.y,\n                0.0, gi.ph, gi.x, gi.h,\n                gi.pw, gi.ph, gi.w, gi.h\n            ];\n            var img = target._cacheImg;\n            var m;\n            if (img._annieType > 0) {\n                m = s._cM;\n                m.identity();\n                if (img._annieType == 2) {\n                    m.tx = target._cacheX * 2;\n                    m.ty = target._cacheY * 2;\n                }\n                else {\n                    m.tx = -img.width;\n                    m.ty = -img.height;\n                }\n                m.prepend(target.cMatrix);\n            }\n            else {\n                m = target.cMatrix;\n            }\n            var vMatrix = new Float32Array([\n                m.a, m.b, 0,\n                m.c, m.d, 0,\n                m.tx, m.ty, 1\n            ]);\n            //if(s._maskObjList.length>0) {\n            gl.uniform1i(s._uniformMaskTexture, s.activeTexture(s._maskTexture, true));\n            //}\n            gl.uniform1i(s._uniformTexture, s.activeTexture(img.texture));\n            s.setBuffer(s._buffer, new Float32Array(vertices));\n            gl.uniform1f(s._uA, target.cAlpha);\n            gl.uniformMatrix3fv(s._pMI, false, s._pMatrix);\n            gl.uniformMatrix3fv(s._vMI, false, vMatrix);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        };\n        WGRender.prototype.activeTexture = function (texture, isMaskTexture) {\n            if (isMaskTexture === void 0) { isMaskTexture = false; }\n            var s = this;\n            var gl = s._gl;\n            var newId = -1;\n            var isHave = false;\n            if (isMaskTexture) {\n                newId = 0;\n                if (s._textures[0] == texture) {\n                    isHave = true;\n                }\n            }\n            else {\n                for (var i = 1; i < s._maxTextureCount; i++) {\n                    if (s._textures[i] == null) {\n                        newId = i;\n                        break;\n                    }\n                    if (s._textures[i] == texture) {\n                        newId = i;\n                        isHave = true;\n                        break;\n                    }\n                }\n                if (newId < 0) {\n                    if (s._curTextureId < s._maxTextureCount - 1) {\n                        s._curTextureId++;\n                    }\n                    else {\n                        s._curTextureId = 1;\n                    }\n                    newId = s._curTextureId;\n                }\n            }\n            gl.activeTexture(gl[\"TEXTURE\" + newId]);\n            //if(!isHave||newId ==0) {\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            //}\n            s._textures[newId] = texture;\n            return newId;\n        };\n        WGRender.prototype.initMaskBuffer = function () {\n            var s = this;\n            s._maskFbo = s.createFramebuffer(1024, 1024);\n            s._maskSrcTexture = s._maskFbo.texture;\n            s._maskTexture = s.createTexture(null, 1024, 1024);\n        };\n        WGRender.prototype.createTexture = function (bitmapData, width, height) {\n            if (bitmapData === void 0) { bitmapData = null; }\n            if (width === void 0) { width = 1; }\n            if (height === void 0) { height = 1; }\n            var gl = this._gl;\n            var texture = gl.createTexture();\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            var b = bitmapData;\n            var h, w;\n            if (bitmapData) {\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, bitmapData);\n                w = bitmapData.width;\n                h = bitmapData.height;\n            }\n            else {\n                gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, width, height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n                w = width;\n                h = height;\n            }\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n            gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n            texture.bitmapData = b;\n            texture.width = w;\n            texture.height = h;\n            gl.bindTexture(gl.TEXTURE_2D, null);\n            return texture;\n        };\n        WGRender.prototype.updateTexture = function (texture, bitmapData) {\n            var s = this;\n            var gl = s._gl;\n            gl.bindTexture(gl.TEXTURE_2D, texture);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, bitmapData);\n            gl.bindTexture(gl.TEXTURE_2D, null);\n        };\n        WGRender.prototype.createFramebuffer = function (width, height) {\n            var s = this;\n            var gl = s._gl;\n            var fb = gl.createFramebuffer();\n            fb.width = width;\n            fb.height = height;\n            gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n            var texture = s.createTexture(null, width, height);\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n            fb.texture = texture;\n            gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n            return fb;\n        };\n        /**\n         * 设置webgl要渲染的东西\n         * @method _setGlInfo\n         * @param target\n         * @param type\n         * @private\n         * @since 1.0.2\n         */\n        WGRender.setDisplayInfo = function (target, type) {\n            //判断是不是webgl渲染模式\n            if (!target.stage || target.stage.renderType != 1)\n                return;\n            if (target.stage) {\n                var gi = target._glInfo;\n                var renderObj = target.stage.renderObj;\n                var tc = target.rect;\n                var img = target._cacheImg;\n                if (tc) {\n                    gi.x = tc.x / img.width;\n                    gi.y = tc.y / img.height;\n                    gi.w = (tc.x + tc.width) / img.width;\n                    gi.h = (tc.y + tc.height) / img.height;\n                    gi.pw = tc.width;\n                    gi.ph = tc.height;\n                }\n                else {\n                    var cX = target._cacheX;\n                    var cY = target._cacheY;\n                    gi.x = cX / img.width;\n                    gi.y = cY / img.height;\n                    gi.w = (img.width - cX) / img.width;\n                    gi.h = (img.height - cY) / img.height;\n                    gi.pw = (img.width - cX * 2);\n                    gi.ph = (img.height - cY * 2);\n                    //因为不是雪碧图有可能中途更新了效果，但引用没变，所以需要标记告诉webgl需要更新纹理\n                    img._annieType = type;\n                    if (img.texture) {\n                        renderObj.updateTexture(img.texture, img);\n                    }\n                }\n            }\n            if (!img.texture) {\n                img.texture = renderObj.createTexture(img);\n            }\n        };\n        return WGRender;\n    }(annie.AObject));\n    annie.WGRender = WGRender;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    var Eval = eval.bind(window);\n    /**\n     * 资源加载类,后台请求,加载资源和后台交互都可以使用此类\n     * @class annie.URLLoader\n     * @extends annie.EventDispatcher\n     * @public\n     * @since 1.0.0\n     */\n    var URLLoader = (function (_super) {\n        __extends(URLLoader, _super);\n        /**\n         * @param type text json js xml image sound css svg video unKnow\n         */\n        function URLLoader() {\n            _super.call(this);\n            /**\n             * 后台返回来的数据类弄\n             * @property responseType\n             * @type {string}\n             * @default null\n             * @public\n             * @since 1.0.0\n             */\n            this.responseType = null;\n            /**\n             * 请求的url地址\n             * @property url\n             * @public\n             * @since 1.0.0\n             * @type {string}\n             */\n            this.url = \"\";\n            /**\n             * 请求后台的类型 get post\n             * @property method\n             * @type {string}\n             * @default get\n             * @public\n             * @since 1.0.0\n             */\n            this.method = \"get\";\n            /**\n             * 需要像后台传送的数据对象\n             * @property data\n             * @public\n             * @since 1.0.0\n             * @default null\n             * @type {Object}\n             */\n            this.data = null;\n            /**\n             * 格式化post请求参数\n             * @method _fqs\n             * @param data\n             * @param query\n             * @return {string}\n             * @private\n             * @since 1.0.0\n             */\n            this._fqs = function (data, query) {\n                var params = [];\n                if (data) {\n                    for (var n in data) {\n                        params.push(encodeURIComponent(n) + \"=\" + encodeURIComponent(data[n]));\n                    }\n                }\n                if (query) {\n                    params = params.concat(query);\n                }\n                return params.join(\"&\");\n            };\n            //formatURIString\n            /**\n             * 格式化get 请求参数\n             * @method _fus\n             * @param src\n             * @param data\n             * @return {any}\n             * @private\n             */\n            this._fus = function (src, data) {\n                var s = this;\n                if (data == null || data == \"\") {\n                    return src;\n                }\n                var query = [];\n                var idx = src.indexOf(\"?\");\n                if (idx != -1) {\n                    var q = src.slice(idx + 1);\n                    query = query.concat(q.split(\"&\"));\n                    return src.slice(0, idx) + \"?\" + s._fqs(data, query);\n                }\n                else {\n                    return src + \"?\" + s._fqs(data, query);\n                }\n            };\n        }\n        /**\n         * 取消加载\n         * @method loadCancel\n         * @public\n         * @since 1.0.0\n         */\n        URLLoader.prototype.loadCancel = function () {\n            var s = this;\n            if (s._req) {\n                s._req.abort();\n            }\n        };\n        /**\n         * 加载或请求数据\n         * @method load\n         * @public\n         * @since 1.0.0\n         * @param {string} url\n         * @param {boolean} isBinaryData 是否向后台发送二进制数据包手blob byteArray等\n         */\n        URLLoader.prototype.load = function (url, isBinaryData) {\n            if (isBinaryData === void 0) { isBinaryData = false; }\n            var s = this;\n            s.loadCancel();\n            if (s.responseType == null || s.responseType == \"\") {\n                //看看是什么后缀\n                var urlSplit = url.split(\".\");\n                var extStr = urlSplit[urlSplit.length - 1];\n                var ext = extStr.split(\"?\")[0].toLocaleLowerCase();\n                if (ext == \"mp3\" || ext == \"ogg\" || ext == \"wav\") {\n                    s.responseType = \"sound\";\n                }\n                else if (ext == \"jpg\" || ext == \"jpeg\" || ext == \"png\" || ext == \"gif\") {\n                    s.responseType = \"image\";\n                }\n                else if (ext == \"css\") {\n                    s.responseType = \"css\";\n                }\n                else if (ext == \"mp4\") {\n                    s.responseType = \"video\";\n                }\n                else if (ext == \"svg\") {\n                    s.responseType = \"svg\";\n                }\n                else if (ext == \"xml\") {\n                    s.responseType = \"xml\";\n                }\n                else if (ext == \"json\") {\n                    s.responseType = \"json\";\n                }\n                else if (ext == \"txt\") {\n                    s.responseType = \"text\";\n                }\n                else if (ext == \"js\") {\n                    s.responseType = \"js\";\n                }\n                else {\n                    s.responseType = \"unKnow\";\n                }\n            }\n            var req = null;\n            if (!s._req) {\n                s._req = new XMLHttpRequest();\n                req = s._req;\n                req.timeout = 5000;\n                req.withCredentials = false;\n                req.onprogress = function (event) {\n                    if (!event || event.loaded > 0 && event.total == 0) {\n                        return; // Sometimes we get no \"total\", so just ignore the progress event.\n                    }\n                    s.dispatchEvent(\"onProgress\", { loadedBytes: event.loaded, totalBytes: event.total });\n                };\n                req.onerror = function (event) {\n                    reSendTimes++;\n                    if (reSendTimes > 3) {\n                        s.dispatchEvent(\"onError\", event[\"message\"]);\n                    }\n                    else {\n                        //断线重连\n                        req.abort();\n                        if (!s.data) {\n                            req.send();\n                        }\n                        else {\n                            if (isBinaryData) {\n                                req.send(s.data);\n                            }\n                            else {\n                                req.send(s._fqs(s.data, null));\n                            }\n                        }\n                    }\n                };\n                req.onreadystatechange = function (event) {\n                    var t = event.target;\n                    if (t[\"readyState\"] == 4) {\n                        var e = new annie.Event(\"onComplete\");\n                        var result = t[\"response\"];\n                        e.data = { type: s.responseType, response: null };\n                        var item;\n                        switch (s.responseType) {\n                            case \"css\":\n                                item = document.createElement(\"link\");\n                                item.rel = \"stylesheet\";\n                                item.href = s.url;\n                                break;\n                            case \"image\":\n                            case \"sound\":\n                            case \"video\":\n                                var isBlob = true;\n                                if (s.responseType == \"image\") {\n                                    item = document.createElement(\"img\");\n                                    item.onload = function () {\n                                        if (isBlob) {\n                                            URL.revokeObjectURL(item.src);\n                                        }\n                                        item.onload = null;\n                                    };\n                                }\n                                else {\n                                    if (s.responseType == \"sound\") {\n                                        item = document.createElement(\"AUDIO\");\n                                    }\n                                    else if (s.responseType == \"video\") {\n                                        item = document.createElement(\"VIDEO\");\n                                    }\n                                    item.preload = true;\n                                    item.load();\n                                    item.onloadeddata = function () {\n                                        if (isBlob) {\n                                        }\n                                        item.onloadeddata = null;\n                                    };\n                                }\n                                try {\n                                    item.src = URL.createObjectURL(result);\n                                }\n                                catch (err) {\n                                    isBlob = false;\n                                    item.src = s.url;\n                                }\n                                break;\n                            case \"json\":\n                                item = JSON.parse(result);\n                                break;\n                            case \"xml\":\n                                item = t[\"responseXML\"];\n                                break;\n                            case \"js\":\n                                Eval(result);\n                                break;\n                            case \"text\":\n                            case \"unKnow\":\n                            default:\n                                item = result;\n                                break;\n                        }\n                        e.data[\"response\"] = item;\n                        s.data = null;\n                        s.responseType = \"\";\n                        //req.onerror = null;\n                        //s._req.onreadystatechange=null;\n                        //req.onprogress = null;\n                        s.dispatchEvent(e);\n                    }\n                };\n            }\n            else {\n                req = s._req;\n            }\n            var reSendTimes = 0;\n            if (s.data && s.method.toLocaleLowerCase() == \"get\") {\n                s.url = s._fus(url, s.data);\n                s.data = null;\n            }\n            else {\n                s.url = url;\n            }\n            if (s.responseType == \"image\" || s.responseType == \"sound\" || s.responseType == \"video\") {\n                req.responseType = \"blob\";\n            }\n            else {\n                req.responseType = \"text\";\n            }\n            req.open(s.method, s.url, true);\n            if (!s.data) {\n                req.send();\n            }\n            else {\n                req.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded;charset=UTF-8\");\n                if (isBinaryData) {\n                    req.send(s.data);\n                }\n                else {\n                    req.send(s._fqs(s.data, null));\n                }\n            }\n            /*req.onloadstart = function (e) {\n             s.dispatchEvent(\"onStart\");\n             };*/\n        };\n        return URLLoader;\n    }(annie.EventDispatcher));\n    annie.URLLoader = URLLoader;\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 资源加载管理模块\n     * @module annie.RESManager\n     * @class annie.RESManager\n     */\n    var RESManager;\n    (function (RESManager) {\n        /**\n         * 存储加载资源的总对象\n         * @type {Object}\n         */\n        var res = {};\n        /**\n         * 加载器是否正在加载中\n         */\n        var _isLoading;\n        /**\n         * 加载中的场景名列表\n         */\n        var _loadSceneNames;\n        /**\n         * 加载地址的域名地址或前缀\n         */\n        var _domain;\n        /**\n         * 当前加载到哪一个资源\n         */\n        var _loadIndex;\n        /**\n         * 当前加载的总资源数\n         */\n        var _totalLoadRes;\n        /**\n         * 当前已经加载的资源数\n         */\n        var _loadedLoadRes;\n        /**\n         * 加载资源的完成回调\n         */\n        var _completeCallback;\n        /**\n         * 加载资源时的进度回调\n         */\n        var _progressCallback;\n        /**\n         * 加载配置文件的加载器\n         */\n        var _JSONQueue;\n        /**\n         * 加载资源文件的加载器\n         */\n        var _loaderQueue;\n        /**\n         * 加载器是否初始化过\n         */\n        var _isInited;\n        /**\n         * 当前加载的资源配置文件内容\n         */\n        var _currentConfig;\n        /**\n         * 获取当前加载的时间当作随机数用\n         */\n        var _time;\n        /**\n         * 加载资源数和总资源数的比\n         */\n        var _loadPer;\n        /**\n         * 单个资源占总资源数的比\n         */\n        var _loadSinglePer;\n        /**\n         * 加载一个flash2x转换的文件内容,如果未加载完成继续调用此方法将会刷新加载器,中断未被加载完成的资源!\n         * @method loadScene\n         * @public\n         * @static\n         * @since 1.0.0\n         * @param {string} sceneName fla通过flash2x转换时设置的包名\n         * @param {Function} progressFun 加载进度回调,回调参数为当前的进度值1-100.\n         * @param {Function} completeFun 加载完成回高,无回调参数\n         * @param {string} domain 加载时要设置的url前缀,默认则不更改加载路径。\n         */\n        RESManager.loadScene = function (sceneName, progressFun, completeFun, domain) {\n            if (domain === void 0) { domain = \"\"; }\n            //加载资源配置文件\n            if (_isLoading) {\n                _JSONQueue.loadCancel();\n                _loaderQueue.loadCancel();\n            }\n            _loadSceneNames = [];\n            if (domain == undefined) {\n                domain = \"\";\n            }\n            _domain = domain;\n            if (typeof (sceneName) == \"string\") {\n                if (!isLoadedScene(sceneName)) {\n                    _loadSceneNames.push(sceneName);\n                    res[sceneName] = new Object();\n                }\n            }\n            else {\n                var len = sceneName.length;\n                for (var i = 0; i < len; i++) {\n                    if (!isLoadedScene(sceneName[i])) {\n                        res[sceneName[i]] = new Object();\n                        _loadSceneNames.push(sceneName[i]);\n                    }\n                }\n            }\n            if (_loadSceneNames.length == 0) {\n                if (completeFun) {\n                    completeFun();\n                }\n                return;\n            }\n            if (!_isInited) {\n                _time = new Date().getTime();\n                _JSONQueue = new annie.URLLoader();\n                _JSONQueue.addEventListener(annie.Event.COMPLETE, onCFGComplete);\n                _loaderQueue = new annie.URLLoader();\n                _loaderQueue.addEventListener(annie.Event.COMPLETE, _onRESComplete);\n                _loaderQueue.addEventListener(annie.Event.PROGRESS, _onRESProgress);\n            }\n            _loadPer = 0;\n            _loadIndex = 0;\n            _totalLoadRes = 0;\n            _loadedLoadRes = 0;\n            _isLoading = true;\n            _completeCallback = completeFun;\n            _progressCallback = progressFun;\n            _currentConfig = [];\n            _loadConfig();\n        };\n        function _loadConfig() {\n            _JSONQueue.load(_domain + \"resource/\" + _loadSceneNames[_loadIndex] + \"/\" + _loadSceneNames[_loadIndex] + \".res.json?t=\" + _time);\n        }\n        function onCFGComplete(e) {\n            //配置文件加载完成\n            var resList = e.data.response;\n            _currentConfig.push(resList);\n            _totalLoadRes += resList.length;\n            _loadIndex++;\n            if (_loadSceneNames[_loadIndex]) {\n                _loadConfig();\n            }\n            else {\n                //所有配置文件加载完成,那就开始加载资源\n                _loadIndex = 0;\n                _loadSinglePer = 1 / _totalLoadRes;\n                _loadRes();\n            }\n        }\n        function _onRESProgress(e) {\n            if (_progressCallback) {\n                _progressCallback((_loadPer + e.data.loadedBytes / e.data.totalBytes * _loadSinglePer) * 100 >> 0);\n            }\n        }\n        function _onRESComplete(e) {\n            if (e.data.type != \"js\" && e.data.type != \"css\") {\n                var id = _currentConfig[_loadIndex][0].id;\n                var scene = _loadSceneNames[_loadIndex];\n                if (e.data.type == \"sound\") {\n                    res[scene][id] = new annie.Sound(e.data.response);\n                }\n                else {\n                    res[scene][id] = e.data.response;\n                }\n            }\n            _checkComplete();\n        }\n        function _checkComplete() {\n            _loadedLoadRes++;\n            _loadPer = _loadedLoadRes / _totalLoadRes;\n            _currentConfig[_loadIndex].shift();\n            if (_currentConfig[_loadIndex].length > 0) {\n                _loadRes();\n            }\n            else {\n                _loadIndex++;\n                if (_loadIndex == _loadSceneNames.length) {\n                    //全部资源加载完成\n                    _isLoading = false;\n                    //_progressCallback(100);\n                    _completeCallback();\n                }\n                else {\n                    _loadRes();\n                }\n            }\n        }\n        function _loadRes() {\n            var url = _domain + _currentConfig[_loadIndex][0].src;\n            _loaderQueue.load(url);\n        }\n        /**\n         * 判断一个场景是否已经被加载\n         * @method isLoadedScene\n         * @public\n         * @static\n         * @since 1.0.0\n         * @param {string} sceneName\n         * @returns {boolean}\n         */\n        function isLoadedScene(sceneName) {\n            if (res[sceneName] != undefined && res[sceneName] != null) {\n                return true;\n            }\n            else {\n                return false;\n            }\n        }\n        RESManager.isLoadedScene = isLoadedScene;\n        /**\n         * 删除一个场景资源,以方便系统垃圾回收\n         * @method unLoadScene\n         * @public\n         * @static\n         * @since 1.0.2\n         * @param {string} sceneName\n         * @param {WebGLRenderingContext} 如果是webgl渲染模式，请设置渲染的webgl对象，以方便删除不再需要使用的texture对象\n         */\n        function unLoadScene(sceneName, gl) {\n            if (gl === void 0) { gl = null; }\n            //删除webgl贴图资源\n            if (gl) {\n                for (var item in res[sceneName]) {\n                    if (res[sceneName][item].nodeName && res[sceneName][item].nodeName == \"IMG\" && res[sceneName][item].texture) {\n                        gl.deleteTexture(res[sceneName][item].texture);\n                    }\n                }\n            }\n            delete res[sceneName];\n            var scene = eval(sceneName);\n            for (var i in scene) {\n                delete scene[i];\n            }\n            eval(sceneName + \"=null;\");\n        }\n        RESManager.unLoadScene = unLoadScene;\n        /**\n         * 获取已经加载场景中的声音或视频资源\n         * @method getMediaByName\n         * @public\n         * @static\n         * @since 1.0.0\n         * @param {string} sceneName\n         * @param {string} mediaName\n         * @returns {any}\n         */\n        function getMediaByName(sceneName, mediaName) {\n            var s = res;\n            if (s[sceneName][mediaName]) {\n                return s[sceneName][mediaName];\n            }\n            return null;\n        }\n        RESManager.getMediaByName = getMediaByName;\n        /**\n         * 通过已经加载场景中的图片资源创建Bitmap对象实例,此方法一般给Flash2x工具自动调用\n         * @method b\n         * @public\n         * @since 1.0.0\n         * @static\n         * @param {string} sceneName\n         * @param {string} imageName\n         * @returns {any}\n         */\n        function b(sceneName, imageName) {\n            var s = res;\n            var isFind = false;\n            if (s[sceneName][imageName]) {\n                return new annie.Bitmap(s[sceneName][imageName]);\n            }\n            else {\n                var m = 0;\n                while (s[sceneName][\"F2xSSIMG\" + m]) {\n                    var data = s[sceneName][\"F2xSSIMGData\" + m];\n                    if (data[imageName] != undefined) {\n                        isFind = true;\n                        var imgData = data[imageName];\n                        var spriteSheet = s[sceneName][\"F2xSSIMG\" + m];\n                        //return {image: spriteSheet, rect: imgData};\n                        return new annie.Bitmap(spriteSheet, imgData);\n                    }\n                    m++;\n                }\n                return null;\n            }\n        }\n        RESManager.b = b;\n        /**\n         * 用一个对象批量设置另一个对象的属性值,此方法一般给Flash2x工具自动调用\n         * @method d\n         * @public\n         * @static\n         * @since 1.0.0\n         * @param {Object} display\n         * @param {Object} baseInfo\n         * @param {Object} extendInfo\n         */\n        function d(display, baseInfo, extendInfo) {\n            if (baseInfo === void 0) { baseInfo = null; }\n            if (extendInfo === void 0) { extendInfo = null; }\n            if (baseInfo) {\n                if (baseInfo.x != undefined) {\n                    display.x = baseInfo.x;\n                }\n                if (baseInfo.y != undefined) {\n                    display.y = baseInfo.y;\n                }\n                if (baseInfo.a != undefined) {\n                    display.scaleX = baseInfo.a;\n                }\n                if (baseInfo.b != undefined) {\n                    display.scaleY = baseInfo.b;\n                }\n                if (baseInfo.r != undefined) {\n                    display.rotation = baseInfo.r;\n                }\n                if (baseInfo.c != undefined) {\n                    display.skewX = baseInfo.c;\n                }\n                if (baseInfo.d != undefined) {\n                    display.skewY = baseInfo.d;\n                }\n                if (baseInfo.o != undefined) {\n                    display.alpha = baseInfo.o;\n                }\n                if (baseInfo.v != undefined) {\n                    display.visible = baseInfo.v;\n                }\n            }\n            if (extendInfo && extendInfo.length > 0) {\n                var index = 0;\n                display.filters = [];\n                while (extendInfo[index] != undefined) {\n                    if (extendInfo[index] == 0) {\n                        display.filters.push(new annie.ColorFilter(extendInfo[index + 1], extendInfo[index + 2], extendInfo[index + 3], extendInfo[index + 4], extendInfo[index + 5], extendInfo[index + 6], extendInfo[index + 7], extendInfo[index + 8]));\n                        index += 9;\n                    }\n                    else if (extendInfo[index] == 1) {\n                        display.filters.push(new annie.BlurFilter(extendInfo[index + 1], extendInfo[index + 2], extendInfo[index + 3]));\n                        index += 4;\n                    }\n                    else if (extendInfo[index] == 2) {\n                        var blur = (extendInfo[index + 1] + extendInfo[index + 2]) * 0.5;\n                        var color = annie.Shape.getRGBA(extendInfo[index + 4], extendInfo[index + 5]);\n                        var offsetX = extendInfo[index + 7] * Math.cos(extendInfo[index + 6] / 180 * Math.PI);\n                        var offsetY = extendInfo[index + 7] * Math.sin(extendInfo[index + 6] / 180 * Math.PI);\n                        display.filters.push(new annie.ShadowFilter(color, offsetX, offsetY, blur));\n                        index += 8;\n                    }\n                    else if (extendInfo[index] == 3) {\n                        var blur = (extendInfo[index + 1] + extendInfo[index + 2]) * 0.5;\n                        var color = annie.Shape.getRGBA(extendInfo[index + 4], extendInfo[index + 5]);\n                        display.filters.push(new annie.ShadowFilter(color, 0, 0, blur));\n                        index += 6;\n                    }\n                    else if (extendInfo[index] == 4) {\n                        display.filters.push(new annie.ColorMatrixFilter(extendInfo[index + 1], extendInfo[index + 2], extendInfo[index + 3], extendInfo[index + 4]));\n                        index += 5;\n                    }\n                }\n            }\n        }\n        RESManager.d = d;\n        /**\n         * 创建一个动态文本或输入文本,此方法一般给Flash2x工具自动调用\n         * @method t\n         * @public\n         * @static\n         * @since 1.0.0\n         * @param {number} type\n         * @param {string} text\n         * @param {number} size\n         * @param {string} color\n         * @param {string} face\n         * @param {number} top\n         * @param {number} left\n         * @param {number} width\n         * @param {number} height\n         * @param {number} lineSpacing\n         * @param {string} align\n         * @param {boolean} italic\n         * @param {boolean} bold\n         * @param {string} lineType\n         * @param {boolean} showBorder\n         * @returns {annie.TextFiled|annie.InputText}\n         */\n        function t(type, text, size, color, face, top, left, width, height, lineSpacing, align, italic, bold, lineType, showBorder) {\n            if (italic === void 0) { italic = false; }\n            if (bold === void 0) { bold = false; }\n            if (lineType === void 0) { lineType = \"single\"; }\n            if (showBorder === void 0) { showBorder = false; }\n            var textObj;\n            if (type == 0 || type == 1) {\n                textObj = new annie.TextField();\n                textObj.text = text;\n                textObj.font = face;\n                textObj.size = size;\n                textObj.lineWidth = width;\n                textObj.lineHeight = lineSpacing;\n                textObj.textAlign = align;\n                textObj.italic = italic;\n                textObj.bold = bold;\n                textObj.color = color;\n                textObj.lineType = lineType;\n            }\n            else {\n                textObj = new annie.InputText(lineType);\n                textObj.initInfo(text, width, height, color, align, size, face, showBorder, lineSpacing / size);\n                if (italic) {\n                    textObj.setItalic(true);\n                }\n                if (bold) {\n                    textObj.setBold(true);\n                }\n            }\n            return textObj;\n        }\n        RESManager.t = t;\n        /**\n         * 获取矢量位图填充所需要的位图,为什么写这个方法,是因为作为矢量填充的位图不能存在于SpriteSheet中,要单独画出来才能正确的填充到矢量中\n         */\n        function sb(sceneName, bitmapName) {\n            var sbName = \"_f2x_s\" + bitmapName;\n            if (res[sceneName][sbName]) {\n                return res[sceneName][sbName];\n            }\n            else {\n                var bitmapData = null;\n                var bitmap = b(sceneName, bitmapName);\n                if (bitmap) {\n                    if (bitmap.rect) {\n                        //从SpriteSheet中取出Image单独存放\n                        bitmapData = annie.Bitmap.convertToImage(bitmap);\n                    }\n                    else {\n                        bitmapData = bitmap.bitmapData;\n                    }\n                    res[sceneName][sbName] = bitmapData;\n                    return bitmapData;\n                }\n                else {\n                    trace(\"error:矢量位图填充时,未找到位图资源!\");\n                    return null;\n                }\n            }\n        }\n        /**\n         * 创建一个Shape矢量对象,此方法一般给Flash2x工具自动调用\n         * @method s\n         * @public\n         * @static\n         * @since 1.0.0\n         * @param {Object} pathObj\n         * @param {Object} fillObj\n         * @param {Object} strokeObj\n         * @returns {annie.Shape}\n         */\n        function s(pathObj, fillObj, strokeObj) {\n            var shape = new annie.Shape();\n            if (fillObj) {\n                if (fillObj.type == 0) {\n                    shape.beginFill(fillObj.color);\n                }\n                else if (fillObj.type == 1) {\n                    shape.beginRadialGradientFill(fillObj.gradient[0], fillObj.gradient[1], fillObj.points);\n                }\n                else if (fillObj.type == 2) {\n                    shape.beginLinearGradientFill(fillObj.gradient[0], fillObj.gradient[1], fillObj.points);\n                }\n                else {\n                    shape.beginBitmapFill(sb(fillObj.bitmapScene, fillObj.bitmapName), fillObj.matrix);\n                }\n            }\n            if (strokeObj) {\n                if (strokeObj.type == 0) {\n                    shape.beginStroke(strokeObj.color, strokeObj.lineWidth);\n                }\n                else if (strokeObj.type == 1) {\n                    shape.beginRadialGradientStroke(strokeObj.gradient[0], strokeObj.gradient[1], strokeObj.points, strokeObj.lineWidth);\n                }\n                else if (strokeObj.type == 2) {\n                    shape.beginLinearGradientStroke(strokeObj.gradient[0], strokeObj.gradient[1], strokeObj.points, strokeObj.lineWidth);\n                }\n                else {\n                    shape.beginBitmapStroke(sb(strokeObj.bitmapScene, strokeObj.bitmapName), strokeObj.matrix, strokeObj.lineWidth);\n                }\n            }\n            if (pathObj.type == 0) {\n                shape.decodePath(pathObj.data);\n            }\n            else {\n                shape.drawRoundRect(pathObj.data.x, pathObj.data.y, pathObj.data.w, pathObj.data.h, pathObj.data.topLeftRadius, pathObj.data.topRightRadius, pathObj.data.bottomLeftRadius, pathObj.data.bottomRightRadius);\n            }\n            if (fillObj) {\n                shape.endFill();\n            }\n            if (strokeObj) {\n                shape.endStroke();\n            }\n            return shape;\n        }\n        RESManager.s = s;\n        /**\n         * 向后台请求或者传输数据的快速简便方法,比直接用URLLoader要方便,小巧\n         * @method ajax\n         * @public\n         * @since 1.0.0\n         * @param info 向后台传送数据所需要设置的信息\n         * @param {url} info.url 向后台请求的地址\n         * @param {string} info.type 向后台请求的类型 get 和 post,默认为get\n         * @param {Function} info.success 发送成功后的回调方法,后台数据将通过参数传回\n         * @param {Function} info.error 发送出错后的回调方法,出错信息通过参数传回\n         * @param {Object} info.data 向后台发送的信息对象,默认为null\n         * @param {string} info.responseType 后台返回数据的类型,默认为\"json\"\n         */\n        function ajax(info) {\n            var urlLoader = new annie.URLLoader();\n            urlLoader.method = info.type == undefined ? \"get\" : info.type;\n            urlLoader.data = info.data == undefined ? null : info.data;\n            urlLoader.responseType = info.responseType == undefined ? \"text\" : info.responseType;\n            if (info.success != undefined) {\n                urlLoader.addEventListener(annie.Event.COMPLETE, info.success);\n            }\n            if (info.error != undefined) {\n                urlLoader.addEventListener(annie.Event.ERROR, info.error);\n            }\n            urlLoader.load(info.url);\n        }\n        RESManager.ajax = ajax;\n    })(RESManager = annie.RESManager || (annie.RESManager = {}));\n})(annie || (annie = {}));\n/**\n * @module annie\n */\nvar annie;\n(function (annie) {\n    var isUpdateTween = true;\n    var TweenObj = (function (_super) {\n        __extends(TweenObj, _super);\n        function TweenObj() {\n            _super.call(this);\n            this._currentFrame = 0;\n            this._totalFrames = 0;\n            this._isLoop = 0;\n            this._delay = 0;\n            this._isFront = true;\n            this._cParams = null;\n            this._loop = false;\n        }\n        /**\n         * 初始化数据\n         * @method init\n         * @param target\n         * @param times\n         * @param data\n         * @param isTo\n         * @public\n         * @since 1.0.0\n         */\n        TweenObj.prototype.init = function (target, times, data, isTo) {\n            if (isTo === void 0) { isTo = true; }\n            var s = this;\n            s._currentFrame = 1;\n            s._totalFrames = times * 30 >> 0;\n            s.target = target;\n            s._isTo = isTo;\n            s._isLoop = 0;\n            s._startData = {};\n            s._disData = {};\n            s._delay = 0;\n            s._isFront = true;\n            s._ease = null;\n            s._update = null;\n            s._cParams = null;\n            s._loop = false;\n            s._completeFun = null;\n            for (var item in data) {\n                switch (item) {\n                    case \"useFrame\":\n                        if (data[item] == true) {\n                            s._totalFrames = times;\n                        }\n                        break;\n                    case \"yoyo\":\n                        if (data[item] === false) {\n                            s._isLoop = 0;\n                        }\n                        else if (data[item] === true) {\n                            s._isLoop = 32767;\n                        }\n                        else {\n                            s._isLoop = data[item];\n                        }\n                        break;\n                    case \"delay\":\n                        s._delay = data[item];\n                        break;\n                    case \"ease\":\n                        s._ease = data[item];\n                        break;\n                    case \"onUpdate\":\n                        s._update = data[item];\n                        break;\n                    case \"onComplete\":\n                        s._completeFun = data[item];\n                        break;\n                    case \"completeParams\":\n                        s._cParams = data[item];\n                        break;\n                    case \"loop\":\n                        s._loop = data[item];\n                        break;\n                    default:\n                        if (typeof (data[item]) == \"number\") {\n                            if (isTo) {\n                                s._startData[item] = target[item];\n                                s._disData[item] = data[item] - target[item];\n                            }\n                            else {\n                                s._startData[item] = data[item];\n                                s._disData[item] = target[item] - data[item];\n                            }\n                        }\n                }\n            }\n        };\n        /**\n         * 更新数据\n         * @method update\n         * @since 1.0.0\n         * @public\n         */\n        TweenObj.prototype.update = function () {\n            var s = this;\n            if (s._isFront && s._delay > 0) {\n                s._delay--;\n                return;\n            }\n            //更新数据\n            var per = s._currentFrame / s._totalFrames;\n            if (s._ease) {\n                per = s._ease(per);\n            }\n            for (var item in s._disData) {\n                s.target[item] = s._startData[item] + s._disData[item] * per;\n            }\n            if (s._update) {\n                s._update();\n            }\n            var cf = s._completeFun;\n            var pm = s._cParams;\n            if (s._isFront) {\n                s._currentFrame++;\n                if (s._currentFrame > s._totalFrames) {\n                    if (s._loop) {\n                        s._currentFrame = 1;\n                    }\n                    else {\n                        if (s._isLoop > 0) {\n                            s._isFront = false;\n                            s._currentFrame = s._totalFrames;\n                            s._isLoop--;\n                        }\n                        else {\n                            Tween.kill(s.getInstanceId());\n                        }\n                    }\n                    if (cf) {\n                        cf.apply(null, pm);\n                    }\n                }\n            }\n            else {\n                s._currentFrame--;\n                if (s._currentFrame < 0) {\n                    if (s._isLoop > 0) {\n                        s._isFront = true;\n                        s._currentFrame = 1;\n                    }\n                    else {\n                        Tween.kill(s.getInstanceId());\n                    }\n                    if (cf) {\n                        cf.apply(null, pm);\n                    }\n                }\n            }\n        };\n        return TweenObj;\n    }(annie.AObject));\n    /**\n     * 全局静态单列类,不要实例化此类\n     * @class annie.Tween\n     * @public\n     * @since 1.0.0\n     */\n    var Tween = (function () {\n        function Tween() {\n        }\n        /**\n         * 将target对象的属性数值渐变到data中对应属性指定的数值\n         * @method to\n         * @static\n         * @param {Object} target\n         * @param {number} totalFrame 总时间长度 用帧数来表示时间\n         * @param {Object} data 包含target对象的各种数字类型属性及其他一些方法属性\n         * @param {number:boolean} data.yoyo 是否向摆钟一样来回循环,默认为false.设置为true则会无限循环,或想只运行指定的摆动次数,将此参数设置为数字就行了。\n         * @param {number:boolean} data.loop 是否循环播放。\n         * @param {Function} data.onComplete 完成函数. 默认为null\n         * @param {Array} data.completeParams 完成函数参数. 默认为null，可以给完成函数里传参数\n         * @param {Function} data.onUpdate 进入每帧后执行函数.默认为null\n         * @param {Function} data.ease 缓动类型方法\n         * @param {boolean} data.useFrame 为false用时间秒值;为true则是以帧为单位\n         * @param {number} data.delay 延时，useFrame为true以帧为单位 useFrame为false以秒为单位\n         * @public\n         * @since 1.0.0\n         */\n        Tween.to = function (target, totalFrame, data) {\n            return Tween.createTween(target, totalFrame, data, true);\n        };\n        /**\n         * 将target对象从data中指定的属性数值渐变到target属性当前的数值\n         * @method from\n         * @static\n         * @param {Object} target\n         * @param {number} totalFrame 总时间长度 用帧数来表示时间\n         * @param {Object} data 包含target对象的各种数字类型属性及其他一些方法属性\n         * @param {number:boolean} data.yoyo 是否向摆钟一样来回循环,默认为false.设置为true则会无限循环,或想只运行指定的摆动次数,将此参数设置为数字就行了。\n         * @param {number:boolean} data.loop 是否循环播放。\n         * @param {Function} data.onComplete 完成结束函数. 默认为null\n         * @param {Array} data.completeParams 完成函数参数. 默认为null，可以给完成函数里传参数\n         * @param {Function} data.onUpdate 进入每帧后执行函数.默认为null\n         * @param {Function} data.ease 缓动类型方法\n         * @param {boolean} data.useFrame 为false用时间秒值;为true则是以帧为单位\n         * @param {number} data.delay 延时，useFrame为true以帧为单位 useFrame为false以秒为单位\n         * @public\n         * @since 1.0.0\n         */\n        Tween.from = function (target, totalFrame, data) {\n            return Tween.createTween(target, totalFrame, data, false);\n        };\n        Tween.createTween = function (target, totalFrame, data, isTo) {\n            var tweenOjb;\n            var len = Tween._tweenList.length;\n            for (var i = 0; i < len; i++) {\n                if (target == Tween._tweenList[i].target) {\n                    tweenOjb = Tween._tweenList[i];\n                    break;\n                }\n            }\n            if (!tweenOjb) {\n                len = Tween._tweenPool.length;\n                if (len > 0) {\n                    tweenOjb = Tween._tweenPool[0];\n                    Tween._tweenPool.shift();\n                }\n                else {\n                    tweenOjb = new TweenObj();\n                }\n                Tween._tweenList.push(tweenOjb);\n            }\n            tweenOjb.init(target, totalFrame, data, isTo);\n            return tweenOjb.getInstanceId();\n        };\n        /**\n         * 销毁所有正在运行的Tween对象\n         * @method killAll\n         * @static\n         * @public\n         * @since 1.0.0\n         */\n        Tween.killAll = function () {\n            var len = Tween._tweenList.length;\n            for (var i = 0; i < len; i++) {\n                Tween._tweenList[i].target = null;\n                Tween._tweenList[i]._completeFun = null;\n                Tween._tweenList[i]._cParams = null;\n                Tween._tweenList[i]._update = null;\n                Tween._tweenList[i]._ease = null;\n                Tween._tweenList[i]._loop = false;\n                Tween._tweenPool.push(Tween._tweenList[i]);\n            }\n            Tween._tweenList.length = 0;\n        };\n        /**\n         * @通过创建Tween对象返回时的唯一id来销毁对应的Tween对象\n         * @method kill\n         * @static\n         * @public\n         * @param {annie.Tween} tween\n         * @since 1.0.0\n         */\n        Tween.kill = function (tweenId) {\n            var len = Tween._tweenList.length;\n            for (var i = 0; i < len; i++) {\n                if (Tween._tweenList[i].getInstanceId() == tweenId) {\n                    Tween._tweenList[i].target = null;\n                    Tween._tweenList[i]._completeFun = null;\n                    Tween._tweenList[i]._cParams = null;\n                    Tween._tweenList[i]._update = null;\n                    Tween._tweenList[i]._ease = null;\n                    Tween._tweenList[i]._loop = null;\n                    Tween._tweenPool.push(Tween._tweenList[i]);\n                    Tween._tweenList.splice(i, 1);\n                    break;\n                }\n            }\n        };\n        /**\n         * quadraticIn缓动类型\n         * @method quadraticIn\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.quadraticIn = function (k) {\n            return k * k;\n        };\n        /**\n         * quadraticOut 缓动类型\n         * @method quadraticOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.quadraticOut = function (k) {\n            return k * (2 - k);\n        };\n        /**\n         * quadraticInOut 缓动类型\n         * @method quadraticInOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.quadraticInOut = function (k) {\n            if ((k *= 2) < 1) {\n                return 0.5 * k * k;\n            }\n            return -0.5 * (--k * (k - 2) - 1);\n        };\n        /**\n         * cubicIn 缓动类型\n         * @method cubicIn\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.cubicIn = function (k) {\n            return k * k * k;\n        };\n        /**\n         * cubicOut 缓动类型\n         * @method cubicOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.cubicOut = function (k) {\n            return --k * k * k + 1;\n        };\n        /**\n         * cubicInOut 缓动类型\n         * @method cubicInOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.cubicInOut = function (k) {\n            if ((k *= 2) < 1) {\n                return 0.5 * k * k * k;\n            }\n            return 0.5 * ((k -= 2) * k * k + 2);\n        };\n        /**\n         * quarticIn 缓动类型\n         * @method quarticIn\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.quarticIn = function (k) {\n            return k * k * k * k;\n        };\n        /**\n         * quarticOut 缓动类型\n         * @method quarticOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.quarticOut = function (k) {\n            return 1 - (--k * k * k * k);\n        };\n        /**\n         * quarticInOut 缓动类型\n         * @method quarticInOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.quarticInOut = function (k) {\n            if ((k *= 2) < 1) {\n                return 0.5 * k * k * k * k;\n            }\n            return -0.5 * ((k -= 2) * k * k * k - 2);\n        };\n        /**\n         * quinticIn 缓动类型\n         * @method quinticIn\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.quinticIn = function (k) {\n            return k * k * k * k * k;\n        };\n        /**\n         * quinticOut 缓动类型\n         * @method quinticOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.quinticOut = function (k) {\n            return --k * k * k * k * k + 1;\n        };\n        /**\n         * quinticInOut 缓动类型\n         * @method quinticInOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.quinticInOut = function (k) {\n            if ((k *= 2) < 1) {\n                return 0.5 * k * k * k * k * k;\n            }\n            return 0.5 * ((k -= 2) * k * k * k * k + 2);\n        };\n        /**\n         * sinusoidalIn 缓动类型\n         * @method sinusoidalIn\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.sinusoidalIn = function (k) {\n            return 1 - Math.cos(k * Math.PI / 2);\n        };\n        /**\n         * sinusoidalOut 缓动类型\n         * @method sinusoidalOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.sinusoidalOut = function (k) {\n            return Math.sin(k * Math.PI / 2);\n        };\n        /**\n         * sinusoidalInOut 缓动类型\n         * @method sinusoidalInOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.sinusoidalInOut = function (k) {\n            return 0.5 * (1 - Math.cos(Math.PI * k));\n        };\n        /**\n         * exponentialIn 缓动类型\n         * @method exponentialIn\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.exponentialIn = function (k) {\n            return k === 0 ? 0 : Math.pow(1024, k - 1);\n        };\n        /**\n         * exponentialOut 缓动类型\n         * @method exponentialOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.exponentialOut = function (k) {\n            return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n        };\n        /**\n         * exponentialInOut 缓动类型\n         * @method exponentialInOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.exponentialInOut = function (k) {\n            if (k === 0) {\n                return 0;\n            }\n            if (k === 1) {\n                return 1;\n            }\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(1024, k - 1);\n            }\n            return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n        };\n        /**\n         * circularIn 缓动类型\n         * @method circularIn\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.circularIn = function (k) {\n            return 1 - Math.sqrt(1 - k * k);\n        };\n        /**\n         * circularOut 缓动类型\n         * @method circularOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.circularOut = function (k) {\n            return Math.sqrt(1 - (--k * k));\n        };\n        /**\n         * circularInOut 缓动类型\n         * @method circularInOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.circularInOut = function (k) {\n            if ((k *= 2) < 1) {\n                return -0.5 * (Math.sqrt(1 - k * k) - 1);\n            }\n            return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n        };\n        /**\n         * elasticIn 缓动类型\n         * @method elasticIn\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.elasticIn = function (k) {\n            if (k === 0) {\n                return 0;\n            }\n            if (k === 1) {\n                return 1;\n            }\n            return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n        };\n        /**\n         * elasticOut 缓动类型\n         * @method elasticOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.elasticOut = function (k) {\n            if (k === 0) {\n                return 0;\n            }\n            if (k === 1) {\n                return 1;\n            }\n            return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n        };\n        /**\n         * elasticInOut 缓动类型\n         * @method elasticInOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.elasticInOut = function (k) {\n            if (k === 0) {\n                return 0;\n            }\n            if (k === 1) {\n                return 1;\n            }\n            k *= 2;\n            if (k < 1) {\n                return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n            }\n            return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n        };\n        /**\n         * backIn 缓动类型\n         * @method backIn\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.backIn = function (k) {\n            var s = 1.70158;\n            return k * k * ((s + 1) * k - s);\n        };\n        /**\n         * backOut 缓动类型\n         * @method backOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.backOut = function (k) {\n            var s = 1.70158;\n            return --k * k * ((s + 1) * k + s) + 1;\n        };\n        /**\n         * backInOut 缓动类型\n         * @method backInOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.backInOut = function (k) {\n            var s = 1.70158 * 1.525;\n            if ((k *= 2) < 1) {\n                return 0.5 * (k * k * ((s + 1) * k - s));\n            }\n            return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n        };\n        /**\n         * bounceIn 缓动类型\n         * @method bounceIn\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.bounceIn = function (k) {\n            return 1 - Tween.bounceOut(1 - k);\n        };\n        /**\n         * bounceOut 缓动类型\n         * @method bounceOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.bounceOut = function (k) {\n            if (k < (1 / 2.75)) {\n                return 7.5625 * k * k;\n            }\n            else if (k < (2 / 2.75)) {\n                return 7.5625 * (k -= (1.5 / 2.75)) * k + 0.75;\n            }\n            else if (k < (2.5 / 2.75)) {\n                return 7.5625 * (k -= (2.25 / 2.75)) * k + 0.9375;\n            }\n            else {\n                return 7.5625 * (k -= (2.625 / 2.75)) * k + 0.984375;\n            }\n        };\n        /**\n         * bounceInOut 缓动类型\n         * @method bounceInOut\n         * @static\n         * @public\n         * @since 1.0.0\n         * @param {number}k\n         * @returns {number}\n         */\n        Tween.bounceInOut = function (k) {\n            if (k < 0.5) {\n                return Tween.bounceIn(k * 2) * 0.5;\n            }\n            return Tween.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n        };\n        /**\n         * 这里之所有要独立运行,是因为可能存在多个stage，不能把这个跟其中任何一个stage放在一起update\n         * @method flush\n         * @private\n         * @since 1.0.0\n         */\n        Tween.flush = function () {\n            if (isUpdateTween) {\n                var len = Tween._tweenList.length;\n                for (var i = len - 1; i >= 0; i--) {\n                    Tween._tweenList[i].update();\n                }\n            }\n            isUpdateTween = !isUpdateTween;\n        };\n        Tween._tweenPool = [];\n        Tween._tweenList = [];\n        return Tween;\n    }());\n    annie.Tween = Tween;\n})(annie || (annie = {}));\n/**\n * @class annie\n */\nvar annie;\n(function (annie) {\n    /**\n     * 是否开启调试模式\n     * @public\n     * @since 1.0.1\n     * @public\n     * @property debug\n     * @type {boolean}\n     * @example\n     *      //在初始化stage之前输入以下代码，将会在界面调出调度面板\n     *      annie.debug=true;\n     */\n    annie.debug = false;\n    /**\n     * annie引擎的版本号\n     * @public\n     * @since 1.0.1\n     * @property version\n     * @type {string}\n     * @example\n     *      //打印当前引擎的版本号\n     *      trace(annie.version);\n     */\n    annie.version = \"1.0.2\";\n    /**\n     * 设备的retina值,简单点说就是几个像素表示设备上的一个点\n     * @property annie.devicePixelRatio\n     * @type {number}\n     * @since 1.0.0\n     * @public\n     * @static\n     * @example\n     *      //打印当前设备的retina值\n     *      trace(annie.devicePixelRatio);\n     */\n    annie.devicePixelRatio = window.devicePixelRatio ? window.devicePixelRatio : 1;\n    /**\n     * 当前设备是否是移动端或或是pc端,移动端是ios 或者 android\n     * @property annie.osType\n     * @since 1.0.0\n     * @public\n     * @type {string|string}\n     * @static\n     * @example\n     *      //获取当前设备类型\n     *      trace(annie.osType);\n     */\n    annie.osType = (function () {\n        var n = navigator.userAgent.toLocaleLowerCase();\n        var reg1 = /android/;\n        var reg2 = /iphone|ipod|ipad/;\n        if (reg1.test(n)) {\n            return \"android\";\n        }\n        else if (reg2.test(n)) {\n            return \"ios\";\n        }\n        else {\n            return \"pc\";\n        }\n    })();\n    /**\n     * 一个 StageScaleMode 中指定要使用哪种缩放模式的值。以下是有效值：\n     * StageScaleMode.EXACT_FIT -- 整个应用程序在指定区域中可见，但不尝试保持原始高宽比。可能会发生扭曲，应用程序可能会拉伸或压缩显示。\n     * StageScaleMode.SHOW_ALL -- 整个应用程序在指定区域中可见，且不发生扭曲，同时保持应用程序的原始高宽比。应用程序的两侧可能会显示边框。\n     * StageScaleMode.NO_BORDER -- 整个应用程序填满指定区域，不发生扭曲，但有可能进行一些裁切，同时保持应用程序的原始高宽比。\n     * StageScaleMode.NO_SCALE -- 整个应用程序的大小固定，因此，即使播放器窗口的大小更改，它也会保持不变。如果播放器窗口比内容小，则可能进行一些裁切。\n     * StageScaleMode.FIXED_WIDTH -- 整个应用程序的宽固定，因此，即使播放器窗口的大小更改，它也会保持不变。如果播放器窗口比内容小，则可能进行一些裁切。\n     * StageScaleMode.FIXED_HEIGHT -- 整个应用程序的高固定，因此，即使播放器窗口的大小更改，它也会保持不变。如果播放器窗口比内容小，则可能进行一些裁切。\n     * @property annie.StageScaleMode\n     * @type {Object}\n     * @public\n     * @since 1.0.0\n     * @static\n     * @example\n     *      //动态更改stage的对齐方式示例\n     *      //以下代码放到一个舞台的显示对象的构造函数中\n     *      var s=this;\n     *      s.addEventListener(annie.Event.ADD_TO_STAGE,function(e){\n     *          var i=0;\n     *          s.stage.addEventListener(annie.MouseEvent.CLICK,function(e){\n     *              var aList=[annie.StageScaleMode.EXACT_FIT,annie.StageScaleMode.NO_BORDER,annie.StageScaleMode.NO_SCALE,annie.StageScaleMode.SHOW_ALL,annie.StageScaleMode.FIXED_WIDTH,annie.StageScaleMode.FIXED_HEIGHT]\n     *              var state=e.currentTarget;\n     *              state.scaleMode=aList[i];\n     *              state.resize();\n     *              if(i>5){i=0;}\n     *          }\n     *      }\n     *\n     */\n    annie.StageScaleMode = {\n        EXACT_FIT: \"exactFit\",\n        NO_BORDER: \"noBorder\",\n        NO_SCALE: \"noScale\",\n        SHOW_ALL: \"showAll\",\n        FIXED_WIDTH: \"fixedWidth\",\n        FIXED_HEIGHT: \"fixedHeight\"\n    };\n    /**\n     * 跳转到指定网址\n     * @method navigateToURL\n     * @public\n     * @since 1.0.0\n     * @param {string} url\n     * @static\n     * @example\n     *      annie.navigateToURL(\"http://www.annie2x.com\");\n     */\n    function navigateToURL(url) {\n        window.location.href = url;\n    }\n    annie.navigateToURL = navigateToURL;\n    /**\n     * 向后台发送数据,但不会理会任何的后台反馈\n     * @method sendToURL\n     * @public\n     * @since 1.0.0\n     * @param {string} url\n     * @static\n     * @example\n     *      annie.sendToURL(\"http://www.annie2x.com\");\n     */\n    function sendToURL(url) {\n        var req = new XMLHttpRequest();\n        req.open(\"get\", url, true);\n        req.send();\n    }\n    annie.sendToURL = sendToURL;\n    /**\n     * 是否允许html页面接受滑动事件。如:有些时候需要叠加一些很长的div元素在canvas上面。\n     * 这个时候如果不开启这个允许滑动属性，则无法下拉div显示超出屏幕外的内容\n     * @property canTouchMove\n     * @type {boolean}\n     * @static\n     * @since 1.0.0\n     * @public\n     * @type{boolean}\n     * @default false\n     */\n    annie.canHTMLTouchMove = false;\n    // 作为将显示对象导出成图片的render渲染器\n    var _dRender = null;\n    /**\n     * 将显示对象转成base64的图片数据\n     * @method toDisplayDataURL\n     * @static\n     * @param {annie.DisplayObject} obj 显示对象\n     * @param {annie.Rectangle} rect 需要裁切的区域，默认不裁切\n     * @param {Object} typeInfo {type:\"png\"}  或者 {type:\"jpeg\",quality:100}  png格式不需要设置quality，jpeg 格式需要设置quality的值 从1-100\n     * @param {string} bgColor 颜色值如 #fff,rgba(255,23,34,44)等！默认值为空的情况下，jpeg格式的话就是黑色底，png格式的话就是透明底\n     * @return {string} base64格式数据\n     */\n    annie.toDisplayDataURL = function (obj, rect, typeInfo, bgColor) {\n        if (rect === void 0) { rect = null; }\n        if (typeInfo === void 0) { typeInfo = null; }\n        if (bgColor === void 0) { bgColor = \"\"; }\n        if (!_dRender) {\n            _dRender = new annie.CanvasRender(null);\n        }\n        _dRender._stage = obj;\n        _dRender.rootContainer = annie.DisplayObject[\"_canvas\"];\n        //设置宽高,如果obj没有添加到舞台上就去截图的话,会出现宽高不准的时候，需要刷新一下。\n        if (!obj.stage) {\n            obj.update();\n        }\n        var whObj = obj.getBounds();\n        var w = rect ? rect.width : whObj.width;\n        var h = rect ? rect.height : whObj.height;\n        _dRender.rootContainer.width = w;\n        _dRender.rootContainer.height = h;\n        _dRender._ctx = _dRender.rootContainer[\"getContext\"]('2d');\n        if (bgColor == \"\") {\n            _dRender._ctx.clearRect(0, 0, w, h);\n        }\n        else {\n            _dRender._ctx.fillStyle = bgColor;\n            _dRender._ctx.fillRect(0, 0, w, h);\n        }\n        var objInfo = { p: obj.parent, x: obj.x, y: obj.y, scX: obj.scaleX, scY: obj.scaleY, r: obj.rotation, skX: obj.skewX, skY: obj.skewY };\n        obj.parent = null;\n        obj.x = rect ? -rect.x : 0;\n        obj.y = rect ? -rect.y : 0;\n        obj.scaleX = obj.scaleY = 1;\n        obj.rotation = obj.skewX = obj.skewY = 0;\n        obj.update();\n        obj.render(_dRender);\n        obj.parent = objInfo.p;\n        obj.x = objInfo.x;\n        obj.y = objInfo.y;\n        obj.scaleX = objInfo.scX;\n        obj.scaleY = objInfo.scY;\n        obj.rotation = objInfo.r;\n        obj.skewX = objInfo.skX;\n        obj.skewY = objInfo.skY;\n        if (!typeInfo) {\n            typeInfo = { type: \"png\" };\n        }\n        return _dRender.rootContainer.toDataURL(\"image/\" + typeInfo.type, typeInfo.quality);\n    };\n})(annie || (annie = {}));\n/**\n * @class 全局\n */\n/**\n * 往控制台打印调试信息\n * @method trace\n * @param {Object} arg 任何个数,任意类型的参数\n * @since 1.0.0\n * @public\n * @static\n * @example\n *      trace(1);\n *      trace(1,\"hello\");\n */\nvar trace = function () {\n    var arg = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        arg[_i - 0] = arguments[_i];\n    }\n    for (var i in arguments) {\n        console.log(arguments[i]);\n    }\n};\n/**\n * 全局事件触发器\n * @static\n * @property  globalDispatcher\n * @type {annie.EventDispatcher}\n * @public\n * @since 1.0.0\n * @example\n *      //A代码放到任何合适的地方\n *      globalDispatcher.addEventListener(\"myTest\",function(e){\n *          trace(\"收到了其他地方发来的消息:\"+e.data);\n *      });\n *\n *      //B代码放到任何一个可以点击的对象的构造函数中\n *      this.addEventListener(annie.MouseEvent.CLICK,function(e){\n *          globalDispatcher.dispatchEvent(\"myTest\",\"我是小可\");\n *      });\n *\n */\nvar globalDispatcher = new annie.EventDispatcher();\n//禁止页面滑动\ndocument.ontouchmove = function (e) {\n    if (!annie.canHTMLTouchMove || !annie.debug) {\n        e.preventDefault();\n    }\n};\nwindow.Flash2x = annie.RESManager;\nwindow.F2xContainer = annie.Sprite;\nwindow.F2xMovieClip = annie.MovieClip;\nwindow.F2xText = annie.TextField;\nwindow.F2xInputText = annie.InputText;\nwindow.F2xBitmap = annie.Bitmap;\nwindow.F2xShape = annie.Shape;\nannie.Stage[\"addUpdateObj\"](annie.Tween);\nannie.Stage[\"flushAll\"]();\nwindow.annie=annie;\n\nmodule.exports=annie;\n}.call(window));\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/imports-loader?this=>window!./client/libs/annieCore.js\n// module id = 36\n// module chunks = 4","'use strict';\r\n\r\nvar async=require('async'), me=require('./myself.js'), printf=require('printf'), etc=require('./etc.js');\r\nvar wins=require('./windows.js');\r\n\r\nvar Loader = laya.net.Loader;\r\nvar Handler = laya.utils.Handler;\r\nvar innerStage;\r\n\r\nfunction toMinuteStr(num) {\r\n\treturn printf('%02d:%02d', Math.floor(num/60), (num%60));\r\n}\r\nfunction capitalizeFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\nclass HallUI {\r\n\tconstructor(opt) {\r\n\t\tthis.opt=opt;\r\n\t}\r\n\tstatic create(opt, cb) {\r\n\t\tif (typeof opt==='function') {cb=opt; opt={}}\r\n\t\tLaya.loader.load([\r\n\t\t\t{ url: require(\"./res/majiang@atlas0.png\"), type: Loader.IMAGE },\r\n\t\t\t{ url: require(\"./res/majiang.fui\"), type: Loader.BUFFER }\r\n\t\t], Handler.create(null, function() {\r\n\t\t\tvar hall=new HallUI(opt);\r\n\t\t\tfairygui.UIPackage.addPackage(\"majiang\");\r\n\t\t\tvar _view = fairygui.UIPackage.createObject(\"majiang\", \"Component3\").asCom;\r\n\t\t\thall._view=_view;\r\n\r\n\t\t\t_view.getChild('n0').onClick(null, function() {\r\n\t\t\t\t_socket.sendp({c:'join', code:_view.getChild('n4').text});\r\n\t\t\t})\r\n\r\n\t\t\t_view.getChild('n2').onClick(null, function() {\r\n\t\t\t\t_socket.sendp({c:'entergame',roomtype:'mahjong'});\t\r\n\t\t\t});\r\n\r\n\t\t\tcb(null, hall);\r\n\t\t}));\r\n\t}\r\n\r\n\tmsg(pack) {\r\n\t\tswitch(pack.c) {\r\n\t\t\tcase 'userin':\r\n\t\t\t\tthis._view.getChild('log') && (this._view.getChild('log').text+='<br><a href=\"javascritp:showUser('+pack.userid+')\">'+pack.nick+'</a> entered')\r\n\t\t\tbreak;\r\n\t\t\tcase 'userout':\r\n\t\t\t\tthis._view.getChild('log') && (this._view.getChild('log').text+='<br><a href=\"javascritp:showUser('+pack.userid+')\">'+pack.nick+'</a> out')\r\n\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\tactive() {\r\n\t\tLaya.SoundManager.playMusic(require('./res/snd/bg-lobby.mp3'));\r\n\t}\r\n\tdeactive() {\r\n\t\t//me.removeAllListeners();\r\n\t}\r\n}\r\n\r\nvar uidefine={\r\n\t'wechat_login':function() {\r\n\t\tvar args=arguments;\r\n\t\tvar loader=require('bundle!./wechat-login.js');\r\n\t\tloader(function(creator) {\r\n\t\t\tcreator.apply(null, args);\r\n\t\t})\r\n\t},\r\n\t'hall':HallUI.create,\r\n\t'gamemahjong':function() {\r\n\t\tvar args=arguments;\r\n\t\tvar loader=require('bundle!./majiang.js');\r\n\t\tloader(function(creator) {\r\n\t\t\tcreator.apply(null, args);\r\n\t\t})\r\n\t},\r\n};\r\nvar uiCreator=function(name, opt, cb) {\r\n\tif (uidefine[name]) {\r\n\t\treturn uidefine[name](opt, cb);\r\n\t}\r\n\tcb('no such view');\r\n}\r\nvar ui={\r\n\tviews:{},\r\n\tcurrent:null,\r\n\tget:function(viewname, opt, cb) {\r\n\t\tvar self=this;\r\n\t\t//if (this.views[viewname]) return cb(null, this.views[viewname]);\r\n\t\tuiCreator(viewname, opt, function(err, view) {\r\n\t\t\tconsole.log(viewname, 'created');\r\n\t\t\tif (err) return cb(err);\r\n\t\t\t//self.views[viewname]=view;\r\n\t\t\tcb(null, view);\r\n\t\t});\r\n\t},\r\n\tactive:function(viewname, opt, cb) {\r\n\t\tvar self=this;\r\n\t\tthis.get(viewname, opt, function(err, view){\r\n\t\t\tif (err) return (cb && cb(err));\r\n\t\t\tconsole.log('enter', viewname);\r\n\t\t\tif (view==self.current) return (cb && cb(null, view));\r\n\t\t\tif (self.current) {\r\n\t\t\t\tself.current.deactive && self.current.deactive();\r\n\t\t\t\tfairygui.GRoot.inst.removeChild(self.current._view);\r\n\t\t\t}\r\n\t\t\tLaya.SoundManager.stopAll();\r\n\t\t\tview._view.setSize(fairygui.GRoot.inst.width, fairygui.GRoot.inst.height);\r\n\t\t\tview._view.addRelation(fairygui.GRoot.inst, fairygui.RelationType.Size);\r\n\t\t\tfairygui.GRoot.inst.addChild(view._view);\r\n\t\t\tself.current=view;\r\n\t\t\tcb && cb(null, view);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nmodule.exports=ui;\n\n\n// WEBPACK FOOTER //\n// ./client/ui.js","\nvar util = require('util');\n\nvar tokenize = function(/*String*/ str, /*RegExp*/ re, /*Function?*/ parseDelim, /*Object?*/ instance){\n  // summary:\n  //    Split a string by a regular expression with the ability to capture the delimeters\n  // parseDelim:\n  //    Each group (excluding the 0 group) is passed as a parameter. If the function returns\n  //    a value, it's added to the list of tokens.\n  // instance:\n  //    Used as the \"this' instance when calling parseDelim\n  var tokens = [];\n  var match, content, lastIndex = 0;\n  while((match = re.exec(str))){\n    content = str.slice(lastIndex, re.lastIndex - match[0].length);\n    if(content.length){\n      tokens.push(content);\n    }\n    if(parseDelim){\n      var parsed = parseDelim.apply(instance, match.slice(1).concat(tokens.length));\n      if(typeof parsed != 'undefined'){\n        if(parsed.specifier === '%'){\n          tokens.push('%');\n        }else{\n          tokens.push(parsed);\n        }\n      }\n    }\n    lastIndex = re.lastIndex;\n  }\n  content = str.slice(lastIndex);\n  if(content.length){\n    tokens.push(content);\n  }\n  return tokens;\n};\n\nvar Formatter = function(/*String*/ format){\n  this._mapped = false;\n  this._format = format;\n  this._tokens = tokenize(format, this._re, this._parseDelim, this);\n};\n\nFormatter.prototype._re = /\\%(?:\\(([\\w_.]+)\\)|([1-9]\\d*)\\$)?([0 +\\-\\#]*)(\\*|\\d+)?(\\.)?(\\*|\\d+)?[hlL]?([\\%bscdeEfFgGioOuxX])/g;\nFormatter.prototype._parseDelim = function(mapping, intmapping, flags, minWidth, period, precision, specifier){\n  if(mapping){\n    this._mapped = true;\n  }\n  return {\n    mapping: mapping,\n    intmapping: intmapping,\n    flags: flags,\n    _minWidth: minWidth, // May be dependent on parameters\n    period: period,\n    _precision: precision, // May be dependent on parameters\n    specifier: specifier\n  };\n};\nFormatter.prototype._specifiers = {\n  b: {\n    base: 2,\n    isInt: true\n  },\n  o: {\n    base: 8,\n    isInt: true\n  },\n  x: {\n    base: 16,\n    isInt: true\n  },\n  X: {\n    extend: ['x'],\n    toUpper: true\n  },\n  d: {\n    base: 10,\n    isInt: true\n  },\n  i: {\n    extend: ['d']\n  },\n  u: {\n    extend: ['d'],\n    isUnsigned: true\n  },\n  c: {\n    setArg: function(token){\n      if(!isNaN(token.arg)){\n        var num = parseInt(token.arg);\n        if(num < 0 || num > 127){\n          throw new Error('invalid character code passed to %c in printf');\n        }\n        token.arg = isNaN(num) ? '' + num : String.fromCharCode(num);\n      }\n    }\n  },\n  s: {\n    setMaxWidth: function(token){\n      token.maxWidth = (token.period == '.') ? token.precision : -1;\n    }\n  },\n  e: {\n    isDouble: true,\n    doubleNotation: 'e'\n  },\n  E: {\n    extend: ['e'],\n    toUpper: true\n  },\n  f: {\n    isDouble: true,\n    doubleNotation: 'f'\n  },\n  F: {\n    extend: ['f']\n  },\n  g: {\n    isDouble: true,\n    doubleNotation: 'g'\n  },\n  G: {\n    extend: ['g'],\n    toUpper: true\n  },\n  O: {\n    isObject: true\n  }\n};\nFormatter.prototype.format = function(/*mixed...*/ filler){\n  if(this._mapped && typeof filler != 'object'){\n    throw new Error('format requires a mapping');\n  }\n\n  var str = '';\n  var position = 0;\n  for(var i = 0, token; i < this._tokens.length; i++){\n    token = this._tokens[i];\n\n    if(typeof token == 'string'){\n      str += token;\n    }else{\n      if(this._mapped){\n        // Identify value of property defined in `token.mapping`\n        var tokens = token.mapping.split('.');\n        var value = filler;\n        for (var j = 0, c = tokens.length; j < c; j++) {\n          value = value[tokens[j]];\n          if (typeof value === 'undefined') {\n            break\n          }\n        }\n        if(typeof value == 'undefined'){\n          throw new Error('missing key ' + token.mapping);\n        }\n        token.arg = value;\n      }else{\n        if(token.intmapping){\n          position = parseInt(token.intmapping) - 1;\n        }\n        if(position >= arguments.length){\n          throw new Error('got ' + arguments.length + ' printf arguments, insufficient for \\'' + this._format + '\\'');\n        }\n        token.arg = arguments[position++];\n      }\n\n      if(!token.compiled){\n        token.compiled = true;\n        token.sign = '';\n        token.zeroPad = false;\n        token.rightJustify = false;\n        token.alternative = false;\n\n        var flags = {};\n        for(var fi = token.flags.length; fi--;){\n          var flag = token.flags.charAt(fi);\n          flags[flag] = true;\n          switch(flag){\n            case ' ':\n              token.sign = ' ';\n              break;\n            case '+':\n              token.sign = '+';\n              break;\n            case '0':\n              token.zeroPad = (flags['-']) ? false : true;\n              break;\n            case '-':\n              token.rightJustify = true;\n              token.zeroPad = false;\n              break;\n            case '#':\n              token.alternative = true;\n              break;\n            default:\n              throw Error('bad formatting flag \\'' + token.flags.charAt(fi) + '\\'');\n          }\n        }\n\n        token.minWidth = (token._minWidth) ? parseInt(token._minWidth) : 0;\n        token.maxWidth = -1;\n        token.toUpper = false;\n        token.isUnsigned = false;\n        token.isInt = false;\n        token.isDouble = false;\n        token.isObject = false;\n        token.precision = 1;\n        if(token.period == '.'){\n          if(token._precision){\n            token.precision = parseInt(token._precision);\n          }else{\n            token.precision = 0;\n          }\n        }\n\n        var mixins = this._specifiers[token.specifier];\n        if(typeof mixins == 'undefined'){\n          throw new Error('unexpected specifier \\'' + token.specifier + '\\'');\n        }\n        if(mixins.extend){\n          var s = this._specifiers[mixins.extend];\n          for(var k in s){\n            mixins[k] = s[k];\n          }\n          delete mixins.extend;\n        }\n        for(var l in mixins){\n          token[l] = mixins[l];\n        }\n      }\n\n      if(typeof token.setArg == 'function'){\n        token.setArg(token);\n      }\n\n      if(typeof token.setMaxWidth == 'function'){\n        token.setMaxWidth(token);\n      }\n\n      if(token._minWidth == '*'){\n        if(this._mapped){\n          throw new Error('* width not supported in mapped formats');\n        }\n        token.minWidth = parseInt(arguments[position++]);\n        if(isNaN(token.minWidth)){\n          throw new Error('the argument for * width at position ' + position + ' is not a number in ' + this._format);\n        }\n        // negative width means rightJustify\n        if (token.minWidth < 0) {\n          token.rightJustify = true;\n          token.minWidth = -token.minWidth;\n        }\n      }\n\n      if(token._precision == '*' && token.period == '.'){\n        if(this._mapped){\n          throw new Error('* precision not supported in mapped formats');\n        }\n        token.precision = parseInt(arguments[position++]);\n        if(isNaN(token.precision)){\n          throw Error('the argument for * precision at position ' + position + ' is not a number in ' + this._format);\n        }\n        // negative precision means unspecified\n        if (token.precision < 0) {\n          token.precision = 1;\n          token.period = '';\n        }\n      }\n      if(token.isInt){\n        // a specified precision means no zero padding\n        if(token.period == '.'){\n          token.zeroPad = false;\n        }\n        this.formatInt(token);\n      }else if(token.isDouble){\n        if(token.period != '.'){\n          token.precision = 6;\n        }\n        this.formatDouble(token);\n      }else if(token.isObject){\n        this.formatObject(token);\n      }\n      this.fitField(token);\n\n      str += '' + token.arg;\n    }\n  }\n\n  return str;\n};\nFormatter.prototype._zeros10 = '0000000000';\nFormatter.prototype._spaces10 = '          ';\nFormatter.prototype.formatInt = function(token) {\n  var i = parseInt(token.arg);\n  if(!isFinite(i)){ // isNaN(f) || f == Number.POSITIVE_INFINITY || f == Number.NEGATIVE_INFINITY)\n    // allow this only if arg is number\n    if(typeof token.arg != 'number'){\n      throw new Error('format argument \\'' + token.arg + '\\' not an integer; parseInt returned ' + i);\n    }\n    //return '' + i;\n    i = 0;\n  }\n\n  // if not base 10, make negatives be positive\n  // otherwise, (-10).toString(16) is '-a' instead of 'fffffff6'\n  if(i < 0 && (token.isUnsigned || token.base != 10)){\n    i = 0xffffffff + i + 1;\n  }\n\n  if(i < 0){\n    token.arg = (- i).toString(token.base);\n    this.zeroPad(token);\n    token.arg = '-' + token.arg;\n  }else{\n    token.arg = i.toString(token.base);\n    // need to make sure that argument 0 with precision==0 is formatted as ''\n    if(!i && !token.precision){\n      token.arg = '';\n    }else{\n      this.zeroPad(token);\n    }\n    if(token.sign){\n      token.arg = token.sign + token.arg;\n    }\n  }\n  if(token.base == 16){\n    if(token.alternative){\n      token.arg = '0x' + token.arg;\n    }\n    token.arg = token.toUpper ? token.arg.toUpperCase() : token.arg.toLowerCase();\n  }\n  if(token.base == 8){\n    if(token.alternative && token.arg.charAt(0) != '0'){\n      token.arg = '0' + token.arg;\n    }\n  }\n};\nFormatter.prototype.formatDouble = function(token) {\n  var f = parseFloat(token.arg);\n  if(!isFinite(f)){ // isNaN(f) || f == Number.POSITIVE_INFINITY || f == Number.NEGATIVE_INFINITY)\n    // allow this only if arg is number\n    if(typeof token.arg != 'number'){\n      throw new Error('format argument \\'' + token.arg + '\\' not a float; parseFloat returned ' + f);\n    }\n    // C99 says that for 'f':\n    //   infinity -> '[-]inf' or '[-]infinity' ('[-]INF' or '[-]INFINITY' for 'F')\n    //   NaN -> a string  starting with 'nan' ('NAN' for 'F')\n    // this is not commonly implemented though.\n    //return '' + f;\n    f = 0;\n  }\n\n  switch(token.doubleNotation) {\n    case 'e': {\n      token.arg = f.toExponential(token.precision);\n      break;\n    }\n    case 'f': {\n      token.arg = f.toFixed(token.precision);\n      break;\n    }\n    case 'g': {\n      // C says use 'e' notation if exponent is < -4 or is >= prec\n      // ECMAScript for toPrecision says use exponential notation if exponent is >= prec,\n      // though step 17 of toPrecision indicates a test for < -6 to force exponential.\n      if(Math.abs(f) < 0.0001){\n        //print('forcing exponential notation for f=' + f);\n        token.arg = f.toExponential(token.precision > 0 ? token.precision - 1 : token.precision);\n      }else{\n        token.arg = f.toPrecision(token.precision);\n      }\n\n      // In C, unlike 'f', 'gG' removes trailing 0s from fractional part, unless alternative format flag ('#').\n      // But ECMAScript formats toPrecision as 0.00100000. So remove trailing 0s.\n      if(!token.alternative){\n        //print('replacing trailing 0 in \\'' + s + '\\'');\n        token.arg = token.arg.replace(/(\\..*[^0])0*e/, '$1e');\n        // if fractional part is entirely 0, remove it and decimal point\n        token.arg = token.arg.replace(/\\.0*e/, 'e').replace(/\\.0$/,'');\n      }\n      break;\n    }\n    default: throw new Error('unexpected double notation \\'' + token.doubleNotation + '\\'');\n  }\n\n  // C says that exponent must have at least two digits.\n  // But ECMAScript does not; toExponential results in things like '1.000000e-8' and '1.000000e+8'.\n  // Note that s.replace(/e([\\+\\-])(\\d)/, 'e$10$2') won't work because of the '$10' instead of '$1'.\n  // And replace(re, func) isn't supported on IE50 or Safari1.\n  token.arg = token.arg.replace(/e\\+(\\d)$/, 'e+0$1').replace(/e\\-(\\d)$/, 'e-0$1');\n\n  // if alt, ensure a decimal point\n  if(token.alternative){\n    token.arg = token.arg.replace(/^(\\d+)$/,'$1.');\n    token.arg = token.arg.replace(/^(\\d+)e/,'$1.e');\n  }\n\n  if(f >= 0 && token.sign){\n    token.arg = token.sign + token.arg;\n  }\n\n  token.arg = token.toUpper ? token.arg.toUpperCase() : token.arg.toLowerCase();\n};\nFormatter.prototype.formatObject = function(token) {\n  // If no precision is specified, then reset it to null (infinite depth).\n  var precision = (token.period === '.') ? token.precision : null;\n  token.arg = util.inspect(token.arg, !token.alternative, precision);\n};\nFormatter.prototype.zeroPad = function(token, /*Int*/ length) {\n  length = (arguments.length == 2) ? length : token.precision;\n  var negative = false;\n  if(typeof token.arg != \"string\"){\n    token.arg = \"\" + token.arg;\n  }\n  if (token.arg.substr(0,1) === '-') {\n    negative = true;\n    token.arg = token.arg.substr(1);\n  }\n\n  var tenless = length - 10;\n  while(token.arg.length < tenless){\n    token.arg = (token.rightJustify) ? token.arg + this._zeros10 : this._zeros10 + token.arg;\n  }\n  var pad = length - token.arg.length;\n  token.arg = (token.rightJustify) ? token.arg + this._zeros10.substring(0, pad) : this._zeros10.substring(0, pad) + token.arg;\n  if (negative) token.arg = '-' + token.arg;\n};\nFormatter.prototype.fitField = function(token) {\n  if(token.maxWidth >= 0 && token.arg.length > token.maxWidth){\n    return token.arg.substring(0, token.maxWidth);\n  }\n  if(token.zeroPad){\n    this.zeroPad(token, token.minWidth);\n    return;\n  }\n  this.spacePad(token);\n};\nFormatter.prototype.spacePad = function(token, /*Int*/ length) {\n  length = (arguments.length == 2) ? length : token.minWidth;\n  if(typeof token.arg != 'string'){\n    token.arg = '' + token.arg;\n  }\n  var tenless = length - 10;\n  while(token.arg.length < tenless){\n    token.arg = (token.rightJustify) ? token.arg + this._spaces10 : this._spaces10 + token.arg;\n  }\n  var pad = length - token.arg.length;\n  token.arg = (token.rightJustify) ? token.arg + this._spaces10.substring(0, pad) : this._spaces10.substring(0, pad) + token.arg;\n};\n\n\nmodule.exports = function(){\n  var args = Array.prototype.slice.call(arguments),\n    stream, format;\n  if(args[0] instanceof require('stream').Stream){\n    stream = args.shift();\n  }\n  format = args.shift();\n  var formatter = new Formatter(format);\n  var string = formatter.format.apply(formatter, args);\n  if(stream){\n    stream.write(string);\n  }else{\n    return string;\n  }\n};\n\nmodule.exports.Formatter = Formatter;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/printf/lib/printf.js\n// module id = 38\n// module chunks = 4","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/util/util.js\n// module id = 39\n// module chunks = 4","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/util/support/isBufferBrowser.js\n// module id = 40\n// module chunks = 4","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/util/~/inherits/inherits_browser.js\n// module id = 41\n// module chunks = 4","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/stream-browserify/index.js\n// module id = 42\n// module chunks = 4","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/stream-browserify/~/inherits/inherits_browser.js\n// module id = 43\n// module chunks = 4","var Stream = (function (){\n  try {\n    return require('st' + 'ream'); // hack to fix a circular dependency issue when used with browserify\n  } catch(_){}\n}());\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = Stream || exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n\nif (!process.browser && process.env.READABLE_STREAM === 'disable' && Stream) {\n  module.exports = Stream;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/readable.js\n// module id = 44\n// module chunks = 4","'use strict';\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar processNextTick = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream;\n(function () {\n  try {\n    Stream = require('st' + 'ream');\n  } catch (_) {} finally {\n    if (!Stream) Stream = require('events').EventEmitter;\n  }\n})();\n/*</replacement>*/\n\nvar Buffer = require('buffer').Buffer;\n/*<replacement>*/\nvar bufferShim = require('buffer-shims');\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') {\n    return emitter.prependListener(event, fn);\n  } else {\n    // This is a hack to make sure that our error handler is attached before any\n    // userland ones.  NEVER DO THIS. This is here only because this code needs\n    // to continue to work with older versions of Node.js that do not include\n    // the prependListener() method. The goal is to eventually remove this hack.\n    if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n  }\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options && typeof options.read === 'function') this._read = options.read;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n\n  if (!state.objectMode && typeof chunk === 'string') {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = bufferShim.from(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var _e = new Error('stream.unshift() after end event');\n      stream.emit('error', _e);\n    } else {\n      var skipAdd;\n      if (state.decoder && !addToFront && !encoding) {\n        chunk = state.decoder.write(chunk);\n        skipAdd = !state.objectMode && chunk.length === 0;\n      }\n\n      if (!addToFront) state.reading = false;\n\n      // Don't add to the buffer if we've decoded to an empty string chunk and\n      // we're not in object mode\n      if (!skipAdd) {\n        // if we want the data now, just emit it.\n        if (state.flowing && state.length === 0 && !state.sync) {\n          stream.emit('data', chunk);\n          stream.read(0);\n        } else {\n          // update the buffer info.\n          state.length += state.objectMode ? 1 : chunk.length;\n          if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n          if (state.needReadable) emitReadable(stream);\n        }\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== null && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) processNextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    processNextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted) processNextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        processNextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    processNextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function (ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = bufferShim.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    processNextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/lib/_stream_readable.js\n// module id = 45\n// module chunks = 4","'use strict';\n\nif (!process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = nextTick;\n} else {\n  module.exports = process.nextTick;\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/~/process-nextick-args/index.js\n// module id = 46\n// module chunks = 4","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/~/isarray/index.js\n// module id = 47\n// module chunks = 4","'use strict';\n\nvar buffer = require('buffer');\nvar Buffer = buffer.Buffer;\nvar SlowBuffer = buffer.SlowBuffer;\nvar MAX_LEN = buffer.kMaxLength || 2147483647;\nexports.alloc = function alloc(size, fill, encoding) {\n  if (typeof Buffer.alloc === 'function') {\n    return Buffer.alloc(size, fill, encoding);\n  }\n  if (typeof encoding === 'number') {\n    throw new TypeError('encoding must not be number');\n  }\n  if (typeof size !== 'number') {\n    throw new TypeError('size must be a number');\n  }\n  if (size > MAX_LEN) {\n    throw new RangeError('size is too large');\n  }\n  var enc = encoding;\n  var _fill = fill;\n  if (_fill === undefined) {\n    enc = undefined;\n    _fill = 0;\n  }\n  var buf = new Buffer(size);\n  if (typeof _fill === 'string') {\n    var fillBuf = new Buffer(_fill, enc);\n    var flen = fillBuf.length;\n    var i = -1;\n    while (++i < size) {\n      buf[i] = fillBuf[i % flen];\n    }\n  } else {\n    buf.fill(_fill);\n  }\n  return buf;\n}\nexports.allocUnsafe = function allocUnsafe(size) {\n  if (typeof Buffer.allocUnsafe === 'function') {\n    return Buffer.allocUnsafe(size);\n  }\n  if (typeof size !== 'number') {\n    throw new TypeError('size must be a number');\n  }\n  if (size > MAX_LEN) {\n    throw new RangeError('size is too large');\n  }\n  return new Buffer(size);\n}\nexports.from = function from(value, encodingOrOffset, length) {\n  if (typeof Buffer.from === 'function' && (!global.Uint8Array || Uint8Array.from !== Buffer.from)) {\n    return Buffer.from(value, encodingOrOffset, length);\n  }\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number');\n  }\n  if (typeof value === 'string') {\n    return new Buffer(value, encodingOrOffset);\n  }\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    var offset = encodingOrOffset;\n    if (arguments.length === 1) {\n      return new Buffer(value);\n    }\n    if (typeof offset === 'undefined') {\n      offset = 0;\n    }\n    var len = length;\n    if (typeof len === 'undefined') {\n      len = value.byteLength - offset;\n    }\n    if (offset >= value.byteLength) {\n      throw new RangeError('\\'offset\\' is out of bounds');\n    }\n    if (len > value.byteLength - offset) {\n      throw new RangeError('\\'length\\' is out of bounds');\n    }\n    return new Buffer(value.slice(offset, offset + len));\n  }\n  if (Buffer.isBuffer(value)) {\n    var out = new Buffer(value.length);\n    value.copy(out, 0, 0, value.length);\n    return out;\n  }\n  if (value) {\n    if (Array.isArray(value) || (typeof ArrayBuffer !== 'undefined' && value.buffer instanceof ArrayBuffer) || 'length' in value) {\n      return new Buffer(value);\n    }\n    if (value.type === 'Buffer' && Array.isArray(value.data)) {\n      return new Buffer(value.data);\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ' + 'ArrayBuffer, Array, or array-like object.');\n}\nexports.allocUnsafeSlow = function allocUnsafeSlow(size) {\n  if (typeof Buffer.allocUnsafeSlow === 'function') {\n    return Buffer.allocUnsafeSlow(size);\n  }\n  if (typeof size !== 'number') {\n    throw new TypeError('size must be a number');\n  }\n  if (size >= MAX_LEN) {\n    throw new RangeError('size is too large');\n  }\n  return new SlowBuffer(size);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/~/buffer-shims/index.js\n// module id = 48\n// module chunks = 4","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/~/core-util-is/lib/util.js\n// module id = 49\n// module chunks = 4","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/~/inherits/inherits_browser.js\n// module id = 50\n// module chunks = 4","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 51\n// module chunks = 4","'use strict';\n\nvar Buffer = require('buffer').Buffer;\n/*<replacement>*/\nvar bufferShim = require('buffer-shims');\n/*</replacement>*/\n\nmodule.exports = BufferList;\n\nfunction BufferList() {\n  this.head = null;\n  this.tail = null;\n  this.length = 0;\n}\n\nBufferList.prototype.push = function (v) {\n  var entry = { data: v, next: null };\n  if (this.length > 0) this.tail.next = entry;else this.head = entry;\n  this.tail = entry;\n  ++this.length;\n};\n\nBufferList.prototype.unshift = function (v) {\n  var entry = { data: v, next: this.head };\n  if (this.length === 0) this.tail = entry;\n  this.head = entry;\n  ++this.length;\n};\n\nBufferList.prototype.shift = function () {\n  if (this.length === 0) return;\n  var ret = this.head.data;\n  if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n  --this.length;\n  return ret;\n};\n\nBufferList.prototype.clear = function () {\n  this.head = this.tail = null;\n  this.length = 0;\n};\n\nBufferList.prototype.join = function (s) {\n  if (this.length === 0) return '';\n  var p = this.head;\n  var ret = '' + p.data;\n  while (p = p.next) {\n    ret += s + p.data;\n  }return ret;\n};\n\nBufferList.prototype.concat = function (n) {\n  if (this.length === 0) return bufferShim.alloc(0);\n  if (this.length === 1) return this.head.data;\n  var ret = bufferShim.allocUnsafe(n >>> 0);\n  var p = this.head;\n  var i = 0;\n  while (p) {\n    p.data.copy(ret, i);\n    i += p.data.length;\n    p = p.next;\n  }\n  return ret;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/lib/internal/streams/BufferList.js\n// module id = 52\n// module chunks = 4","// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar processNextTick = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nvar keys = objectKeys(Writable.prototype);\nfor (var v = 0; v < keys.length; v++) {\n  var method = keys[v];\n  if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  processNextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/lib/_stream_duplex.js\n// module id = 53\n// module chunks = 4","// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar processNextTick = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : processNextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream;\n(function () {\n  try {\n    Stream = require('st' + 'ream');\n  } catch (_) {} finally {\n    if (!Stream) Stream = require('events').EventEmitter;\n  }\n})();\n/*</replacement>*/\n\nvar Buffer = require('buffer').Buffer;\n/*<replacement>*/\nvar bufferShim = require('buffer-shims');\n/*</replacement>*/\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = hwm || hwm === 0 ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~ ~this.highWaterMark;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  processNextTick(cb, er);\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n  // Always throw error if a null is written\n  // if we are not in object mode then throw\n  // if it is not a buffer, string, or undefined.\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (!Buffer.isBuffer(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    processNextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = bufferShim.from(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n\n  if (Buffer.isBuffer(chunk)) encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = new WriteReq(chunk, encoding, cb);\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n  if (sync) processNextTick(cb, er);else cb(er);\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n        afterWrite(stream, state, finished, cb);\n      }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    while (entry) {\n      buffer[count] = entry;\n      entry = entry.next;\n      count += 1;\n    }\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequestCount = 0;\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else {\n      prefinish(stream, state);\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) processNextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n\n  this.finish = function (err) {\n    var entry = _this.entry;\n    _this.entry = null;\n    while (entry) {\n      var cb = entry.callback;\n      state.pendingcb--;\n      cb(err);\n      entry = entry.next;\n    }\n    if (state.corkedRequestsFree) {\n      state.corkedRequestsFree.next = _this;\n    } else {\n      state.corkedRequestsFree = _this;\n    }\n  };\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/lib/_stream_writable.js\n// module id = 54\n// module chunks = 4","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/~/util-deprecate/browser.js\n// module id = 55\n// module chunks = 4","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/string_decoder/index.js\n// module id = 56\n// module chunks = 4","// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction TransformState(stream) {\n  this.afterTransform = function (er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n  this.writeencoding = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data !== null && data !== undefined) stream.push(data);\n\n  cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(this);\n\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.once('prefinish', function () {\n    if (typeof this._flush === 'function') this._flush(function (er, data) {\n      done(stream, er, data);\n    });else done(stream);\n  });\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data !== null && data !== undefined) stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (ts.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/lib/_stream_transform.js\n// module id = 57\n// module chunks = 4","// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/lib/_stream_passthrough.js\n// module id = 58\n// module chunks = 4","module.exports = require(\"./lib/_stream_writable.js\")\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/writable.js\n// module id = 59\n// module chunks = 4","module.exports = require(\"./lib/_stream_duplex.js\")\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/duplex.js\n// module id = 60\n// module chunks = 4","module.exports = require(\"./lib/_stream_transform.js\")\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/transform.js\n// module id = 61\n// module chunks = 4","module.exports = require(\"./lib/_stream_passthrough.js\")\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/~/node-libs-browser/~/readable-stream/passthrough.js\n// module id = 62\n// module chunks = 4","var printf=require('printf');\r\n\r\nmodule.exports={\r\n    toCoinStr:function(coin) {\r\n        if (!coin) return '0';\r\n        if (coin>100000) return printf('%.2f万', coin/100000);\r\n        return coin.toString();\r\n    },\r\n    _noop:function(){}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./client/etc.js","var Loader = laya.net.Loader;\r\nvar Handler = laya.utils.Handler;\r\nvar me=require('./myself.js');\r\n\r\nclass Win extends fairygui.Window {\r\n\tconstructor(comName, packageName, closeHandler) {\r\n\t\tsuper();\r\n\t\tif (typeof packageName=='function') {closeHandler=packageName; packageName=null}\r\n\t\tthis.comName=comName;this.packageName=packageName||'majiang';\r\n\t\tthis.closeHandler=closeHandler;\r\n\t}\r\n\tonInit() {\r\n\t\tthis.contentPane = fairygui.UIPackage.createObject(this.packageName, this.comName).asCom;\r\n\t\tthis.assignAllBtns();\r\n\r\n\t\tthis.center();\r\n\t\t\r\n\t\t//弹出窗口的动效已中心为轴心\r\n\t\tthis.setPivot(0.5, 0.5);\r\n\r\n\t\tvar self=this;\r\n\t\tvar cls=this.contentPane.getChild('closeButton')||this.contentPane.getChild('close');\r\n\t\tif (cls instanceof fairygui.GButton) cls.asButton.onClick(this, function() {\r\n\t\t\tthis.hide();\r\n\t\t\tif (typeof self.closeHandler=='function') self.closeHandler();\r\n\t\t})\r\n\r\n\t\tvar bg=this.contentPane.getChildAt(0);\r\n\t\tif (bg instanceof fairygui.GGraph) {\r\n\t\t\tbg.onClick(this, function() {\r\n\t\t\t\tthis.hide();\r\n\t\t\t\tif (typeof self.closeHandler=='function') self.closeHandler();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\tdoShowAnimation()\r\n\t{\r\n\t\tthis.alpha=0.42;\r\n\t\tlaya.utils.Tween.to(this, { alpha:1 },300, laya.utils.Ease.quadOut, Handler.create(this, this.onShown));\r\n\t}\r\n\t\r\n\tdoHideAnimation()\r\n\t{\r\n\t\t//laya.utils.Tween.to(this, { alpha: 0.2 },180, laya.utils.Ease.quadOut, Handler.create(this, this.hideImmediately));\r\n\t\tthis.hideImmediately();\r\n\t}\r\n\tassignAllBtns() {\r\n\t\t'use strict';\r\n\t\tvar cl=this.contentPane._children;\r\n\t\tfor (var i=0; i<cl.length; i++) {\r\n\t\t\tvar btn=cl[i].asButton;\r\n\t\t\tif (btn instanceof fairygui.GButton) {\r\n\t\t\t\tlet _n=btn.name.split('.');\r\n\t\t\t\tlet _idx=_n[1]||1;\r\n\t\t\t\t_n=_n[0];\r\n\t\t\t\tlet ctrl=this.contentPane.getController(_n);\r\n\t\t\t\tif (ctrl) {\r\n\t\t\t\t\tbtn.onClick(this, function() {\r\n\t\t\t\t\t\tctrl.selectedIndex=_idx;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tctrl.setSelectedIndex(0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet com=fairygui.UIPackage.createObject('majiang', _n);\r\n\t\t\t\t\tif (com) {\r\n\t\t\t\t\t\tbtn.onClick(this, function() {\r\n\t\t\t\t\t\t\tvar candiName=capitalizeFirstLetter(_n)+'Win';\r\n\t\t\t\t\t\t\tif (wins[candiName]) {\r\n\t\t\t\t\t\t\t\tvar win =new wins[candiName];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse var win=new wins.Win(_n);\r\n\t\t\t\t\t\t\twin.show();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nclass CreateRoomWin extends Win {\r\n\tconstructor() {\r\n\t\tsuper('CreateRoom');\r\n\t}\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\t\r\n\t\tvar now=new Date();\r\n\t\tif (me.freeExpire>now) {\r\n\t\t\tthis.contentPane.getController('free').selectedIndex=1;\r\n\t\t\tvar freetime=me.freeExpire-now;\r\n\t\t\tvar tip=this.contentPane.getChild('n51');\r\n\t\t\tif (freetime>24*3600*1000) tip.text='免费'+Math.ceil(freetime/(24*3600*1000))+'天';\r\n\t\t\telse if (freetime>3600*1000) tip.text='免费'+Math.ceil(freetime/(3600*1000))+'小时';\r\n\t\t\telse tip.text='免费'+Math.ceil(freetime/(60*1000))+'分钟';\r\n\t\t} else {\r\n\t\t\tthis.contentPane.getController('free').selectedIndex=0;\r\n\t\t}\r\n\r\n\t\tthis.contentPane.getChild('n3').onClick(this, this.makeRoom);\r\n\t\tthis.contentPane.getChild('n46').onClick(this, this.makeRoom);\r\n\t\t\r\n\t\tvar pane=this.contentPane;\r\n\t\tvar mainctrl=this.contentPane.getController('optionCard');\r\n\t\tvar already_set={};\r\n\t\tfunction setDefault() {\r\n\t\t\tvar str=localStorage.getItem(mainctrl.selectedPage);\r\n\t\t\tif (!str) return;\r\n\t\t\tif (already_set[str]!=null) return;\r\n\t\t\talready_set[str]=1;\r\n\t\t\ttry{\r\n\t\t\t\tvar o=JSON.parse(str);\r\n\t\t\t}catch(e) {return console.log(str, e)}\r\n\t\t\tpane.getController('fangka').selectedPage=o.fangka.toString();\r\n\t\t\tpane.getController('dizhu').selectedPage=o.dizhu.toString();\r\n\t\t\tvar _m=[10, 7, 5, 4];\r\n\t\t\tfor (var i=15; i<19; i++) {\r\n\t\t\t\tpane.getChild('n'+i).asButton.selected=o.rule[_m[i-15]];\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetDefault();\r\n\t\tmainctrl.on('fui_state_changed', null, setDefault);\r\n\t}\r\n\tmakeRoom(type, opt) {\r\n\t\tvar pane=this.contentPane;\r\n\t\tvar type=pane.getController('optionCard').selectedPage;\r\n\t\tvar opt={\r\n\t\t\tfangka:Number(pane.getController('fangka').selectedPage),\r\n\t\t\trule:[],\r\n\t\t\tdizhu:Number(pane.getController('dizhu').selectedPage)\r\n\t\t}\r\n\t\tif (type==3) {\r\n\t\t\topt.pan=[, 30, 50][opt.fangka];\r\n\t\t}else opt.pan=[, 15, 30][opt.fangka];\r\n\t\tvar _m=[10, 7, 5, 4];\r\n\t\tfor (var i=15; i<19; i++) {\r\n\t\t\topt.rule[_m[i-15]]=pane.getChild('n'+i).asButton.selected;\r\n\t\t}\r\n\t\tlocalStorage.setItem(type, JSON.stringify(opt));\r\n\r\n\t\t_socket.sendp({c:'entergame',roomtype:type, opt:opt});\r\n\t\tthis.hide();\r\n\t}\r\n}\r\nvar JoinRoomWinInst=null;\r\nclass JoinRoomWin extends Win {\r\n\tconstructor() {\r\n\t\tsuper('joinRoom');\r\n\t}\r\n\tstatic arrToNum(arr) {\r\n\t\tvar x=0;\r\n\t\tfor (var i=0; i<arr.length; i++) {\r\n\t\t\tx=x*10+arr[i];\r\n\t\t}\r\n\t\treturn x;\r\n\t}\r\n\tstatic get inst() {\r\n\t\tif (JoinRoomWinInst) return JoinRoomWinInst;\r\n\t\tJoinRoomWinInst=new JoinRoomWin();\r\n\t\treturn JoinRoomWinInst;\r\n\t}\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tvar cont=this.contentPane;\r\n\t\tvar roomcode=[];\r\n\t\tthis.drawNum(roomcode);\r\n\t\tfor (var i=0; i<10; i++) {\r\n\t\t\tcont.getChild('btn'+i).onClick(this, function(num) {\r\n\t\t\t\tif (roomcode.length<5) {\r\n\t\t\t\t\troomcode.push(num);\r\n\t\t\t\t\tthis.drawNum(roomcode);\r\n\t\t\t\t\tif (roomcode.length==5) {\r\n\t\t\t\t\t\t_socket.sendp({c:'join', code:JoinRoomWin.arrToNum(roomcode)});\r\n\t\t\t\t\t\tthis.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, [i]);\r\n\t\t}\r\n\t\tcont.getChild('btnBck').onClick(this, function() {\r\n\t\t\troomcode.pop();\r\n\t\t\tthis.drawNum(roomcode);\r\n\t\t});\r\n\t\tcont.getChild('btnClr').onClick(this, function() {\r\n\t\t\troomcode=[];\r\n\t\t\tthis.drawNum(roomcode);\r\n\t\t});\r\n\t}\r\n\tdrawNum(arr) {\r\n\t\tvar cont=this.contentPane;\r\n\t\tfor (var i=0; i<arr.length; i++) {\r\n\t\t\tcont.getChild('num'+i).text=arr[i].toString();\r\n\t\t}\r\n\t\tfor (;i<5; i++) {\r\n\t\t\tcont.getChild('num'+i).text=' ';\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass TipWin extends Win {\r\n\tconstructor(str, opt) {\r\n\t\tsuper('过场板','majiang');\r\n\t\t// super('TIP');\r\n\t\tif (typeof str=='string') this._tip=str;\r\n\t\telse if (str instanceof Error) this._tip=str.message;\r\n\t\tif (opt) {\r\n\t\t\tif (opt instanceof Handler) {\r\n\t\t\t\tthis._opt={waitHandler:opt};\r\n\t\t\t} else this._opt=opt;\r\n\t\t}else this._opt={};\r\n\t}\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis._inited=true;\r\n\t\t// this.contentPane.getChild('n3').getChild('n1').text=(this._tip||'something wrong').toString();\r\n\t\t// this.contentPane.getTransition('t0').play();\r\n\t\tthis.contentPane.getChild('n76').text=(this._tip||'something wrong').toString();\r\n\t\t// if (this._pop) {\r\n\t\t// \tvar cb=this._pop.cb;\r\n\t\t// \tthis.contentPane.getTransition('t0').play(cb?Handler.create(null, cb):null);\r\n\t\t// }\r\n\t}\r\n\tpopup(cb) {\r\n\t\tvar self=this;\r\n\t\tthis.modal=true;\r\n\t\tthis.show();\r\n\t\t// setTimeout(function() {\r\n\t\t\t// self.hide();\r\n\t\t// },2000);\r\n\r\n\r\n\t\tvar trans_show=self.contentPane.getTransition('t0');//trans_hide=self.contentPane.getTransition('t1');\r\n\t\tthis.setXY((Laya.stage.desginWidth - this.contentPane.getChild('n76').textWidth)/2 -30,500);\r\n\t\tif (self._opt.waitHandler) {\r\n\t\t\ttrans_show.play(Handler.create(null, function() {\r\n\t\t\t\tcb &&cb();\r\n\t\t\t\tfairygui.GRoot.inst.getChildAt(1).onClick(null, function() {\r\n\t\t\t\t\tself.hide();\r\n\t\t\t\t\tif (typeof self._opt.waitHandler==='function') self._opt.waitHandler();\r\n\t\t\t\t\telse if (self._opt.waitHandler instanceof Handler) self._opt.waitHandler.run();\r\n\t\t\t\t});\t\t\t\r\n\t\t\t}));\r\n\t\t}else {\r\n\t\t\ttrans_show.play(Handler.create(null, function() {\r\n\t\t\t\tcb &&cb();\r\n\t\t\t\tfairygui.GRoot.inst.getChildAt(1).onClick(null,function() {\r\n\t\t\t\t\tself.hide();\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tself.hide();\r\n\t\t\t\t},1500);\r\n\t\t\t}));\r\n\t\t\t// trans_hide.play(Handler.create(null, function() {\r\n\t\t\t// \tself.hide();\r\n\t\t\t// \tcb &&cb();\r\n\t\t\t// }));\r\n\t\t}\r\n\t}\r\n\thide() {\r\n\t\tsuper.hide();\r\n\t\tthis.modal=false;\r\n\t}\r\n}\r\n\r\nvar wins={\r\n\tWin:Win,\r\n\tCreateRoomWin:CreateRoomWin,\r\n\tTipWin:TipWin,\r\n\tJoinRoomWin:JoinRoomWin\r\n};\r\nmodule.exports=wins;\n\n\n// WEBPACK FOOTER //\n// ./client/windows.js","module.exports = __webpack_public_path__ + \"bg-lobby.mp3?c6cc2921b41a2b3ddad15ea956d9e1f9\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/res/snd/bg-lobby.mp3\n// module id = 65\n// module chunks = 4","module.exports = __webpack_public_path__ + \"majiang@atlas0.png?fa8db6d70975a68c1f7e8aed7a62134f\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/res/majiang@atlas0.png\n// module id = 66\n// module chunks = 4","module.exports = __webpack_public_path__ + \"majiang.fui?49539d40ea935356182d1700276d61e5\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./client/res/majiang.fui\n// module id = 67\n// module chunks = 4","var cbs = [], \n\tdata;\nmodule.exports = function(cb) {\n\tif(cbs) cbs.push(cb);\n\telse cb(data);\n}\nrequire.ensure([], function(require) {\n\tdata = require(\"!!./../node_modules/babel-loader/lib/index.js?{\\\"presets\\\":[\\\"es2015\\\"]}!./wechat-login.js\");\n\tvar callbacks = cbs;\n\tcbs = null;\n\tfor(var i = 0, l = callbacks.length; i < l; i++) {\n\t\tcallbacks[i](data);\n\t}\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/bundle-loader!./client/wechat-login.js\n// module id = 68\n// module chunks = 4","var cbs = [], \n\tdata;\nmodule.exports = function(cb) {\n\tif(cbs) cbs.push(cb);\n\telse cb(data);\n}\nrequire.ensure([], function(require) {\n\tdata = require(\"!!./../node_modules/babel-loader/lib/index.js?{\\\"presets\\\":[\\\"es2015\\\"]}!./majiang.js\");\n\tvar callbacks = cbs;\n\tcbs = null;\n\tfor(var i = 0, l = callbacks.length; i < l; i++) {\n\t\tcallbacks[i](data);\n\t}\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/bundle-loader!./client/majiang.js\n// module id = 75\n// module chunks = 4"],"sourceRoot":""}